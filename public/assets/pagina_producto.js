(function(){function at(p,n){var s;p||(p={});for(s in n){p[s]=n[s]}return p}function bO(){for(var p=0,n=arguments,t=n.length,s={};p<t;p++){s[n[p++]]=n[p]}return s}function bi(p,n){return parseInt(p,n||10)}function by(n){return typeof n==="string"}function aJ(n){return typeof n==="object"}function j(n){return Object.prototype.toString.call(n)==="[object Array]"}function bP(n){return typeof n==="number"}function bc(n){return aZ.log(n)/aZ.LN10}function ax(n){return aZ.pow(10,n)}function bG(p,n){for(var s=p.length;s--;){if(p[s]===n){p.splice(s,1);break}}}function aq(n){return n!==ao&&n!==null}function bh(p,n,u){var t,s;if(by(n)){aq(u)?p.setAttribute(n,u):p&&p.getAttribute&&(s=p.getAttribute(n))}else{if(aq(n)&&aJ(n)){for(t in n){p.setAttribute(t,n[t])}}}return s}function aD(n){return j(n)?n:[n]}function au(){var p=arguments,n,t,s=p.length;for(n=0;n<s;n++){if(t=p[n],typeof t!=="undefined"&&t!==null){return t}}}function a5(p,n){if(bz&&n&&n.opacity!==ao){n.filter="alpha(opacity="+n.opacity*100+")"}at(p.style,n)}function aR(p,n,u,t,s){p=am.createElement(p);n&&at(p,n);s&&a5(p,{padding:0,border:aQ,margin:0});u&&a5(p,u);t&&t.appendChild(p);return p}function M(p,n){var s=function(){};s.prototype=new p;at(s.prototype,n);return s}function be(p,n,x,v){var u=aW.lang,t=p;n===-1?(n=(p||0).toString(),p=n.indexOf(".")>-1?n.split(".")[1].length:0):p=isNaN(n=aX(n))?2:n;var n=p,x=x===void 0?u.decimalPoint:x,v=v===void 0?u.thousandsSep:v,u=t<0?"-":"",p=String(bi(t=aX(+t||0).toFixed(n))),s=p.length>3?p.length%3:0;return u+(s?p.substr(0,s)+v:"")+p.substr(s).replace(/(\d{3})(?=\d)/g,"$1"+v)+(n?x+aX(t-p).toFixed(n).slice(2):"")}function bD(p,n){return Array((n||2)+1-String(p).length).join(0)+p}function a0(p,n,u,t){var s,u=au(u,1);s=p/u;n||(n=[1,2,2.5,5,10],t&&t.allowDecimals===!1&&(u===1?n=[1,2,5,10]:u<=0.1&&(n=[1/u])));for(t=0;t<n.length;t++){if(p=n[t],s<=(n[t]+(n[t+1]||n[t]))/2){break}}p*=u;return p}function bC(p,n){var x=n||[[bn,[1,2,5,10,20,25,50,100,200,500]],[ay,[1,2,5,10,15,30]],[bp,[1,2,5,10,15,30]],[aE,[1,2,3,4,6,8,12]],[ag,[1,2]],[aL,[1,2]],[ah,[1,2,3,4,6]],[bk,null]],v=x[x.length-1],u=bd[v[0]],t=v[1],s;for(s=0;s<x.length;s++){if(v=x[s],u=bd[v[0]],t=v[1],x[s+1]&&p<=(u*t[t.length-1]+bd[x[s+1][0]])/2){break}}u===bd[bk]&&p<5*u&&(t=[1,2,5]);u===bd[bk]&&p<5*u&&(t=[1,2,5]);x=a0(p/u,t);return{unitRange:u,count:x,unitName:v[0]}}function bl(E,D,C,B){var A=[],z={},x=aW.global.useUTC,v,u=new Date(D),D=E.unitRange,t=E.count;D>=bd[ay]&&(u.setMilliseconds(0),u.setSeconds(D>=bd[bp]?0:t*aO(u.getSeconds()/t)));if(D>=bd[bp]){u[bJ](D>=bd[aE]?0:t*aO(u[Q]()/t))}if(D>=bd[aE]){u[bt](D>=bd[ag]?0:t*aO(u[g]()/t))}if(D>=bd[ag]){u[bM](D>=bd[ah]?1:t*aO(u[o]()/t))}D>=bd[ah]&&(u[a2](D>=bd[bk]?0:t*aO(u[an]()/t)),v=u[I]());D>=bd[bk]&&(v-=v%t,u[az](v));if(D===bd[aL]){u[bM](u[o]()-u[bw]()+au(B,1))}B=1;v=u[I]();for(var s=u.getTime(),p=u[an](),n=u[o](),u=x?0:(86400000+u.getTimezoneOffset()*60000)%86400000;s<C;){A.push(s),D===bd[bk]?s=e(v+B*t,0):D===bd[ah]?s=e(v,p+B*t):!x&&(D===bd[ag]||D===bd[aL])?s=e(v,p,n+B*t*(D===bd[ag]?1:7)):(s+=D*t,D<=bd[aE]&&s%bd[ag]===u&&(z[s]=ag)),B++}A.push(s);A.info=at(E,{higherRanks:z,totalRange:D*t});return A}function ac(){this.symbol=this.color=0}function i(p,n){var u=p.length,t,s;for(s=0;s<u;s++){p[s].ss_i=s}p.sort(function(v,x){t=n(v,x);return t===0?v.ss_i-x.ss_i:t});for(s=0;s<u;s++){delete p[s].ss_i}}function bT(p){for(var n=p.length,s=p[0];n--;){p[n]<s&&(s=p[n])}return s}function bo(p){for(var n=p.length,s=p[0];n--;){p[n]>s&&(s=p[n])}return s}function bL(p,n){for(var s in p){p[s]&&p[s]!==n&&p[s].destroy&&p[s].destroy(),delete p[s]}}function bE(n){bI||(bI=aR(aA));n&&bI.appendChild(n);bI.innerHTML=""}function bg(p,n){var s="Highcharts error #"+p+": www.highcharts.com/errors/"+p;if(n){throw s}else{aY.console&&console.log(s)}}function ad(n){return parseFloat(n.toPrecision(14))}function aH(p,n){bm=au(p,n.animation)}function bN(){var p=aW.global.useUTC,n=p?"getUTC":"get",s=p?"setUTC":"set";e=p?Date.UTC:function(u,t,A,z,x,v){return(new Date(u,t,au(A,1),au(z,0),au(x,0),au(v,0))).getTime()};Q=n+"Minutes";g=n+"Hours";bw=n+"Day";o=n+"Date";an=n+"Month";I=n+"FullYear";bJ=s+"Minutes";bt=s+"Hours";bM=s+"Date";a2=s+"Month";az=s+"FullYear"}function ak(){}function aI(p,n,s){this.axis=p;this.pos=n;this.type=s||"";this.isNew=!0;s||this.addLabel()}function a7(p,n){this.axis=p;if(n){this.options=n,this.id=n.id}return this}function bx(p,n,v,u,t){var s=p.chart.inverted;this.axis=p;this.isNegative=v;this.options=n;this.x=u;this.stack=t;this.alignOptions={align:n.align||(s?v?"left":"right":"center"),verticalAlign:n.verticalAlign||(s?"middle":v?"bottom":"top"),y:au(n.y,s?4:v?14:-6),x:au(n.x,s?v?-6:6:0)};this.textAlign=n.textAlign||(s?v?"right":"left":"center")}function aB(){this.init.apply(this,arguments)}function ae(p,n){var u=n.borderWidth,t=n.style,s=bi(t.padding);this.chart=p;this.options=n;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=p.renderer.label("",0,0,n.shape,null,null,n.useHTML,null,"tooltip").attr({padding:s,fill:n.backgroundColor,"stroke-width":u,r:n.borderRadius,zIndex:8}).css(t).css({padding:0}).hide().add();bA||this.label.shadow(n.shadow);this.shared=n.shared}function k(p,n){var s=bA?"":n.chart.zoomType;this.zoomX=/x/.test(s);this.zoomY=/y/.test(s);this.options=n;this.chart=p;this.init(p,n.tooltip)}function bQ(n){this.init(n)}function bB(p,n){var u,t=p.series;p.series=null;u=bf(aW,p);u.series=p.series=t;var t=u.chart,s=t.margin,s=aJ(s)?s:[s,s,s,s];this.optionsMarginTop=au(t.marginTop,s[0]);this.optionsMarginRight=au(t.marginRight,s[1]);this.optionsMarginBottom=au(t.marginBottom,s[2]);this.optionsMarginLeft=au(t.marginLeft,s[3]);this.runChartClick=(s=t.events)&&!!s.click;this.callback=n;this.isResizing=0;this.options=u;this.axes=[];this.series=[];this.hasCartesianSeries=t.showAxes;this.init(s)}var ao,am=document,aY=window,aZ=Math,ar=aZ.round,aO=aZ.floor,w=aZ.ceil,ap=aZ.max,aU=aZ.min,aX=aZ.abs,aN=aZ.cos,br=aZ.sin,c=aZ.PI,bq=c*2/360,bv=navigator.userAgent,a9=aY.opera,bz=/msie/i.test(bv)&&!a9,al=am.documentMode===8,bj=/AppleWebKit/.test(bv),aT=/Firefox/.test(bv),bK=!!am.createElementNS&&!!am.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,aG=aT&&parseInt(bv.split("Firefox/")[1],10)<4,bA=!bK&&!bz&&!!am.createElement("canvas").getContext,y,bu=am.documentElement.ontouchstart!==ao,aC={},aF=0,bI,aW,av,bm,ai,bd,a3=function(){},aA="div",aQ="none",q="rgba(192,192,192,"+(bK?0.000001:0.002)+")",bn="millisecond",ay="second",bp="minute",aE="hour",ag="day",aL="week",ah="month",bk="year",e,Q,g,bw,o,an,I,bJ,bt,bM,a2,az,aV={};aY.Highcharts={};av=function(D,C,B){if(!aq(C)||isNaN(C)){return"Invalid date"}var D=au(D,"%Y-%m-%d %H:%M:%S"),A=new Date(C),z,x=A[g](),v=A[bw](),u=A[o](),t=A[an](),s=A[I](),p=aW.lang,n=p.weekdays,C={a:n[v].substr(0,3),A:n[v],d:bD(u),e:u,b:p.shortMonths[t],B:p.months[t],m:bD(t+1),y:s.toString().substr(2,2),Y:s,H:bD(x),I:bD(x%12||12),l:x%12||12,M:bD(A[Q]()),p:x<12?"AM":"PM",P:x<12?"am":"pm",S:bD(A.getSeconds()),L:bD(ar(C%1000),3)};for(z in C){D=D.replace("%"+z,C[z])}return B?D.substr(0,1).toUpperCase()+D.substr(1):D};ac.prototype={wrapColor:function(n){if(this.color>=n){this.color=0}},wrapSymbol:function(n){if(this.symbol>=n){this.symbol=0}}};bd=bO(bn,1,ay,1000,bp,60000,aE,3600000,ag,86400000,aL,604800000,ah,2592000000,bk,31556952000);ai={init:function(B,A,z){var A=A||"",x=B.shift,v=A.indexOf("C")>-1,u=v?7:3,t,A=A.split(" "),z=[].concat(z),s,p,n=function(C){for(t=C.length;t--;){C[t]==="M"&&C.splice(t+1,0,C[t+1],C[t+2],C[t+1],C[t+2])}};v&&(n(A),n(z));B.isArea&&(s=A.splice(A.length-6,6),p=z.splice(z.length-6,6));if(x<=z.length/u){for(;x--;){z=[].concat(z).splice(0,u).concat(z)}}B.shift=0;if(A.length){for(B=z.length;A.length<B;){x=[].concat(A).splice(A.length-u,u),v&&(x[u-6]=x[u-2],x[u-5]=x[u-1]),A=A.concat(x)}}s&&(A=A.concat(s),z=z.concat(p));return[A,z]},step:function(p,n,v,u){var t=[],s=p.length;if(v===1){t=u}else{if(s===n.length&&v<1){for(;s--;){u=parseFloat(p[s]),t[s]=isNaN(u)?p[s]:v*parseFloat(n[s]-u)+u}}else{t=n}}return t}};(function(n){aY.HighchartsAdapter=aY.HighchartsAdapter||n&&{init:function(p){var x=n.fx,v=x.step,u,t=n.Tween,s=t&&t.propHooks;n.extend(n.easing,{easeOutQuad:function(A,z,D,C,B){return -C*(z/=B)*(z-2)+D}});n.each(["cur","_default","width","height"],function(B,z){var D=v,C,A;z==="cur"?D=x.prototype:z==="_default"&&t&&(D=s[z],z="set");(C=D[z])&&(D[z]=function(E){E=B?E:this;A=E.elem;return A.attr?A.attr(E.prop,z==="cur"?ao:E.now):C.apply(this,arguments)})});u=function(z){var B=z.elem,A;if(!z.started){A=p.init(B,B.d,B.toD),z.start=A[0],z.end=A[1],z.started=!0}B.attr("d",p.step(z.start,z.end,z.pos,B.toD))};t?s.d={set:u}:v.d=u;this.each=Array.prototype.forEach?function(A,z){return Array.prototype.forEach.call(A,z)}:function(A,z){for(var C=0,B=A.length;C<B;C++){if(z.call(A[C],A[C],C,A)===!1){return C}}}},getScript:n.getScript,inArray:n.inArray,adapterRun:function(p,s){return n(p)[s]()},grep:n.grep,map:function(p,v){for(var u=[],t=0,s=p.length;t<s;t++){u[t]=v.call(p[t],p[t],t,p)}return u},merge:function(){var p=arguments;return n.extend(!0,null,p[0],p[1],p[2],p[3])},offset:function(p){return n(p).offset()},addEvent:function(p,t,s){n(p).bind(t,s)},removeEvent:function(p,u,t){var s=am.removeEventListener?"removeEventListener":"detachEvent";am[s]&&!p[s]&&(p[s]=function(){});n(p).unbind(u,t)},fireEvent:function(p,z,x,v){var u=n.Event(z),t="detached"+z,s;!bz&&x&&(delete x.layerX,delete x.layerY);at(u,x);p[z]&&(p[t]=p[z],p[z]=null);n.each(["preventDefault","stopPropagation"],function(B,A){var C=u[A];u[A]=function(){try{C.call(u)}catch(D){A==="preventDefault"&&(s=!0)}}});n(p).trigger(u);p[t]&&(p[z]=p[t],p[t]=null);v&&!u.isDefaultPrevented()&&!s&&v(u)},washMouseEvent:function(p){var s=p.originalEvent||p;s.pageX=p.pageX;s.pageY=p.pageY;return s},animate:function(p,u,t){var s=n(p);if(u.d){p.toD=u.d,u.d=1}s.stop();s.animate(u,t)},stop:function(p){n(p).stop()}}})(aY.jQuery);var aM=aY.HighchartsAdapter,a6=aM||{};aM&&aM.init.call(aM,ai);var J=a6.adapterRun,aj=a6.getScript,r=a6.inArray,aw=a6.each,af=a6.grep,b=a6.offset,d=a6.map,bf=a6.merge,a4=a6.addEvent,aP=a6.removeEvent,a8=a6.fireEvent,m=a6.washMouseEvent,a=a6.animate,f=a6.stop,a6={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};aW={colors:"#4572A7,#AA4643,#89A54E,#80699B,#3D96AE,#DB843D,#92A8CD,#A47D7C,#B5CA92".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.3.2/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/2.3.2/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:bf(a6,{enabled:!1,y:-6,formatter:function(){return this.y}}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:bA,snap:bu?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var aK=aW.plotOptions,aM=aK.line;bN();var l=function(p){var n=[],s;(function(t){(s=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(t))?n=[bi(s[1]),bi(s[2]),bi(s[3]),parseFloat(s[4],10)]:(s=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))&&(n=[bi(s[1],16),bi(s[2],16),bi(s[3],16),1])})(p);return{get:function(t){return n&&!isNaN(n[0])?t==="rgb"?"rgb("+n[0]+","+n[1]+","+n[2]+")":t==="a"?n[3]:"rgba("+n.join(",")+")":p},brighten:function(t){if(bP(t)&&t!==0){var u;for(u=0;u<3;u++){n[u]+=bi(t*255),n[u]<0&&(n[u]=0),n[u]>255&&(n[u]=255)}}return this},setOpacity:function(t){n[3]=t;return this}}};ak.prototype={init:function(p,n){this.element=n==="span"?aR(n):am.createElementNS("http://www.w3.org/2000/svg",n);this.renderer=p;this.attrSetters={}},animate:function(p,n,s){n=au(n,bm,!0);f(this);if(n){n=bf(n);if(s){n.complete=s}a(this,p,n)}else{this.attr(p),s&&s()}},attr:function(G,F){var E,D,C,B,A=this.element,z=A.nodeName,x=this.renderer,v,u=this.attrSetters,t=this.shadows,s,p,n=this;by(G)&&aq(F)&&(E=G,G={},G[E]=F);if(by(G)){E=G,z==="circle"?E={x:"cx",y:"cy"}[E]||E:E==="strokeWidth"&&(E="stroke-width"),n=bh(A,E)||this[E]||0,E!=="d"&&E!=="visibility"&&(n=parseFloat(n))}else{for(E in G){if(v=!1,D=G[E],C=u[E]&&u[E].call(this,D,E),C!==!1){C!==ao&&(D=C);if(E==="d"){D&&D.join&&(D=D.join(" ")),/(NaN| {2}|^$)/.test(D)&&(D="M 0 0")}else{if(E==="x"&&z==="text"){for(C=0;C<A.childNodes.length;C++){B=A.childNodes[C],bh(B,"x")===bh(A,"x")&&bh(B,"x",D)}this.rotation&&bh(A,"transform","rotate("+this.rotation+" "+D+" "+bi(G.y||bh(A,"y"))+")")}else{if(E==="fill"){D=x.color(D,A,E)}else{if(z==="circle"&&(E==="x"||E==="y")){E={x:"cx",y:"cy"}[E]||E}else{if(z==="rect"&&E==="r"){bh(A,{rx:D,ry:D}),v=!0}else{if(E==="translateX"||E==="translateY"||E==="rotation"||E==="verticalAlign"){v=p=!0}else{if(E==="stroke"){D=x.color(D,A,E)}else{if(E==="dashstyle"){if(E="stroke-dasharray",D=D&&D.toLowerCase(),D==="solid"){D=aQ}else{if(D){D=D.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(C=D.length;C--;){D[C]=bi(D[C])*G["stroke-width"]}D=D.join(",")}}}else{if(E==="isTracker"){this[E]=D}else{if(E==="width"){D=bi(D)}else{if(E==="align"){E="text-anchor",D={left:"start",center:"middle",right:"end"}[D]}else{if(E==="title"){C=A.getElementsByTagName("title")[0],C||(C=am.createElementNS("http://www.w3.org/2000/svg","title"),A.appendChild(C)),C.textContent=D}}}}}}}}}}}}E==="strokeWidth"&&(E="stroke-width");bj&&E==="stroke-width"&&D===0&&(D=0.000001);this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(E)&&(s||(this.symbolAttr(G),s=!0),v=!0);if(t&&/^(width|height|visibility|x|y|d|transform)$/.test(E)){for(C=t.length;C--;){bh(t[C],E,E==="height"?ap(D-(t[C].cutHeight||0),0):D)}}if((E==="width"||E==="height")&&z==="rect"&&D<0){D=0}this[E]=D;p&&this.updateTransform();E==="text"?(D!==this.textStr&&delete this.bBox,this.textStr=D,this.added&&x.buildText(this)):v||bh(A,E,D)}}}return n},symbolAttr:function(p){var n=this;aw("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(s){n[s]=au(p[s],n[s])});n.attr({d:n.renderer.symbols[n.symbolName](n.x,n.y,n.width,n.height,n)})},clip:function(n){return this.attr("clip-path",n?"url("+this.renderer.url+"#"+n.id+")":aQ)},crisp:function(A,z,x,v,u){var t,s={},p={},n,A=A||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;n=ar(A)%2/2;p.x=aO(z||this.x||0)+n;p.y=aO(x||this.y||0)+n;p.width=aO((v||this.width||0)-2*n);p.height=aO((u||this.height||0)-2*n);p.strokeWidth=A;for(t in p){this[t]!==p[t]&&(this[t]=s[t]=p[t])}return s},css:function(p){var n=this.element,n=p&&p.width&&n.nodeName==="text",u,t="",s=function(x,v){return"-"+v.toLowerCase()};if(p&&p.color){p.fill=p.color}this.styles=p=at(this.styles,p);if(bz&&!bK){n&&delete p.width,a5(this.element,p)}else{for(u in p){t+=u.replace(/([A-Z])/g,s)+":"+p[u]+";"}this.attr({style:t})}n&&this.added&&this.renderer.buildText(this);return this},on:function(p,n){var s=n;bu&&p==="click"&&(p="touchstart",s=function(t){t.preventDefault();n()});this.element["on"+p]=s;return this},setRadialReference:function(n){this.element.radialReference=n;return this},translate:function(p,n){return this.attr({translateX:p,translateY:n})},invert:function(){this.inverted=!0;this.updateTransform();return this},htmlCss:function(p){var n=this.element;if(n=p&&n.tagName==="SPAN"&&p.width){delete p.width,this.textWidth=n,this.updateTransform()}this.styles=at(this.styles,p);a5(this.element,p);return this},htmlGetBBox:function(){var p=this.element,n=this.bBox;if(!n){if(p.nodeName==="text"){p.style.position="absolute"}n=this.bBox={x:p.offsetLeft,y:p.offsetTop,width:p.offsetWidth,height:p.offsetHeight}}return n},htmlUpdateTransform:function(){if(this.added){var N=this.renderer,L=this.element,K=this.translateX||0,H=this.translateY||0,G=this.x||0,F=this.y||0,E=this.textAlign||"left",D={left:0,center:0.5,right:1}[E],C=E&&E!=="left",B=this.shadows;if(K||H){a5(L,{marginLeft:K,marginTop:H}),B&&aw(B,function(O){a5(O,{marginLeft:K+1,marginTop:H+1})})}this.inverted&&aw(L.childNodes,function(O){N.invertChild(O,L)});if(L.tagName==="SPAN"){var A,z,B=this.rotation,x,v=0,t=1,v=0,n;x=bi(this.textWidth);var u=this.xCorr||0,s=this.yCorr||0,p=[B,E,L.innerHTML,this.textWidth].join(",");A={};if(p!==this.cTT){if(aq(B)){N.isSVG?(u=bz?"-ms":bj?"-webkit":aT?"-moz":a9?"-o":"",A[u+"-transform"]=A.transform="rotate("+B+"deg)"):(v=B*bq,t=aN(v),v=br(v),A.filter=B?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-v,", M21=",v,", M22=",t,", sizingMethod='auto expand')"].join(""):aQ),a5(L,A)}A=au(this.elemWidth,L.offsetWidth);z=au(this.elemHeight,L.offsetHeight);A>x&&/[ \-]/.test(L.innerText)&&(a5(L,{width:x+"px",display:"block",whiteSpace:"normal"}),A=x);x=N.fontMetrics(L.style.fontSize).b;u=t<0&&-A;s=v<0&&-z;n=t*v<0;u+=v*x*(n?1-D:D);s-=t*x*(B?n?D:1-D:1);C&&(u-=A*D*(t<0?-1:1),B&&(s-=z*D*(v<0?-1:1)),a5(L,{textAlign:E}));this.xCorr=u;this.yCorr=s}a5(L,{left:G+u+"px",top:F+s+"px"});this.cTT=p}}else{this.alignOnAdd=!0}},updateTransform:function(){var p=this.translateX||0,n=this.translateY||0,u=this.inverted,t=this.rotation,s=[];u&&(p+=this.attr("width"),n+=this.attr("height"));(p||n)&&s.push("translate("+p+","+n+")");u?s.push("rotate(90) scale(-1,1)"):t&&s.push("rotate("+t+" "+(this.x||0)+" "+(this.y||0)+")");s.length&&bh(this.element,"transform",s.join(" "))},toFront:function(){var n=this.element;n.parentNode.appendChild(n);return this},align:function(p,n,z){p?(this.alignOptions=p,this.alignByTranslate=n,z||this.renderer.alignedObjects.push(this)):(p=this.alignOptions,n=this.alignByTranslate);var z=au(z,this.renderer),x=p.align,v=p.verticalAlign,u=(z.x||0)+(p.x||0),t=(z.y||0)+(p.y||0),s={};/^(right|center)$/.test(x)&&(u+=(z.width-(p.width||0))/{right:1,center:2}[x]);s[n?"translateX":"x"]=ar(u);/^(bottom|middle)$/.test(v)&&(t+=(z.height-(p.height||0))/({bottom:1,middle:2}[v]||1));s[n?"translateY":"y"]=ar(t);this[this.placed?"animate":"attr"](s);this.placed=!0;this.alignAttr=s;return this},getBBox:function(){var p=this.bBox,n=this.renderer,v,u=this.rotation;v=this.element;var t=u*bq;if(!p){if(v.namespaceURI==="http://www.w3.org/2000/svg"||n.forExport){try{p=v.getBBox?at({},v.getBBox()):{width:v.offsetWidth,height:v.offsetHeight}}catch(s){}if(!p||p.width<0){p={width:0,height:0}}}else{p=this.htmlGetBBox()}if(n.isSVG&&(n=p.width,v=p.height,u)){p.width=aX(v*br(t))+aX(n*aN(t)),p.height=aX(v*aN(t))+aX(n*br(t))}this.bBox=p}return p},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},add:function(p){var n=this.renderer,z=p||n,x=z.element||n.box,v=x.childNodes,u=this.element,t=bh(u,"zIndex"),s;if(p){this.parentGroup=p}this.parentInverted=p&&p.inverted;this.textStr!==void 0&&n.buildText(this);if(t){z.handleZ=!0,t=bi(t)}if(z.handleZ){for(z=0;z<v.length;z++){if(p=v[z],n=bh(p,"zIndex"),p!==u&&(bi(n)>t||!aq(t)&&aq(n))){x.insertBefore(u,p);s=!0;break}}}s||x.appendChild(u);this.added=!0;a8(this,"add");return this},safeRemoveChild:function(p){var n=p.parentNode;n&&n.removeChild(p)},destroy:function(){var p=this,n=p.element||{},v=p.shadows,u=p.box,t,s;n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=null;f(p);if(p.clipPath){p.clipPath=p.clipPath.destroy()}if(p.stops){for(s=0;s<p.stops.length;s++){p.stops[s]=p.stops[s].destroy()}p.stops=null}p.safeRemoveChild(n);v&&aw(v,function(x){p.safeRemoveChild(x)});u&&u.destroy();bG(p.renderer.alignedObjects,p);for(t in p){delete p[t]}return null},empty:function(){for(var p=this.element,n=p.childNodes,s=n.length;s--;){p.removeChild(n[s])}},shadow:function(C,B,A){var z=[],x,v,u=this.element,t,s,p,n;if(C){s=au(C.width,3);p=(C.opacity||0.15)/s;n=this.parentInverted?"(-1,-1)":"("+(C.offsetX||1)+", "+(C.offsetY||1)+")";for(x=1;x<=s;x++){v=u.cloneNode(0);t=s*2+1-2*x;bh(v,{isShadow:"true",stroke:C.color||"black","stroke-opacity":p*x,"stroke-width":t,transform:"translate"+n,fill:aQ});if(A){bh(v,"height",ap(bh(v,"height")-t,0)),v.cutHeight=t}B?B.element.appendChild(v):u.parentNode.insertBefore(v,u);z.push(v)}this.shadows=z}return this}};var bS=function(){this.init.apply(this,arguments)};bS.prototype={Element:ak,init:function(p,n,x,v){var u=location,t;t=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});p.appendChild(t.element);this.isSVG=!0;this.box=t.element;this.boxWrapper=t;this.alignedObjects=[];this.url=(aT||bj)&&am.getElementsByTagName("base").length?u.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.defs=this.createElement("defs").add();this.forExport=v;this.gradients={};this.setSize(n,x,!1);var s;if(aT&&p.getBoundingClientRect){this.subPixelFix=n=function(){a5(p,{left:0,top:0});s=p.getBoundingClientRect();a5(p,{left:w(s.left)-s.left+"px",top:w(s.top)-s.top+"px"})},n(),a4(aY,"resize",n)}},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();bL(this.gradients||{});this.gradients=null;if(n){this.defs=n.destroy()}this.subPixelFix&&aP(aY,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(p){var n=new this.Element;n.init(this,p);return n},draw:function(){},buildText:function(D){for(var C=D.element,B=au(D.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),A=C.childNodes,z=/style="([^"]+)"/,x=/href="([^"]+)"/,v=bh(C,"x"),u=D.styles,t=u&&bi(u.width),s=u&&u.lineHeight,p,u=A.length,n=[];u--;){C.removeChild(A[u])}t&&!D.added&&this.box.appendChild(C);B[B.length-1]===""&&B.pop();aw(B,function(K,H){var F,E=0,G,K=K.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");F=K.split("|||");aw(F,function(R){if(R!==""||F.length===1){var L={},O=am.createElementNS("http://www.w3.org/2000/svg","tspan");z.test(R)&&bh(O,"style",R.match(z)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));x.test(R)&&(bh(O,"onclick",'location.href="'+R.match(x)[1]+'"'),a5(O,{cursor:"pointer"}));R=(R.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");O.appendChild(am.createTextNode(R));E?L.dx=3:L.x=v;if(!E){if(H){!bK&&D.renderer.forExport&&a5(O,{display:"block"});G=aY.getComputedStyle&&bi(aY.getComputedStyle(p,null).getPropertyValue("line-height"));if(!G||isNaN(G)){var P;if(!(P=s)){if(!(P=p.offsetHeight)){n[H]=C.getBBox?C.getBBox().height:D.renderer.fontMetrics(C.style.fontSize).h,P=ar(n[H]-(n[H-1]||0))||18}}G=P}bh(O,"dy",G)}p=O}bh(O,L);C.appendChild(O);E++;if(t){for(var R=R.replace(/-/g,"- ").split(" "),N=[];R.length||N.length;){delete D.bBox,P=D.getBBox().width,L=P>t,!L||R.length===1?(R=N,N=[],R.length&&(O=am.createElementNS("http://www.w3.org/2000/svg","tspan"),bh(O,{dy:s||16,x:v}),C.appendChild(O),P>t&&(t=P))):(O.removeChild(O.firstChild),N.unshift(R.pop())),R.length&&O.appendChild(am.createTextNode(R.join(" ").replace(/- /g,"-")))}}}})})},button:function(F,E,D,C,B,A,z){var x=this.label(F,E,D),v=0,u,t,s,p,n,F={x1:0,y1:0,x2:0,y2:1},B=bf(bO("stroke-width",1,"stroke","#999","fill",bO("linearGradient",F,"stops",[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,"style",bO("color","black")),B);s=B.style;delete B.style;A=bf(B,bO("stroke","#68A","fill",bO("linearGradient",F,"stops",[[0,"#FFF"],[1,"#ACF"]])),A);p=A.style;delete A.style;z=bf(B,bO("stroke","#68A","fill",bO("linearGradient",F,"stops",[[0,"#9BD"],[1,"#CDF"]])),z);n=z.style;delete z.style;a4(x.element,"mouseenter",function(){x.attr(A).css(p)});a4(x.element,"mouseleave",function(){u=[B,A,z][v];t=[s,p,n][v];x.attr(u).css(t)});x.setState=function(G){(v=G)?G===2&&x.attr(z).css(n):x.attr(B).css(s)};return x.on("click",function(){C.call(x)}).attr(B).css(at({cursor:"default"},s))},crispLine:function(p,n){p[1]===p[4]&&(p[1]=p[4]=ar(p[1])-n%2/2);p[2]===p[5]&&(p[2]=p[5]=ar(p[2])+n%2/2);return p},path:function(p){var n={fill:aQ};j(p)?n.d=p:aJ(p)&&at(n,p);return this.createElement("path").attr(n)},circle:function(p,n,s){p=aJ(p)?p:{x:p,y:n,r:s};return this.createElement("circle").attr(p)},arc:function(p,n,v,u,t,s){if(aJ(p)){n=p.y,v=p.r,u=p.innerR,t=p.start,s=p.end,p=p.x}return this.symbol("arc",p||0,n||0,v||0,v||0,{innerR:u||0,start:t||0,end:s||0})},rect:function(p,n,v,u,t,s){t=aJ(p)?p.r:t;t=this.createElement("rect").attr({rx:t,ry:t,fill:aQ});return t.attr(aJ(p)?p:t.crisp(s,p,n,ap(v,0),ap(u,0)))},setSize:function(p,n,u){var t=this.alignedObjects,s=t.length;this.width=p;this.height=n;for(this.boxWrapper[au(u,!0)?"animate":"attr"]({width:p,height:n});s--;){t[s].align()}},g:function(p){var n=this.createElement("g");return aq(p)?n.attr({"class":"highcharts-"+p}):n},image:function(p,n,v,u,t){var s={preserveAspectRatio:aQ};arguments.length>1&&at(s,{x:n,y:v,width:u,height:t});s=this.createElement("image").attr(s);s.element.setAttributeNS?s.element.setAttributeNS("http://www.w3.org/1999/xlink","href",p):s.element.setAttribute("hc-svg-href",p);return s},symbol:function(C,B,A,z,x,v){var u,t=this.symbols[C],t=t&&t(ar(B),ar(A),z,x,v),s=/^url\((.*?)\)$/,p,n;t?(u=this.path(t),at(u,{symbolName:C,x:B,y:A,width:z,height:x}),v&&at(u,v)):s.test(C)&&(n=function(E,D){E.attr({width:D[0],height:D[1]});E.alignByTranslate||E.translate(-ar(D[0]/2),-ar(D[1]/2))},p=C.match(s)[1],C=aC[p],u=this.image(p).attr({x:B,y:A}),C?n(u,C):(u.attr({width:0,height:0}),aR("img",{onload:function(){n(u,aC[p]=[this.width,this.height])},src:p})));return u},symbols:{circle:function(p,n,u,t){var s=0.166*u;return["M",p+u/2,n,"C",p+u+s,n,p+u+s,n+t,p+u/2,n+t,"C",p-s,n+t,p-s,n,p+u/2,n,"Z"]},square:function(p,n,t,s){return["M",p,n,"L",p+t,n,p+t,n+s,p,n+s,"Z"]},triangle:function(p,n,t,s){return["M",p+t/2,n,"L",p+t,n+s,p,n+s,"Z"]},"triangle-down":function(p,n,t,s){return["M",p,n,"L",p+t,n,p+t/2,n+s,"Z"]},diamond:function(p,n,t,s){return["M",p+t/2,n,"L",p+t,n+s/2,p+t/2,n+s,p,n+s/2,"Z"]},arc:function(C,B,A,z,x){var v=x.start,A=x.r||A||z,u=x.end-0.000001,z=x.innerR,t=x.open,s=aN(v),p=br(v),n=aN(u),u=br(u),x=x.end-v<c?0:1;return["M",C+A*s,B+A*p,"A",A,A,0,x,1,C+A*n,B+A*u,t?"M":"L",C+z*n,B+z*u,"A",z,z,0,x,0,C+z*s,B+z*p,t?"":"Z"]}},clipRect:function(p,n,v,u){var t="highcharts-"+aF++,s=this.createElement("clipPath").attr({id:t}).add(this.defs),p=this.rect(p,n,v,u,0).add(s);p.id=t;p.clipPath=s;return p},color:function(C,B,A){var z=this,x,v=/^rgba/,u;C&&C.linearGradient?u="linearGradient":C&&C.radialGradient&&(u="radialGradient");if(u){var A=C[u],t=z.gradients,s,p,n,B=B.radialReference;if(!A.id||!t[A.id]){j(A)&&(C[u]=A={x1:A[0],y1:A[1],x2:A[2],y2:A[3],gradientUnits:"userSpaceOnUse"}),u==="radialGradient"&&B&&!aq(A.gradientUnits)&&at(A,{cx:B[0]-B[2]/2+A.cx*B[2],cy:B[1]-B[2]/2+A.cy*B[2],r:A.r*B[2],gradientUnits:"userSpaceOnUse"}),A.id="highcharts-"+aF++,t[A.id]=s=z.createElement(u).attr(A).add(z.defs),s.stops=[],aw(C.stops,function(D){v.test(D[1])?(x=l(D[1]),p=x.get("rgb"),n=x.get("a")):(p=D[1],n=1);D=z.createElement("stop").attr({offset:D[0],"stop-color":p,"stop-opacity":n}).add(s);s.stops.push(D)})}return"url("+z.url+"#"+A.id+")"}else{return v.test(C)?(x=l(C),bh(B,A+"-opacity",x.get("a")),x.get("rgb")):(B.removeAttribute(A+"-opacity"),C)}},text:function(p,n,u,t){var s=aW.chart.style;if(t&&!this.forExport){return this.html(p,n,u)}n=ar(au(n,0));u=ar(au(u,0));p=this.createElement("text").attr({x:n,y:u,text:p}).css({fontFamily:s.fontFamily,fontSize:s.fontSize});!bK&&this.forExport&&p.css({position:"absolute"});p.x=n;p.y=u;return p},html:function(p,n,z){var x=aW.chart.style,v=this.createElement("span"),u=v.attrSetters,t=v.element,s=v.renderer;u.text=function(A){A!==t.innerHTML&&delete this.bBox;t.innerHTML=A;return !1};u.x=u.y=u.align=function(B,A){A==="align"&&(A="textAlign");v[A]=B;v.htmlUpdateTransform();return !1};v.attr({text:p,x:ar(n),y:ar(z)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:x.fontFamily,fontSize:x.fontSize});v.css=v.htmlCss;if(s.isSVG){v.add=function(B){var A,D=s.box.parentNode,C=[];if(B){if(A=B.div,!A){for(;B;){C.push(B),B=B.parentGroup}aw(C.reverse(),function(E){var F;A=E.div=E.div||aR(aA,{className:bh(E.element,"class")},{position:"absolute",left:(E.translateX||0)+"px",top:(E.translateY||0)+"px"},A||D);F=A.style;at(E.attrSetters,{translateX:function(G){F.left=G+"px"},translateY:function(G){F.top=G+"px"},visibility:function(H,G){F[G]=H}})})}}else{A=D}A.appendChild(t);v.added=!0;v.alignOnAdd&&v.htmlUpdateTransform();return v}}return v},fontMetrics:function(p){var p=bi(p||11),p=p<24?p+4:ar(p*1.2),n=ar(p*0.8);return{h:p,b:n}},label:function(Y,X,W,V,U,T,S,R,P){function O(){var v=H.styles,v=v&&v.textAlign,p=t*(1-z),Z;Z=R?0:u;if(aq(n)&&(v==="center"||v==="right")){p+={center:0.5,right:1}[v]*(n-E.width)}(p!==D.x||Z!==D.y)&&D.attr({x:p,y:Z});D.x=p;D.y=Z}function N(v,p){F?F.attr(v,p):G[v]=p}function L(){D.add(H);H.attr({text:Y,x:X,y:W});aq(U)&&H.attr({anchorX:U,anchorY:T})}var K=this,H=K.g(P),D=K.text("",0,0,S).attr({zIndex:1}),F,E,z=0,t=3,n,B,A,x,s=0,G={},u,S=H.attrSetters;a4(H,"add",L);S.width=function(p){n=p;return !1};S.height=function(p){B=p;return !1};S.padding=function(p){aq(p)&&p!==t&&(t=p,O());return !1};S.align=function(p){z={left:0,center:0.5,right:1}[p];return !1};S.text=function(v,p){D.attr(p,v);var Z;Z=D.element.style;E=(n===void 0||B===void 0||H.styles.textAlign)&&D.getBBox();H.width=(n||E.width||0)+2*t;H.height=(B||E.height||0)+2*t;u=t+K.fontMetrics(Z&&Z.fontSize).b;if(!F){Z=R?-u:0,H.box=F=V?K.symbol(V,-z*t,Z,H.width,H.height):K.rect(-z*t,Z,H.width,H.height,0,G["stroke-width"]),F.add(H)}F.attr(bf({width:H.width,height:H.height},G));G=null;O();return !1};S["stroke-width"]=function(v,p){s=v%2/2;N(p,v);return !1};S.stroke=S.fill=S.r=function(v,p){N(p,v);return !1};S.anchorX=function(v,p){U=v;N(p,v+s-A);return !1};S.anchorY=function(v,p){T=v;N(p,v-x);return !1};S.x=function(p){H.x=p;p-=z*((n||E.width)+t);A=ar(p);H.attr("translateX",A);return !1};S.y=function(p){x=H.y=ar(p);H.attr("translateY",p);return !1};var C=H.css;return at(H,{css:function(v){if(v){var p={},v=bf({},v);aw("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(Z){v[Z]!==ao&&(p[Z]=v[Z],delete v[Z])});D.css(p)}return C.call(H,v)},getBBox:function(){return F.getBBox()},shadow:function(p){F.shadow(p);return H},destroy:function(){aP(H,"add",L);aP(H.element,"mouseenter");aP(H.element,"mouseleave");D&&(D=D.destroy());ak.prototype.destroy.call(H)}})}};y=bS;var h;if(!bK&&!bA){h={init:function(p,n){var t=["<",n,' filled="f" stroked="f"'],s=["position: ","absolute",";"];(n==="shape"||n===aA)&&s.push("left:0;top:0;width:1px;height:1px;");al&&s.push("visibility: ",n===aA?"hidden":"visible");t.push(' style="',s.join(""),'"/>');if(n){t=n===aA||n==="span"||n==="img"?t.join(""):p.prepVML(t),this.element=aR(t)}this.renderer=p;this.attrSetters={}},add:function(p){var n=this.renderer,t=this.element,s=n.box,s=p?p.element||p:s;p&&p.inverted&&n.invertChild(t,s);s.appendChild(t);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();a8(this,"add");return this},updateTransform:ak.prototype.htmlUpdateTransform,attr:function(G,F){var E,D,C,B=this.element||{},A=B.style,z=B.nodeName,x=this.renderer,v=this.symbolName,u,t=this.shadows,s,p=this.attrSetters,n=this;by(G)&&aq(F)&&(E=G,G={},G[E]=F);if(by(G)){E=G,n=E==="strokeWidth"||E==="stroke-width"?this.strokeweight:this[E]}else{for(E in G){if(D=G[E],s=!1,C=p[E]&&p[E].call(this,D,E),C!==!1&&D!==null){C!==ao&&(D=C);if(v&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(E)){u||(this.symbolAttr(G),u=!0),s=!0}else{if(E==="d"){D=D||[];this.d=D.join(" ");C=D.length;for(s=[];C--;){s[C]=bP(D[C])?ar(D[C]*10)-5:D[C]==="Z"?"x":D[C]}D=s.join(" ")||"x";B.path=D;if(t){for(C=t.length;C--;){t[C].path=t[C].cutOff?this.cutOffPath(D,t[C].cutOff):D}}s=!0}else{if(E==="visibility"){if(t){for(C=t.length;C--;){t[C].style[E]=D}}z==="DIV"&&(D=D==="hidden"?"-999em":0,E="top");A[E]=D;s=!0}else{if(E==="zIndex"){D&&(A[E]=D),s=!0}else{if(E==="width"||E==="height"){D=ap(0,D),this[E]=D,this.updateClipping?(this[E]=D,this.updateClipping()):A[E]=D,s=!0}else{if(E==="x"||E==="y"){this[E]=D,A[{x:"left",y:"top"}[E]]=D}else{if(E==="class"){B.className=D}else{if(E==="stroke"){D=x.color(D,B,E),E="strokecolor"}else{if(E==="stroke-width"||E==="strokeWidth"){B.stroked=D?!0:!1,E="strokeweight",this[E]=D,bP(D)&&(D+="px")}else{if(E==="dashstyle"){(B.getElementsByTagName("stroke")[0]||aR(x.prepVML(["<stroke/>"]),null,null,B))[E]=D||"solid",this.dashstyle=D,s=!0}else{if(E==="fill"){z==="SPAN"?A.color=D:(B.filled=D!==aQ?!0:!1,D=x.color(D,B,E,this),E="fillcolor")}else{if(z==="shape"&&E==="rotation"){this[E]=D,B.style.left=-ar(br(D*bq)+1)+"px",B.style.top=ar(aN(D*bq))+"px"}else{if(E==="translateX"||E==="translateY"||E==="rotation"){this[E]=D,this.updateTransform(),s=!0}else{if(E==="text"){this.bBox=null,B.innerHTML=D,s=!0}}}}}}}}}}}}}}s||(al?B[E]=D:bh(B,E,D))}}}return n},clip:function(p){var n=this,u,t=n.element,s=t.parentNode;p?(u=p.members,u.push(n),n.destroyClip=function(){bG(u,n)},s&&s.className==="highcharts-tracker"&&!al&&a5(t,{visibility:"hidden"}),p=p.getCSS(n)):(n.destroyClip&&n.destroyClip(),p={clip:al?"inherit":"rect(auto)"});return n.css(p)},css:ak.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&bE(n)},destroy:function(){this.destroyClip&&this.destroyClip();return ak.prototype.destroy.apply(this)},empty:function(){for(var p=this.element.childNodes,n=p.length,s;n--;){s=p[n],s.parentNode.removeChild(s)}},on:function(p,n){this.element["on"+p]=function(){var s=aY.event;s.target=s.srcElement;n(s)};return this},cutOffPath:function(p,n){var s,p=p.split(/[ ,]/);s=p.length;if(s===9||s===11){p[s-4]=p[s-2]=bi(p[s-2])-10*n}return p.join(" ")},shadow:function(G,F,E){var D=[],C,B=this.element,A=this.renderer,z,x=B.style,v,u=B.path,t,s,p,n;u&&typeof u.value!=="string"&&(u="x");s=u;if(G){p=au(G.width,3);n=(G.opacity||0.15)/p;for(C=1;C<=3;C++){t=p*2+1-2*C;E&&(s=this.cutOffPath(u.value,t+0.5));v=['<shape isShadow="true" strokeweight="',t,'" filled="false" path="',s,'" coordsize="10 10" style="',B.style.cssText,'" />'];z=aR(A.prepVML(v),null,{left:bi(x.left)+(G.offsetX||1),top:bi(x.top)+(G.offsetY||1)});if(E){z.cutOff=t+1}v=['<stroke color="',G.color||"black",'" opacity="',n*C,'"/>'];aR(A.prepVML(v),null,null,z);F?F.element.appendChild(z):B.parentNode.insertBefore(z,B);D.push(z)}this.shadows=D}return this}};h=M(ak,h);var a1={Element:h,isIE8:bv.indexOf("MSIE 8.0")>-1,init:function(p,n,u){var t,s;this.alignedObjects=[];t=this.createElement(aA);s=t.element;s.style.position="relative";p.appendChild(t.element);this.box=s;this.boxWrapper=t;this.setSize(n,u,!1);if(!am.namespaces.hcv){am.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),am.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(p,n,v,u){var t=this.createElement(),s=aJ(p);return at(t,{members:[],left:s?p.x:p,top:s?p.y:n,width:s?p.width:v,height:s?p.height:u,getCSS:function(z){var x=z.inverted,D=this.top,C=this.left,B=C+this.width,A=D+this.height,D={clip:"rect("+ar(x?C:D)+"px,"+ar(x?A:B)+"px,"+ar(x?B:A)+"px,"+ar(x?D:C)+"px)"};!x&&al&&z.element.nodeName!=="IMG"&&at(D,{width:B+"px",height:A+"px"});return D},updateClipping:function(){aw(t.members,function(x){x.css(t.getCSS(x))})}})},color:function(bb,ba,ab,aa){var Z=this,Y,X=/^rgba/,W,V,U=aQ;bb&&bb.linearGradient?V="gradient":bb&&bb.radialGradient&&(V="pattern");if(V){var T,S,R=bb.linearGradient||bb.radialGradient,P,L,O,N,B,z="",bb=bb.stops,G,E=[],D=function(){W=['<fill colors="'+E.join(",")+'" opacity="',O,'" o:opacity2="',L,'" type="',V,'" ',z,'focus="100%" method="any" />'];aR(Z.prepVML(W),null,null,ba)};P=bb[0];G=bb[bb.length-1];P[0]>0&&bb.unshift([0,P[1]]);G[0]<1&&bb.push([1,G[1]]);aw(bb,function(s,p){X.test(s[1])?(Y=l(s[1]),T=Y.get("rgb"),S=Y.get("a")):(T=s[1],S=1);E.push(s[0]*100+"% "+T);p?(O=S,N=T):(L=S,B=T)});if(ab==="fill"){if(V==="gradient"){ab=R.x1||R[0]||0,bb=R.y1||R[1]||0,P=R.x2||R[2]||0,R=R.y2||R[3]||0,z='angle="'+(90-aZ.atan((R-bb)/(P-ab))*180/c)+'"',D()}else{var U=R.r,A=U*2,n=U*2,H=R.cx,K=R.cy,F=ba.radialReference,C,U=function(){F&&(C=aa.getBBox(),H+=(F[0]-C.x)/C.width-0.5,K+=(F[1]-C.y)/C.height-0.5,A*=F[2]/C.width,n*=F[2]/C.height);z='src="'+aW.global.VMLRadialGradientURL+'" size="'+A+","+n+'" origin="0.5,0.5" position="'+H+","+K+'" color2="'+B+'" ';D()};aa.added?U():a4(aa,"add",U);U=N}}else{U=T}}else{if(X.test(bb)&&ba.tagName!=="IMG"){Y=l(bb),W=["<",ab,' opacity="',Y.get("a"),'"/>'],aR(this.prepVML(W),null,null,ba),U=Y.get("rgb")}else{U=ba.getElementsByTagName(ab);if(U.length){U[0].opacity=1}U=bb}}return U},prepVML:function(p){var n=this.isIE8,p=p.join("");n?(p=p.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),p=p.indexOf('style="')===-1?p.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):p.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):p=p.replace("<","<hcv:");return p},text:bS.prototype.html,path:function(p){var n={coordsize:"10 10"};j(p)?n.d=p:aJ(p)&&at(n,p);return this.createElement("shape").attr(n)},circle:function(p,n,s){return this.symbol("circle").attr({x:p-s,y:n-s,width:2*s,height:2*s})},g:function(p){var n;p&&(n={className:"highcharts-"+p,"class":"highcharts-"+p});return this.createElement(aA).attr(n)},image:function(p,n,v,u,t){var s=this.createElement("img").attr({src:p});arguments.length>1&&s.css({left:n,top:v,width:u,height:t});return s},rect:function(p,n,x,v,u,t){if(aJ(p)){n=p.y,x=p.width,v=p.height,t=p.strokeWidth,p=p.x}var s=this.symbol("rect");s.r=u;return s.attr(s.crisp(t,p,n,ap(x,0),ap(v,0)))},invertChild:function(p,n){var s=n.style;a5(p,{flip:"x",left:bi(s.width)-1,top:bi(s.height)-1,rotation:-90})},symbols:{arc:function(E,D,C,B,A){var z=A.start,x=A.end,v=A.r||C||B,C=aN(z),B=br(z),u=aN(x),t=br(x),s=A.innerR,p=0.08/v,n=s&&0.1/s||0;if(x-z===0){return["x"]}else{2*c-x+z<p?u=-p:x-z<n&&(u=aN(z+n))}z=["wa",E-v,D-v,E+v,D+v,E+v*C,D+v*B,E+v*u,D+v*t];A.open&&!s&&z.push("e","M",E,D);z.push("at",E-s,D-s,E+s,D+s,E+s*u,D+s*t,E+s*C,D+s*B,"x","e");return z},circle:function(p,n,t,s){return["wa",p,n,p+t,n+s,p+t,n+s/2,p+t,n+s/2,"e"]},rect:function(p,n,z,x,v){var u=p+z,t=n+x,s;!aq(v)||!v.r?u=bS.prototype.symbols.square.apply(0,arguments):(s=aU(v.r,z,x),u=["M",p+s,n,"L",u-s,n,"wa",u-2*s,n,u,n+2*s,u-s,n,u,n+s,"L",u,t-s,"wa",u-2*s,t-2*s,u,t,u,t-s,u-s,t,"L",p+s,t,"wa",p,t-2*s,p+2*s,t,p+s,t,p,t-s,"L",p,n+s,"wa",p,n,p+2*s,n+2*s,p,n+s,p+s,n,"x","e"]);return u}}};h=function(){this.init.apply(this,arguments)};h.prototype=bf(bS.prototype,a1);y=h}var bs,bR;if(bA){bs=function(){},bs.prototype.symbols={},bR=function(){function p(){var s=n.length,t;for(t=0;t<s;t++){n[t]()}n=[]}var n=[];return{push:function(t,s){n.length===0&&aj(s,p);n.push(t)}}}()}y=h||bs||bS;aI.prototype={addLabel:function(){var D=this.axis,C=D.options,B=D.chart,A=D.horiz,z=D.categories,x=this.pos,v=C.labels,u=D.tickPositions,A=z&&A&&z.length&&!v.step&&!v.staggerLines&&!v.rotation&&B.plotWidth/u.length||!A&&B.plotWidth/2,t=x===u[0],s=x===u[u.length-1],p=z&&aq(z[x])?z[x]:x,z=this.label,u=u.info,n;D.isDatetimeAxis&&u&&(n=C.dateTimeLabelFormats[u.higherRanks[x]||u.unitName]);this.isFirst=t;this.isLast=s;C=D.labelFormatter.call({axis:D,chart:B,isFirst:t,isLast:s,dateTimeLabelFormat:n,value:D.isLog?ad(ax(p)):p});x=A&&{width:ap(1,ar(A-2*(v.padding||10)))+"px"};x=at(x,v.style);if(aq(z)){z&&z.attr({text:C}).css(x)}else{A={align:v.align};if(bP(v.rotation)){A.rotation=v.rotation}this.label=aq(C)&&v.enabled?B.renderer.text(C,0,0,v.useHTML).attr(A).css(x).add(D.labelGroup):null}},getLabelSize:function(){var p=this.label,n=this.axis;return p?(this.labelBBox=p.getBBox())[n.horiz?"height":"width"]:0},getLabelSides:function(){var p=this.axis.options.labels,n=this.labelBBox.width,p=n*{left:0,center:0.5,right:1}[p.align]-p.x;return[-p,n-p]},handleOverflow:function(E,D){var C=!0,B=this.axis,A=B.chart,z=this.isFirst,x=this.isLast,v=D.x,u=B.reversed,t=B.tickPositions;if(z||x){var s=this.getLabelSides(),p=s[0],s=s[1],A=A.plotLeft,n=A+B.len,t=(B=B.ticks[t[E+(z?1:-1)]])&&B.label.xy&&B.label.xy.x+B.getLabelSides()[z?0:1];z&&!u||x&&u?v+p<A&&(v=A-p,B&&v+s>t&&(C=!1)):v+s>n&&(v=n-s,B&&v+p<t&&(C=!1));D.x=v}return C},getPosition:function(p,n,x,v){var u=this.axis,t=u.chart,s=v&&t.oldChartHeight||t.chartHeight;return{x:p?u.translate(n+x,null,null,v)+u.transB:u.left+u.offset+(u.opposite?(v&&t.oldChartWidth||t.chartWidth)-u.right-u.left:0),y:p?s-u.bottom+u.offset-(u.opposite?u.height:0):s-u.translate(n+x,null,null,v)-u.transB}},getLabelPosition:function(C,B,A,z,x,v,u,t){var s=this.axis,p=s.transA,n=s.reversed,s=s.staggerLines,C=C+x.x-(v&&z?v*p*(n?-1:1):0),B=B+x.y-(v&&!z?v*p*(n?1:-1):0);aq(x.y)||(B+=bi(A.styles.lineHeight)*0.9-A.getBBox().height/2);s&&(B+=u/(t||1)%s*16);return{x:C,y:B}},getMarkPath:function(p,n,v,u,t,s){return s.crispLine(["M",p,n,"L",p+(t?0:-v),n+(t?v:0)],u)},render:function(Y,X){var W=this.axis,V=W.options,U=W.chart.renderer,T=W.horiz,S=this.type,R=this.label,P=this.pos,O=V.labels,N=this.gridLine,L=S?S+"Grid":"grid",K=S?S+"Tick":"tick",G=V[L+"LineWidth"],E=V[L+"LineColor"],H=V[L+"LineDashStyle"],F=V[K+"Length"],L=V[K+"Width"]||0,x=V[K+"Color"],C=V[K+"Position"],K=this.mark,D=O.step,A=!0,z=W.tickmarkOffset,s=this.getPosition(T,P,z,X),p=s.x,s=s.y,B=W.staggerLines;if(G){P=W.getPlotLinePath(P+z,G,X);if(N===ao){N={stroke:E,"stroke-width":G};if(H){N.dashstyle=H}if(!S){N.zIndex=1}this.gridLine=N=G?U.path(P).attr(N).add(W.gridGroup):null}if(!X&&N&&P){N[this.isNew?"attr":"animate"]({d:P})}}if(L&&F){C==="inside"&&(F=-F),W.opposite&&(F=-F),S=this.getMarkPath(p,s,F,L,T,U),K?K.animate({d:S}):this.mark=U.path(S).attr({stroke:x,"stroke-width":L}).add(W.axisGroup)}if(R&&!isNaN(p)){R.xy=s=this.getLabelPosition(p,s,R,T,O,z,Y,D),this.isFirst&&!au(V.showFirstLabel,1)||this.isLast&&!au(V.showLastLabel,1)?A=!1:!B&&T&&O.overflow==="justify"&&!this.handleOverflow(Y,s)&&(A=!1),D&&Y%D&&(A=!1),A?(R[this.isNew?"attr":"animate"](s),R.show(),this.isNew=!1):R.hide()}},destroy:function(){bL(this,this.axis)}};a7.prototype={render:function(){var R=this,P=R.axis,O=P.horiz,N=(P.pointRange||0)/2,L=R.options,K=L.label,H=R.label,G=L.width,F=L.to,E=L.from,D=aq(E)&&aq(F),C=L.value,B=L.dashStyle,z=R.svgElem,v=[],A,x=L.color,s=L.zIndex,p=L.events,u=P.chart.renderer;P.isLog&&(E=bc(E),F=bc(F),C=bc(C));if(G){if(v=P.getPlotLinePath(C,G),N={stroke:x,"stroke-width":G},B){N.dashstyle=B}}else{if(D){if(E=ap(E,P.min-N),F=aU(F,P.max+N),v=P.getPlotBandPath(E,F,L),N={fill:x},L.borderWidth){N.stroke=L.borderColor,N["stroke-width"]=L.borderWidth}}else{return}}if(aq(s)){N.zIndex=s}if(z){v?z.animate({d:v},null,z.onGetPath):(z.hide(),z.onGetPath=function(){z.show()})}else{if(v&&v.length&&(R.svgElem=z=u.path(v).attr(N).add(),p)){for(A in L=function(n){z.on(n,function(t){p[n].apply(R,[t])})},p){L(A)}}}if(K&&aq(K.text)&&v&&v.length&&P.width>0&&P.height>0){K=bf({align:O&&D&&"center",x:O?!D&&4:10,verticalAlign:!O&&D&&"middle",y:O?D?16:10:D?6:-4,rotation:O&&!D&&90},K);if(!H){R.label=H=u.text(K.text,0,0).attr({align:K.textAlign||K.align,rotation:K.rotation,zIndex:s}).css(K.style).add()}P=[v[1],v[4],au(v[6],v[1])];v=[v[2],v[5],au(v[7],v[2])];O=bT(P);D=bT(v);H.align(K,!1,{x:O,y:D,width:bo(P)-O,height:bo(v)-D});H.show()}else{H&&H.hide()}return R},destroy:function(){bG(this.axis.plotLinesAndBands,this);bL(this,this.axis)}};bx.prototype={destroy:function(){bL(this,this.axis)},setTotal:function(n){this.cum=this.total=n},render:function(p){var n=this.options.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:"hidden"}).add(p)},setOffset:function(p,n){var z=this.axis,x=z.chart,v=x.inverted,u=this.isNegative,t=z.translate(this.total,0,0,0,1),z=z.translate(0),z=aX(t-z),s=x.xAxis[0].translate(this.x)+p,x=x.plotHeight,v={x:v?u?t:t-z:s,y:v?x-s-n:u?x-t-z:x-t,width:v?z:n,height:v?n:z};this.label&&this.label.align(this.alignOptions,null,v).attr({visibility:"visible"})}};aB.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:a6,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:a6.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(p,n){var x=n.isX;this.horiz=p.inverted?!x:x;this.xOrY=(this.isXAxis=x)?"x":"y";this.opposite=n.opposite;this.side=this.horiz?this.opposite?0:2:this.opposite?1:3;this.setOptions(n);var v=this.options,u=v.type,t=u==="datetime";this.labelFormatter=v.labels.formatter||this.defaultLabelFormatter;this.staggerLines=this.horiz&&v.labels.staggerLines;this.userOptions=n;this.minPixelPadding=0;this.chart=p;this.reversed=v.reversed;this.categories=v.categories;this.isLog=u==="logarithmic";this.isLinked=aq(v.linkedTo);this.isDatetimeAxis=t;this.tickmarkOffset=v.categories&&v.tickmarkPlacement==="between"?0.5:0;this.ticks={};this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=v.minRange||v.maxZoom;this.range=v.range;this.offset=v.offset||0;this.stacks={};this.min=this.max=null;var s,v=this.options.events;p.axes.push(this);p[x?"xAxis":"yAxis"].push(this);this.series=[];if(p.inverted&&x&&this.reversed===ao){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;this.addPlotLine=this.addPlotBand=this.addPlotBandOrLine;for(s in v){a4(this,s,v[s])}if(this.isLog){this.val2lin=bc,this.lin2val=ax}},setOptions:function(n){this.options=bf(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],bf(aW[this.isXAxis?"xAxis":"yAxis"],n))},defaultLabelFormatter:function(){var p=this.axis,n=this.value,x=this.dateTimeLabelFormat,v=aW.lang.numericSymbols,u=v&&v.length,t,s=p.isLog?n:p.tickInterval;if(p.categories){t=n}else{if(x){t=av(x,n)}else{if(u&&s>=1000){for(;u--&&t===ao;){p=Math.pow(1000,u+1),s>=p&&v[u]!==null&&(t=be(n/p,-1)+v[u])}}}}t===ao&&(t=n>=1000?be(n,0):be(n,-1));return t},getSeriesExtremes:function(){var p=this,n=p.chart,v=p.stacks,u=[],t=[],s;p.hasVisibleSeries=!1;p.dataMin=p.dataMax=null;aw(p.series,function(Y){if(Y.visible||!n.options.chart.ignoreHiddenSeries){var X=Y.options,W,V,U,T,S,P,L,R,N,D=X.threshold,G,H=[],F=0;p.hasVisibleSeries=!0;if(p.isLog&&D<=0){D=X.threshold=null}if(p.isXAxis){if(X=Y.xData,X.length){p.dataMin=aU(au(p.dataMin,X[0]),bT(X)),p.dataMax=ap(au(p.dataMax,X[0]),bo(X))}}else{var E,B,x,K=Y.cropped,z=Y.xAxis.getExtremes(),O=!!Y.modifyValue;W=X.stacking;p.usePercentage=W==="percent";if(W){S=X.stack,T=Y.type+au(S,""),P="-"+T,Y.stackKey=T,V=u[T]||[],u[T]=V,U=t[P]||[],t[P]=U}if(p.usePercentage){p.dataMin=0,p.dataMax=99}X=Y.processedXData;L=Y.processedYData;G=L.length;for(s=0;s<G;s++){if(R=X[s],N=L[s],N!==null&&N!==ao&&(W?(B=(E=N<D)?U:V,x=E?P:T,N=B[R]=aq(B[R])?B[R]+N:N,v[x]||(v[x]={}),v[x][R]||(v[x][R]=new bx(p,p.options.stackLabels,E,R,S)),v[x][R].setTotal(N)):O&&(N=Y.modifyValue(N)),K||(X[s+1]||R)>=z.min&&(X[s-1]||R)<=z.max)){if(R=N.length){for(;R--;){N[R]!==null&&(H[F++]=N[R])}}else{H[F++]=N}}}if(!p.usePercentage&&H.length){p.dataMin=aU(au(p.dataMin,H[0]),bT(H)),p.dataMax=ap(au(p.dataMax,H[0]),bo(H))}if(aq(D)){if(p.dataMin>=D){p.dataMin=D,p.ignoreMinPadding=!0}else{if(p.dataMax<D){p.dataMax=D,p.ignoreMaxPadding=!0}}}}}})},translate:function(B,A,z,x,v,u){var t=this.len,s=1,p=0,n=x?this.oldTransA:this.transA,x=x?this.oldMin:this.min,v=this.options.ordinal||this.isLog&&v;if(!n){n=this.transA}z&&(s*=-1,p=t);this.reversed&&(s*=-1,p-=s*t);A?(this.reversed&&(B=t-B),B=B/n+x,v&&(B=this.lin2val(B))):(v&&(B=this.val2lin(B)),B=s*(B-x)*n+p+s*this.minPixelPadding+(u?n*this.pointRange/2:0));return B},getPlotLinePath:function(D,C,B){var A=this.chart,z=this.left,x=this.top,v,u,t,D=this.translate(D,null,null,B),s=B&&A.oldChartHeight||A.chartHeight,p=B&&A.oldChartWidth||A.chartWidth,n;v=this.transB;B=u=ar(D+v);v=t=ar(s-D-v);if(isNaN(D)){n=!0}else{if(this.horiz){if(v=x,t=s-this.bottom,B<z||B>z+this.width){n=!0}}else{if(B=z,u=p-this.right,v<x||v>x+this.height){n=!0}}}return n?null:A.renderer.crispLine(["M",B,v,"L",u,t],C||0)},getPlotBandPath:function(p,n){var t=this.getPlotLinePath(n),s=this.getPlotLinePath(p);s&&t?s.push(t[4],t[5],t[1],t[2]):s=null;return s},getLinearTickPositions:function(p,n,u){for(var t,n=ad(aO(n/p)*p),u=ad(w(u/p)*p),s=[];n<=u;){s.push(n);n=ad(n+p);if(n===t){break}t=n}return s},getLogTickPositions:function(D,C,B,A){var z=this.options,x=this.len,v=[];if(!A){this._minorAutoInterval=null}if(D>=0.5){D=ar(D),v=this.getLinearTickPositions(D,C,B)}else{if(D>=0.08){for(var x=aO(C),u,t,s,p,n,z=D>0.3?[1,2,4]:D>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];x<B+1&&!n;x++){t=z.length;for(u=0;u<t&&!n;u++){s=bc(ax(x)*z[u]),s>C&&v.push(p),p>B&&(n=!0),p=s}}}else{if(C=ax(C),B=ax(B),D=z[A?"minorTickInterval":"tickInterval"],D=au(D==="auto"?null:D,this._minorAutoInterval,(B-C)*(z.tickPixelInterval/(A?5:1))/((A?x/this.tickPositions.length:x)||1)),D=a0(D,null,aZ.pow(10,aO(aZ.log(D)/aZ.LN10))),v=d(this.getLinearTickPositions(D,C,B),bc),!A){this._minorAutoInterval=D/5}}}if(!A){this.tickInterval=D}return v},getMinorTickPositions:function(){var p=this.tickPositions,n=this.minorTickInterval,u=[],t,s;if(this.isLog){s=p.length;for(t=1;t<s;t++){u=u.concat(this.getLogTickPositions(n,p[t-1],p[t],!0))}}else{for(p=this.min+(p[0]-this.min)%n;p<=this.max;p+=n){u.push(p)}}return u},adjustForMinRange:function(){var C=this.options,B=this.min,A=this.max,z,x=this.dataMax-this.dataMin>=this.minRange,v,u,t,s,p;if(this.isXAxis&&this.minRange===ao&&!this.isLog){aq(C.min)||aq(C.max)?this.minRange=null:(aw(this.series,function(D){s=D.xData;for(u=p=D.xIncrement?1:s.length-1;u>0;u--){if(t=s[u]-s[u-1],v===ao||t<v){v=t}}}),this.minRange=aU(v*5,this.dataMax-this.dataMin))}if(A-B<this.minRange){var n=this.minRange;z=(n-A+B)/2;z=[B-z,au(C.min,B-z)];if(x){z[2]=this.dataMin}B=bo(z);A=[B+n,au(C.max,B+n)];if(x){A[2]=this.dataMax}A=bT(A);A-B<n&&(z[0]=A-n,z[1]=au(C.min,A-n),B=bo(z))}this.min=B;this.max=A},setAxisTranslation:function(){var p=this.max-this.min,n=0,v,u=0,t=0,s=this.transA;if(this.isXAxis){this.isLinked?u=this.linkedParent.minPointOffset:aw(this.series,function(x){var B=x.pointRange,A=x.options.pointPlacement,z=x.closestPointRange;n=ap(n,B);u=ap(u,A?0:B/2);t=ap(t,A==="on"?0:B);!x.noSharedTooltip&&aq(z)&&(v=aq(v)?aU(v,z):z)}),this.minPointOffset=u,this.pointRange=n,this.closestPointRange=v}this.oldTransA=s;this.translationSlope=this.transA=s=this.len/(p+t||1);this.transB=this.horiz?this.left:this.bottom;this.minPixelPadding=s*u},setTickPositions:function(G){var F=this,E=F.chart,D=F.options,C=F.isLog,B=F.isDatetimeAxis,A=F.isXAxis,z=F.isLinked,x=F.options.tickPositioner,v=D.maxPadding,u=D.minPadding,t=D.tickInterval,s=D.minTickInterval,p=D.tickPixelInterval,n=F.categories;z?(F.linkedParent=E[A?"xAxis":"yAxis"][D.linkedTo],E=F.linkedParent.getExtremes(),F.min=au(E.min,E.dataMin),F.max=au(E.max,E.dataMax),D.type!==F.linkedParent.options.type&&bg(11,1)):(F.min=au(F.userMin,D.min,F.dataMin),F.max=au(F.userMax,D.max,F.dataMax));if(C){!G&&aU(F.min,au(F.dataMin,F.min))<=0&&bg(10,1),F.min=ad(bc(F.min)),F.max=ad(bc(F.max))}if(F.range&&(F.userMin=F.min=ap(F.min,F.max-F.range),F.userMax=F.max,G)){F.range=null}F.adjustForMinRange();if(!n&&!F.usePercentage&&!z&&aq(F.min)&&aq(F.max)){E=F.max-F.min||1;if(!aq(D.min)&&!aq(F.userMin)&&u&&(F.dataMin<0||!F.ignoreMinPadding)){F.min-=E*u}if(!aq(D.max)&&!aq(F.userMax)&&v&&(F.dataMax>0||!F.ignoreMaxPadding)){F.max+=E*v}}F.tickInterval=F.min===F.max||F.min===void 0||F.max===void 0?1:z&&!t&&p===F.linkedParent.options.tickPixelInterval?F.linkedParent.tickInterval:au(t,n?1:(F.max-F.min)*p/(F.len||1));A&&!G&&aw(F.series,function(H){H.processData(F.min!==F.oldMin||F.max!==F.oldMax)});F.setAxisTranslation(G);F.beforeSetTickPositions&&F.beforeSetTickPositions();if(F.postProcessTickInterval){F.tickInterval=F.postProcessTickInterval(F.tickInterval)}if(!t&&F.tickInterval<s){F.tickInterval=s}if(!B&&!C&&(G=aZ.pow(10,aO(aZ.log(F.tickInterval)/aZ.LN10)),!t)){F.tickInterval=a0(F.tickInterval,null,G,D)}F.minorTickInterval=D.minorTickInterval==="auto"&&F.tickInterval?F.tickInterval/5:D.minorTickInterval;F.tickPositions=x=D.tickPositions||x&&x.apply(F,[F.min,F.max]);if(!x){x=B?(F.getNonLinearTimeTicks||bl)(bC(F.tickInterval,D.units),F.min,F.max,D.startOfWeek,F.ordinalPositions,F.closestPointRange,!0):C?F.getLogTickPositions(F.tickInterval,F.min,F.max):F.getLinearTickPositions(F.tickInterval,F.min,F.max),F.tickPositions=x}if(!z){C=x[0],B=x[x.length-1],z=F.minPointOffset||0,D.startOnTick?F.min=C:F.min-z>C&&x.shift(),D.endOnTick?F.max=B:F.max+z<B&&x.pop()}},setMaxTicks:function(){var p=this.chart,n=p.maxTicks,t=this.tickPositions,s=this.xOrY;n||(n={x:0,y:0});if(!this.isLinked&&!this.isDatetimeAxis&&t.length>n[s]&&this.options.alignTicks!==!1){n[s]=t.length}p.maxTicks=n},adjustTickAmount:function(){var p=this.xOrY,n=this.tickPositions,u=this.chart.maxTicks;if(u&&u[p]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var t=this.tickAmount,s=n.length;this.tickAmount=p=u[p];if(s<p){for(;n.length<p;){n.push(ad(n[n.length-1]+this.tickInterval))}this.transA*=(s-1)/(p-1);this.max=n[n.length-1]}if(aq(t)&&p!==t){this.isDirty=!0}}},setScale:function(){var p=this.stacks,n,u,t,s;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();s=this.len!==this.oldAxisLength;aw(this.series,function(v){if(v.isDirtyData||v.isDirty||v.xAxis.isDirty){t=!0}});if(s||t||this.isLinked||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty){this.isDirty=s||this.min!==this.oldMin||this.max!==this.oldMax}}if(!this.isXAxis){for(n in p){for(u in p[n]){p[n][u].cum=p[n][u].total}}}this.setMaxTicks()},setExtremes:function(p,n,x,v,u){var t=this,s=t.chart,x=au(x,!0),u=at(u,{min:p,max:n});a8(t,"setExtremes",u,function(){t.userMin=p;t.userMax=n;t.isDirtyExtremes=!0;x&&s.redraw(v)})},zoom:function(p,n){this.setExtremes(p,n,!1,ao,{trigger:"zoom"});return !0},setAxisSize:function(){var p=this.chart,n=this.options,t=n.offsetLeft||0,s=n.offsetRight||0;this.left=au(n.left,p.plotLeft+t);this.top=au(n.top,p.plotTop);this.width=au(n.width,p.plotWidth-t+s);this.height=au(n.height,p.plotHeight);this.bottom=p.chartHeight-this.height-this.top;this.right=p.chartWidth-this.width-this.left;this.len=ap(this.horiz?this.width:this.height,0)},getExtremes:function(){var n=this.isLog;return{min:n?ad(ax(this.min)):this.min,max:n?ad(ax(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(p){var n=this.isLog,s=n?ax(this.min):this.min,n=n?ax(this.max):this.max;s>p||p===null?p=s:n<p&&(p=n);return this.translate(p,0,1,0,1)},addPlotBandOrLine:function(n){n=(new a7(this,n)).render();this.plotLinesAndBands.push(n);return n},getOffset:function(){var L=this,K=L.chart,H=K.renderer,G=L.options,F=L.tickPositions,E=L.ticks,D=L.horiz,C=L.side,B,A=0,z,x=0,v=G.title,u=G.labels,s=0,n=K.axisOffset,t=[-1,1,1,-1][C],p;L.hasData=K=L.hasVisibleSeries||aq(L.min)&&aq(L.max)&&!!F;L.showAxis=B=K||au(G.showEmpty,!0);if(!L.axisGroup){L.gridGroup=H.g("grid").attr({zIndex:G.gridZIndex||1}).add(),L.axisGroup=H.g("axis").attr({zIndex:G.zIndex||2}).add(),L.labelGroup=H.g("axis-labels").attr({zIndex:u.zIndex||7}).add()}if(K||L.isLinked){aw(F,function(N){E[N]?E[N].addLabel():E[N]=new aI(L,N)}),aw(F,function(N){if(C===0||C===2||{1:"left",3:"right"}[C]===u.align){s=ap(E[N].getLabelSize(),s)}}),L.staggerLines&&(s+=(L.staggerLines-1)*16)}else{for(p in E){E[p].destroy(),delete E[p]}}if(v&&v.text){if(!L.axisTitle){L.axisTitle=H.text(v.text,0,0,v.useHTML).attr({zIndex:7,rotation:v.rotation||0,align:v.textAlign||{low:"left",middle:"center",high:"right"}[v.align]}).css(v.style).add(L.axisGroup),L.axisTitle.isNew=!0}if(B){A=L.axisTitle.getBBox()[D?"height":"width"],x=au(v.margin,D?5:10),z=v.offset}L.axisTitle[B?"show":"hide"]()}L.offset=t*au(G.offset,n[C]);L.axisTitleMargin=au(z,s+x+(C!==2&&s&&t*G.labels[D?"y":"x"]));n[C]=ap(n[C],L.axisTitleMargin+A+t*L.offset)},getLinePath:function(p){var n=this.chart,v=this.opposite,u=this.offset,t=this.horiz,s=this.left+(v?this.width:0)+u;this.lineTop=v=n.chartHeight-this.bottom-(v?this.height:0)+u;return n.renderer.crispLine(["M",t?this.left:s,t?v:this.top,"L",t?n.chartWidth-this.right:s,t?v:n.chartHeight-this.bottom],p)},getTitlePosition:function(){var A=this.horiz,z=this.left,x=this.top,v=this.len,u=this.options.title,t=A?z:x,s=this.opposite,p=this.offset,n=bi(u.style.fontSize||12),v={low:t+(A?0:v),middle:t+v/2,high:t+(A?v:0)}[u.align],z=(A?x+this.height:z)+(A?1:-1)*(s?-1:1)*this.axisTitleMargin+(this.side===2?n:0);return{x:A?v:z+(s?this.width:0)+p+(u.x||0),y:A?z-(s?this.height:0)+p:v+(u.y||0)}},render:function(){var V=this,U=V.chart,T=U.renderer,S=V.options,R=V.isLog,P=V.isLinked,O=V.tickPositions,N=V.axisTitle,L=V.stacks,K=V.ticks,H=V.minorTicks,G=V.alternateBands,F=S.stackLabels,E=S.alternateGridColor,B=V.tickmarkOffset,D=S.lineWidth,C,u=U.hasRendered&&aq(V.oldMin)&&!isNaN(V.oldMin),z=V.showAxis,A,x;if(V.hasData||P){if(V.minorTickInterval&&!V.categories&&aw(V.getMinorTickPositions(),function(p){H[p]||(H[p]=new aI(V,p,"minor"));u&&H[p].isNew&&H[p].render(null,!0);H[p].isActive=!0;H[p].render()}),aw(O.slice(1).concat([O[0]]),function(p,s){s=s===O.length-1?0:s+1;if(!P||p>=V.min&&p<=V.max){K[p]||(K[p]=new aI(V,p)),u&&K[p].isNew&&K[p].render(s,!0),K[p].isActive=!0,K[p].render(s)}}),E&&aw(O,function(p,s){if(s%2===0&&p<V.max){G[p]||(G[p]=new a7(V)),A=p+B,x=O[s+1]!==ao?O[s+1]+B:V.max,G[p].options={from:R?ax(A):A,to:R?ax(x):x,color:E},G[p].render(),G[p].isActive=!0}}),!V._addedPlotLB){aw((S.plotLines||[]).concat(S.plotBands||[]),function(p){V.addPlotBandOrLine(p)}),V._addedPlotLB=!0}}aw([K,H,G],function(s){for(var p in s){s[p].isActive?s[p].isActive=!1:(s[p].destroy(),delete s[p])}});if(D){C=V.getLinePath(D),V.axisLine?V.axisLine.animate({d:C}):V.axisLine=T.path(C).attr({stroke:S.lineColor,"stroke-width":D,zIndex:7}).add(V.axisGroup),V.axisLine[z?"show":"hide"]()}if(N&&z){N[N.isNew?"attr":"animate"](V.getTitlePosition()),N.isNew=!1}if(F&&F.enabled){var v,n,S=V.stackTotalGroup;if(!S){V.stackTotalGroup=S=T.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}S.translate(U.plotLeft,U.plotTop);for(v in L){for(n in U=L[v],U){U[n].render(S)}}}V.isDirty=!1},removePlotBandOrLine:function(p){for(var n=this.plotLinesAndBands,s=n.length;s--;){n[s].id===p&&n[s].destroy()}},setTitle:function(p,n){var u=this.chart,t=this.options,s=this.axisTitle;t.title=bf(t.title,p);this.axisTitle=s&&s.destroy();this.isDirty=!0;au(n,!0)&&u.redraw()},redraw:function(){var n=this.chart;n.tracker.resetTracker&&n.tracker.resetTracker(!0);this.render();aw(this.plotLinesAndBands,function(p){p.render()});aw(this.series,function(p){p.isDirty=!0})},setCategories:function(p,n){var s=this.chart;this.categories=this.userOptions.categories=p;aw(this.series,function(t){t.translate();t.setTooltipPoints(!0)});this.isDirty=!0;au(n,!0)&&s.redraw()},destroy:function(){var p=this,n=p.stacks,s;aP(p);for(s in n){bL(n[s]),n[s]=null}aw([p.ticks,p.minorTicks,p.alternateBands,p.plotLinesAndBands],function(t){bL(t)});aw("stackTotalGroup,axisLine,axisGroup,gridGroup,labelGroup,axisTitle".split(","),function(t){p[t]&&(p[t]=p[t].destroy())})}};ae.prototype={destroy:function(){aw(this.crosshairs,function(n){n&&n.destroy()});if(this.label){this.label=this.label.destroy()}},move:function(p,n,x,v){var u=this,t=u.now,s=u.options.animation!==!1&&!u.isHidden;at(t,{x:s?(2*t.x+p)/3:p,y:s?(t.y+n)/2:n,anchorX:s?(2*t.anchorX+x)/3:x,anchorY:s?(t.anchorY+v)/2:v});u.label.attr(t);u.tooltipTick=s&&(aX(p-t.x)>1||aX(n-t.y)>1)?function(){u.move(p,n,x,v)}:null},hide:function(){if(!this.isHidden){var n=this.chart.hoverPoints;this.label.hide();n&&aw(n,function(p){p.setState()});this.chart.hoverPoints=null;this.isHidden=!0}},hideCrosshairs:function(){aw(this.crosshairs,function(n){n&&n.hide()})},getAnchor:function(p,n){var z,x=this.chart,v=x.inverted,u=0,t=0,s,p=aD(p);z=p[0].tooltipPos;z||(aw(p,function(A){s=A.series.yAxis;u+=A.plotX;t+=(A.plotLow?(A.plotLow+A.plotHigh)/2:A.plotY)+(!v&&s?s.top-x.plotTop:0)}),u/=p.length,t/=p.length,z=[v?x.plotWidth-t:u,this.shared&&!v&&p.length>1&&n?n.chartY-x.plotTop:v?x.plotHeight-u:t]);return d(z,ar)},getPosition:function(D,C,B){var A=this.chart,z=A.plotLeft,x=A.plotTop,v=A.plotWidth,u=A.plotHeight,t=au(this.options.distance,12),s=B.plotX,B=B.plotY,A=s+z+(A.inverted?t:-D-t),p=B-C+x+15,n;A<7&&(A=z+s+t);A+D>z+v&&(A-=A+D-(z+v),p=B-C+x-t,n=!0);p<x+5&&(p=x+5,n&&B>=p&&B<=p+C&&(p=B+x+t));p+C>x+u&&(p=ap(x,x+u-C-t));return{x:A,y:p}},refresh:function(F,E){function D(){var H=this.points||aD(this),G=H[0].series,K;K=[G.tooltipHeaderFormatter(H[0].key)];aw(H,function(L){G=L.series;K.push(G.tooltipFormatter&&G.tooltipFormatter(L)||L.point.tooltipFormatter(G.tooltipOptions.pointFormat))});K.push(A.footerFormat||"");return K.join("")}var C=this.chart,B=this.label,A=this.options,z,x,v,u={},t,s=[];t=A.formatter||D;var u=C.hoverPoints,p,n=A.crosshairs;v=this.shared;x=this.getAnchor(F,E);z=x[0];x=x[1];v&&(!F.series||!F.series.noSharedTooltip)?(C.hoverPoints=F,u&&aw(u,function(G){G.setState()}),aw(F,function(G){G.setState("hover");s.push(G.getLabelConfig())}),u={x:F[0].category,y:F[0].y},u.points=s,F=F[0]):u=F.getLabelConfig();t=t.call(u);u=F.series;v=v||!u.isCartesian||u.tooltipOutsidePlot||C.isInsidePlot(z,x);t===!1||!v?this.hide():(this.isHidden&&B.show(),B.attr({text:t}),p=A.borderColor||F.color||u.color||"#606060",B.attr({stroke:p}),B=(A.positioner||this.getPosition).call(this,B.width,B.height,{plotX:z,plotY:x}),this.move(ar(B.x),ar(B.y),z+C.plotLeft,x+C.plotTop),this.isHidden=!1);if(n){n=aD(n);for(B=n.length;B--;){if(v=F.series[B?"yAxis":"xAxis"],n[B]&&v){if(v=v.getPlotLinePath(B?au(F.stackY,F.y):F.x,1),this.crosshairs[B]){this.crosshairs[B].attr({d:v,visibility:"visible"})}else{u={"stroke-width":n[B].width||1,stroke:n[B].color||"#C0C0C0",zIndex:n[B].zIndex||2};if(n[B].dashStyle){u.dashstyle=n[B].dashStyle}this.crosshairs[B]=C.renderer.path(v).attr(u).add()}}}}a8(C,"tooltipRefresh",{text:t,x:z+C.plotLeft,y:x+C.plotTop,borderColor:p})},tick:function(){this.tooltipTick&&this.tooltipTick()}};k.prototype={normalizeMouseEvent:function(p){var n,t,s,p=p||aY.event;if(!p.target){p.target=p.srcElement}p=m(p);s=p.touches?p.touches.item(0):p;this.chartPosition=n=b(this.chart.container);s.pageX===ao?(t=p.x,n=p.y):(t=s.pageX-n.left,n=s.pageY-n.top);return at(p,{chartX:ar(t),chartY:ar(n)})},getMouseCoordinates:function(p){var n={xAxis:[],yAxis:[]},s=this.chart;aw(s.axes,function(u){var t=u.isXAxis;n[t?"xAxis":"yAxis"].push({axis:u,value:u.translate(((s.inverted?!t:t)?p.chartX-s.plotLeft:u.top+u.len-p.chartY)-u.minPixelPadding,!0)})});return n},getIndex:function(p){var n=this.chart;return n.inverted?n.plotHeight+n.plotTop-p.chartY:p.chartX-n.plotLeft},onmousemove:function(C){var B=this.chart,A=B.series,z=B.tooltip,x,v=B.hoverPoint,u=B.hoverSeries,t,s,p=B.chartWidth,n=this.getIndex(C);if(z&&this.options.tooltip.shared&&(!u||!u.noSharedTooltip)){x=[];t=A.length;for(s=0;s<t;s++){if(A[s].visible&&A[s].options.enableMouseTracking!==!1&&!A[s].noSharedTooltip&&A[s].tooltipPoints.length){B=A[s].tooltipPoints[n],B._dist=aX(n-B[A[s].xAxis.tooltipPosName||"plotX"]),p=aU(p,B._dist),x.push(B)}}for(t=x.length;t--;){x[t]._dist>p&&x.splice(t,1)}if(x.length&&x[0].plotX!==this.hoverX){z.refresh(x,C),this.hoverX=x[0].plotX}}if(u&&u.tracker&&(B=u.tooltipPoints[n])&&B!==v){B.onMouseOver()}},resetTracker:function(p){var n=this.chart,u=n.hoverSeries,t=n.hoverPoint,s=n.tooltip,n=s&&s.shared?n.hoverPoints:t;(p=p&&s&&n)&&aD(n)[0].plotX===ao&&(p=!1);if(p){s.refresh(n)}else{if(t){t.onMouseOut()}if(u){u.onMouseOut()}s&&(s.hide(),s.hideCrosshairs());this.hoverX=null}},setDOMEvents:function(){function p(){if(n.selectionMarker){var E={xAxis:[],yAxis:[]},D=n.selectionMarker.getBBox(),C=D.x-z.plotLeft,B=D.y-z.plotTop,A;v&&(aw(z.axes,function(G){if(G.options.zoomEnabled!==!1){var F=G.isXAxis,K=z.inverted?!F:F,H=G.translate(K?C:z.plotHeight-B-D.height,!0,0,0,1),K=G.translate((K?C+D.width:z.plotHeight-B)-2*G.minPixelPadding,!0,0,0,1);!isNaN(H)&&!isNaN(K)&&(E[F?"xAxis":"yAxis"].push({axis:G,min:aU(H,K),max:ap(H,K)}),A=!0)}}),A&&a8(z,"selection",E,function(F){z.zoom(F)}));n.selectionMarker=n.selectionMarker.destroy()}if(z){a5(x,{cursor:"auto"}),z.cancelClick=v,z.mouseIsDown=v=!1}aP(am,bu?"touchend":"mouseup",p)}var n=this,z=n.chart,x=z.container,v,u=n.zoomX&&!z.inverted||n.zoomY&&z.inverted,t=n.zoomY&&!z.inverted||n.zoomX&&z.inverted;n.hideTooltipOnMouseMove=function(A){A=m(A);n.chartPosition&&z.hoverSeries&&z.hoverSeries.isCartesian&&!z.isInsidePlot(A.pageX-n.chartPosition.left-z.plotLeft,A.pageY-n.chartPosition.top-z.plotTop)&&n.resetTracker()};n.hideTooltipOnMouseLeave=function(){n.resetTracker();n.chartPosition=null};x.onmousedown=function(A){A=n.normalizeMouseEvent(A);!bu&&A.preventDefault&&A.preventDefault();z.mouseIsDown=!0;z.cancelClick=!1;z.mouseDownX=n.mouseDownX=A.chartX;n.mouseDownY=A.chartY;a4(am,bu?"touchend":"mouseup",p)};var s=function(C){if(!C||!(C.touches&&C.touches.length>1)){C=n.normalizeMouseEvent(C);if(!bu){C.returnValue=!1}var F=C.chartX,D=C.chartY,B=!z.isInsidePlot(F-z.plotLeft,D-z.plotTop);bu&&C.type==="touchstart"&&(bh(C.target,"isTracker")?z.runTrackerClick||C.preventDefault():!z.runChartClick&&!B&&C.preventDefault());if(B){F<z.plotLeft?F=z.plotLeft:F>z.plotLeft+z.plotWidth&&(F=z.plotLeft+z.plotWidth),D<z.plotTop?D=z.plotTop:D>z.plotTop+z.plotHeight&&(D=z.plotTop+z.plotHeight)}if(z.mouseIsDown&&C.type!=="touchstart"&&(v=Math.sqrt(Math.pow(n.mouseDownX-F,2)+Math.pow(n.mouseDownY-D,2)),v>10)){var A=z.isInsidePlot(n.mouseDownX-z.plotLeft,n.mouseDownY-z.plotTop);if(z.hasCartesianSeries&&(n.zoomX||n.zoomY)&&A&&!n.selectionMarker){n.selectionMarker=z.renderer.rect(z.plotLeft,z.plotTop,u?1:z.plotWidth,t?1:z.plotHeight,0).attr({fill:n.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}if(n.selectionMarker&&u){var E=F-n.mouseDownX;n.selectionMarker.attr({width:aX(E),x:(E>0?0:E)+n.mouseDownX})}n.selectionMarker&&t&&(D-=n.mouseDownY,n.selectionMarker.attr({height:aX(D),y:(D>0?0:D)+n.mouseDownY}));A&&!n.selectionMarker&&n.options.chart.panning&&z.pan(F)}if(!B){n.onmousemove(C)}return B||!z.hasCartesianSeries}};x.onmousemove=s;a4(x,"mouseleave",n.hideTooltipOnMouseLeave);a4(am,"mousemove",n.hideTooltipOnMouseMove);x.ontouchstart=function(A){if(n.zoomX||n.zoomY){x.onmousedown(A)}s(A)};x.ontouchmove=s;x.ontouchend=function(){v&&n.resetTracker()};x.onclick=function(A){var D=z.hoverPoint,C,B,A=n.normalizeMouseEvent(A);A.cancelBubble=!0;if(!z.cancelClick){D&&(bh(A.target,"isTracker")||bh(A.target.parentNode,"isTracker"))?(C=D.plotX,B=D.plotY,at(D,{pageX:n.chartPosition.left+z.plotLeft+(z.inverted?z.plotWidth-B:C),pageY:n.chartPosition.top+z.plotTop+(z.inverted?z.plotHeight-C:B)}),a8(D.series,"click",at(A,{point:D})),D.firePointEvent("click",A)):(at(A,n.getMouseCoordinates(A)),z.isInsidePlot(A.chartX-z.plotLeft,A.chartY-z.plotTop)&&a8(z,"click",A))}}},destroy:function(){var p=this.chart,n=p.container;if(p.trackerGroup){p.trackerGroup=p.trackerGroup.destroy()}aP(n,"mouseleave",this.hideTooltipOnMouseLeave);aP(am,"mousemove",this.hideTooltipOnMouseMove);n.onclick=n.onmousedown=n.onmousemove=n.ontouchstart=n.ontouchend=n.ontouchmove=null;clearInterval(this.tooltipInterval)},init:function(p,n){if(!p.trackerGroup){p.trackerGroup=p.renderer.g("tracker").attr({zIndex:9}).add()}if(n.enabled){p.tooltip=new ae(p,n),this.tooltipInterval=setInterval(function(){p&&p.tooltip&&p.tooltip.tick()},32)}this.setDOMEvents()}};bQ.prototype={init:function(p){var n=this,v=n.options=p.options.legend;if(v.enabled){var u=v.itemStyle,t=au(v.padding,8),s=v.itemMarginTop||0;n.baseline=bi(u.fontSize)+3+s;n.itemStyle=u;n.itemHiddenStyle=bf(u,v.itemHiddenStyle);n.itemMarginTop=s;n.padding=t;n.initialItemX=t;n.initialItemY=t-5;n.maxItemWidth=0;n.chart=p;n.itemHeight=0;n.lastLineHeight=0;n.render();a4(n.chart,"endResize",function(){n.positionCheckboxes()})}},colorizeItem:function(p,n){var x=this.options,v=p.legendItem,u=p.legendLine,t=p.legendSymbol,s=this.itemHiddenStyle.color,x=n?x.itemStyle.color:s,s=n?p.color:s;v&&v.css({fill:x});u&&u.attr({stroke:s});t&&t.attr({stroke:s,fill:s})},positionItem:function(p){var n=this.options,v=n.symbolPadding,n=!n.rtl,u=p._legendItemPos,t=u[0],u=u[1],s=p.checkbox;p.legendGroup&&p.legendGroup.translate(n?t:this.legendWidth-t-2*v-4,u);if(s){s.x=t,s.y=u}},destroyItem:function(p){var n=p.checkbox;aw(["legendItem","legendLine","legendSymbol","legendGroup"],function(s){p[s]&&p[s].destroy()});n&&bE(p.checkbox)},destroy:function(){var p=this.group,n=this.box;if(n){this.box=n.destroy()}if(p){this.group=p.destroy()}},positionCheckboxes:function(){var n=this;aw(n.allItems,function(p){var t=p.checkbox,s=n.group.alignAttr;t&&a5(t,{left:s.translateX+p.legendItemWidth+t.x-20+"px",top:s.translateY+t.y+3+"px"})})},renderItem:function(U){var A;var T=this,S=T.chart,R=S.renderer,P=T.options,O=P.layout==="horizontal",N=P.symbolWidth,L=P.symbolPadding,K=T.itemStyle,H=T.itemHiddenStyle,G=T.padding,F=!P.rtl,E=P.width,C=P.itemMarginBottom||0,z=T.itemMarginTop,B=T.initialItemX,D=U.legendItem,s=U.series||U,v=s.options,x=v.showCheckbox;if(!D&&(U.legendGroup=R.g("legend-item").attr({zIndex:1}).add(T.scrollGroup),s.drawLegendSymbol(T,U),U.legendItem=D=R.text(P.labelFormatter.call(U),F?N+L:-L,T.baseline,P.useHTML).css(bf(U.visible?K:H)).attr({align:F?"left":"right",zIndex:2}).add(U.legendGroup),U.legendGroup.on("mouseover",function(){U.setState("hover");D.css(T.options.itemHoverStyle)}).on("mouseout",function(){D.css(U.visible?K:H);U.setState()}).on("click",function(n){var p=function(){U.setVisible()},n={browserEvent:n};U.firePointEvent?U.firePointEvent("legendItemClick",n,p):a8(U,"legendItemClick",n,p)}),T.colorizeItem(U,U.visible),v&&x)){U.checkbox=aR("input",{type:"checkbox",checked:U.selected,defaultChecked:U.selected},P.itemCheckboxStyle,S.container),a4(U.checkbox,"click",function(n){a8(U,"checkboxClick",{checked:n.target.checked},function(){U.select()})})}R=D.getBBox();A=U.legendItemWidth=P.itemWidth||N+L+R.width+G+(x?20:0),P=A;T.itemHeight=N=R.height;if(O&&T.itemX-B+P>(E||S.chartWidth-2*G-B)){T.itemX=B,T.itemY+=z+T.lastLineHeight+C,T.lastLineHeight=0}T.maxItemWidth=ap(T.maxItemWidth,P);T.lastItemY=z+T.itemY+C;T.lastLineHeight=ap(N,T.lastLineHeight);U._legendItemPos=[T.itemX,T.itemY];O?T.itemX+=P:(T.itemY+=z+N+C,T.lastLineHeight=N);T.offsetWidth=E||ap(O?T.itemX-B:P,T.offsetWidth)},render:function(){var E=this,D=E.chart,C=D.renderer,B=E.group,A,z,x,v,u=E.box,t=E.options,s=E.padding,p=t.borderWidth,n=t.backgroundColor;E.itemX=E.initialItemX;E.itemY=E.initialItemY;E.offsetWidth=0;E.lastItemY=0;if(!B){E.group=B=C.g("legend").attr({zIndex:7}).add(),E.contentGroup=C.g().attr({zIndex:1}).add(B),E.scrollGroup=C.g().add(E.contentGroup),E.clipRect=C.clipRect(0,0,9999,D.chartHeight),E.contentGroup.clip(E.clipRect)}A=[];aw(D.series,function(G){var F=G.options;F.showInLegend&&(A=A.concat(G.legendItems||(F.legendType==="point"?G.data:G)))});i(A,function(G,F){return(G.options&&G.options.legendIndex||0)-(F.options&&F.options.legendIndex||0)});t.reversed&&A.reverse();E.allItems=A;E.display=z=!!A.length;aw(A,function(F){E.renderItem(F)});x=t.width||E.offsetWidth;v=E.lastItemY+E.lastLineHeight;v=E.handleOverflow(v);if(p||n){x+=s;v+=s;if(u){if(x>0&&v>0){u[u.isNew?"attr":"animate"](u.crisp(null,null,null,x,v)),u.isNew=!1}}else{E.box=u=C.rect(0,0,x,v,t.borderRadius,p||0).attr({stroke:t.borderColor,"stroke-width":p||0,fill:n||aQ}).add(B).shadow(t.shadow),u.isNew=!0}u[z?"show":"hide"]()}E.legendWidth=x;E.legendHeight=v;aw(A,function(F){E.positionItem(F)});z&&B.align(at({width:x,height:v},t),!0,D.spacingBox);D.isResizing||this.positionCheckboxes()},handleOverflow:function(D){var C=this,B=this.chart,A=B.renderer,z=this.options,x=z.y,x=B.spacingBox.height+(z.verticalAlign==="top"?-x:x)-this.padding,v=z.maxHeight,u=this.clipRect,t=z.navigation,s=au(t.animation,!0),p=t.arrowSize||12,n=this.nav;z.layout==="horizontal"&&(x/=2);v&&(x=aU(x,v));if(D>x){this.clipHeight=B=x-20;this.pageCount=w(D/B);this.currentPage=au(this.currentPage,1);this.fullHeight=D;u.attr({height:B});if(!n){this.nav=n=A.g().attr({zIndex:1}).add(this.group),this.up=A.symbol("triangle",0,0,p,p).on("click",function(){C.scroll(-1,s)}).add(n),this.pager=A.text("",15,10).css(t.style).add(n),this.down=A.symbol("triangle-down",0,0,p,p).on("click",function(){C.scroll(1,s)}).add(n)}C.scroll(0);D=x}else{n&&(u.attr({height:B.chartHeight}),n.hide(),this.scrollGroup.attr({translateY:1}))}return D},scroll:function(A,z){var x=this.pageCount,v=this.currentPage+A,u=this.clipHeight,t=this.options.navigation,s=t.activeColor,t=t.inactiveColor,p=this.pager,n=this.padding;v>x&&(v=x);if(v>0){z!==ao&&aH(z,this.chart),this.nav.attr({translateX:n,translateY:u+7,visibility:"visible"}),this.up.attr({fill:v===1?t:s}).css({cursor:v===1?"default":"pointer"}),p.attr({text:v+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:v===x?t:s}).css({cursor:v===x?"default":"pointer"}),this.scrollGroup.animate({translateY:-aU(u*(v-1),this.fullHeight-u+n)+1}),p.attr({text:v+"/"+x}),this.currentPage=v}}};bB.prototype={initSeries:function(p){var n=this.options.chart,n=new aV[p.type||n.type||n.defaultSeriesType];n.init(this,p);return n},addSeries:function(p,n,u){var t,s=this;p&&(aH(u,s),n=au(n,!0),a8(s,"addSeries",{options:p},function(){t=s.initSeries(p);s.isDirtyLegend=!0;n&&s.redraw()}));return t},isInsidePlot:function(p,n,t){var s=t?n:p,p=t?p:n;return s>=0&&s<=this.plotWidth&&p>=0&&p<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&aw(this.axes,function(n){n.adjustTickAmount()});this.maxTicks=null},redraw:function(D){var C=this.axes,B=this.series,A=this.tracker,z=this.legend,x=this.isDirtyLegend,v,u=this.isDirtyBox,t=B.length,s=t,p=this.renderer,n=p.isHidden();aH(D,this);for(n&&this.cloneRenderTo();s--;){if(D=B[s],D.isDirty&&D.options.stacking){v=!0;break}}if(v){for(s=t;s--;){if(D=B[s],D.options.stacking){D.isDirty=!0}}}aw(B,function(E){E.isDirty&&E.options.legendType==="point"&&(x=!0)});if(x&&z.options.enabled){z.render(),this.isDirtyLegend=!1}if(this.hasCartesianSeries){if(!this.isResizing){this.maxTicks=null,aw(C,function(E){E.setScale()})}this.adjustTickAmounts();this.getMargins();aw(C,function(E){if(E.isDirtyExtremes){E.isDirtyExtremes=!1,a8(E,"afterSetExtremes",E.getExtremes())}if(E.isDirty||u||v){E.redraw(),u=!0}})}u&&this.drawChartBox();aw(B,function(E){E.isDirty&&E.visible&&(!E.isCartesian||E.xAxis)&&E.redraw()});A&&A.resetTracker&&A.resetTracker(!0);p.draw();a8(this,"redraw");n&&this.cloneRenderTo(!0)},showLoading:function(p){var n=this.options,t=this.loadingDiv,s=n.loading;if(!t){this.loadingDiv=t=aR(aA,{className:"highcharts-loading"},at(s.style,{left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px",zIndex:10,display:aQ}),this.container),this.loadingSpan=aR("span",null,s.labelStyle,t)}this.loadingSpan.innerHTML=p||n.lang.loading;if(!this.loadingShown){a5(t,{opacity:0,display:""}),a(t,{opacity:s.style.opacity},{duration:s.showDuration||0}),this.loadingShown=!0}},hideLoading:function(){var p=this.options,n=this.loadingDiv;n&&a(n,{opacity:0},{duration:p.loading.hideDuration||100,complete:function(){a5(n,{display:aQ})}});this.loadingShown=!1},get:function(p){var n=this.axes,u=this.series,t,s;for(t=0;t<n.length;t++){if(n[t].options.id===p){return n[t]}}for(t=0;t<u.length;t++){if(u[t].options.id===p){return u[t]}}for(t=0;t<u.length;t++){s=u[t].points||[];for(n=0;n<s.length;n++){if(s[n].id===p){return s[n]}}}return null},getAxes:function(){var p=this,n=this.options,s=n.xAxis||{},n=n.yAxis||{},s=aD(s);aw(s,function(u,t){u.index=t;u.isX=!0});n=aD(n);aw(n,function(u,t){u.index=t});s=s.concat(n);aw(s,function(t){new aB(p,t)});p.adjustTickAmounts()},getSelectedPoints:function(){var n=[];aw(this.series,function(p){n=n.concat(af(p.points,function(s){return s.selected}))});return n},getSelectedSeries:function(){return af(this.series,function(n){return n.selected})},showResetZoom:function(){var p=this,n=aW.lang,v=p.options.chart.resetZoomButton,u=v.theme,t=u.states,s=v.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=p.renderer.button(n.resetZoom,null,null,function(){p.zoomOut()},u,t&&t.hover).attr({align:v.position.align,title:n.resetZoomTitle}).add().align(v.position,!1,p[s]);this.resetZoomButton.alignTo=s},zoomOut:function(){var p=this,n=p.resetZoomButton;a8(p,"selection",{resetSelection:!0},function(){p.zoom()});if(n){p.resetZoomButton=n.destroy()}},zoom:function(p){var n=this,s;!p||p.resetSelection?aw(n.axes,function(t){s=t.zoom()}):aw(p.xAxis.concat(p.yAxis),function(t){var u=t.axis;if(n.tracker[u.isXAxis?"zoomX":"zoomY"]){s=u.zoom(t.min,t.max)}});n.resetZoomButton||n.showResetZoom();s&&n.redraw(au(n.options.chart.animation,n.pointCount<100))},pan:function(p){var n=this.xAxis[0],v=this.mouseDownX,u=n.pointRange/2,t=n.getExtremes(),s=n.translate(v-p,!0)+u,v=n.translate(v+this.plotWidth-p,!0)-u;(u=this.hoverPoints)&&aw(u,function(x){x.setState()});n.series.length&&s>aU(t.dataMin,t.min)&&v<ap(t.dataMax,t.max)&&n.setExtremes(s,v,!0,!1,{trigger:"pan"});this.mouseDownX=p;a5(this.container,{cursor:"move"})},setTitle:function(p,n){var u=this,t=u.options,s;u.chartTitleOptions=s=bf(t.title,p);u.chartSubtitleOptions=t=bf(t.subtitle,n);aw([["title",p,s],["subtitle",n,t]],function(x){var v=x[0],A=u[v],z=x[1],x=x[2];A&&z&&(u[v]=A=A.destroy());x&&x.text&&!A&&(u[v]=u.renderer.text(x.text,0,0,x.useHTML).attr({align:x.align,"class":"highcharts-"+v,zIndex:x.zIndex||4}).css(x.style).add().align(x,!1,u.spacingBox))})},getChartSize:function(){var p=this.options.chart,n=this.renderToClone||this.renderTo;this.containerWidth=J(n,"width");this.containerHeight=J(n,"height");this.chartWidth=p.width||this.containerWidth||600;this.chartHeight=p.height||(this.containerHeight>19?this.containerHeight:400)},cloneRenderTo:function(p){var n=this.renderToClone,s=this.container;p?n&&(this.renderTo.appendChild(s),bE(n),delete this.renderToClone):(s&&this.renderTo.removeChild(s),this.renderToClone=n=this.renderTo.cloneNode(0),a5(n,{position:"absolute",top:"-9999px",display:"block"}),am.body.appendChild(n),s&&n.appendChild(s))},getContainer:function(){var p,n=this.options.chart,u,t,s;this.renderTo=p=n.renderTo;s="highcharts-"+aF++;if(by(p)){this.renderTo=p=am.getElementById(p)}p||bg(13,!0);p.innerHTML="";p.offsetWidth||this.cloneRenderTo();this.getChartSize();u=this.chartWidth;t=this.chartHeight;this.container=p=aR(aA,{className:"highcharts-container"+(n.className?" "+n.className:""),id:s},at({position:"relative",overflow:"hidden",width:u+"px",height:t+"px",textAlign:"left",lineHeight:"normal",zIndex:0},n.style),this.renderToClone||p);this.renderer=n.forExport?new bS(p,u,t,!0):new y(p,u,t);bA&&this.renderer.create(this,p,u,t)},getMargins:function(){var N=this.options.chart,L=N.spacingTop,K=N.spacingRight,H=N.spacingBottom,N=N.spacingLeft,G,F=this.legend,E=this.optionsMarginTop,D=this.optionsMarginLeft,C=this.optionsMarginRight,B=this.optionsMarginBottom,A=this.chartTitleOptions,z=this.chartSubtitleOptions,x=this.options.legend,v=au(x.margin,10),s=x.x,p=x.y,u=x.align,n=x.verticalAlign;this.resetMargins();G=this.axisOffset;if((this.title||this.subtitle)&&!aq(this.optionsMarginTop)){if(z=ap(this.title&&!A.floating&&!A.verticalAlign&&A.y||0,this.subtitle&&!z.floating&&!z.verticalAlign&&z.y||0)){this.plotTop=ap(this.plotTop,z+au(A.margin,15)+L)}}if(F.display&&!x.floating){if(u==="right"){if(!aq(C)){this.marginRight=ap(this.marginRight,F.legendWidth-s+v+K)}}else{if(u==="left"){if(!aq(D)){this.plotLeft=ap(this.plotLeft,F.legendWidth+s+v+N)}}else{if(n==="top"){if(!aq(E)){this.plotTop=ap(this.plotTop,F.legendHeight+p+v+L)}}else{if(n==="bottom"&&!aq(B)){this.marginBottom=ap(this.marginBottom,F.legendHeight-p+v+H)}}}}}this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&aw(this.axes,function(t){t.getOffset()});aq(D)||(this.plotLeft+=G[3]);aq(E)||(this.plotTop+=G[0]);aq(B)||(this.marginBottom+=G[2]);aq(C)||(this.marginRight+=G[1]);this.setChartSize()},initReflow:function(){function p(v){var z=u.width||J(t,"width"),x=u.height||J(t,"height"),v=v?v.target:aY;if(z&&x&&(v===aY||v===am)){if(z!==n.containerWidth||x!==n.containerHeight){clearTimeout(s),s=setTimeout(function(){n.resize(z,x,!1)},100)}n.containerWidth=z;n.containerHeight=x}}var n=this,u=n.options.chart,t=n.renderTo,s;a4(aY,"resize",p);a4(n,"destroy",function(){aP(aY,"resize",p)})},resize:function(B,A,z){var x=this,v,u,t=x.resetZoomButton,s=x.title,p=x.subtitle,n;x.isResizing+=1;n=function(){x&&a8(x,"endResize",null,function(){x.isResizing-=1})};aH(z,x);x.oldChartHeight=x.chartHeight;x.oldChartWidth=x.chartWidth;if(aq(B)){x.chartWidth=v=ar(B)}if(aq(A)){x.chartHeight=u=ar(A)}a5(x.container,{width:v+"px",height:u+"px"});x.renderer.setSize(v,u,z);x.plotWidth=v-x.plotLeft-x.marginRight;x.plotHeight=u-x.plotTop-x.marginBottom;x.maxTicks=null;aw(x.axes,function(C){C.isDirty=!0;C.setScale()});aw(x.series,function(C){C.isDirty=!0});x.isDirtyLegend=!0;x.isDirtyBox=!0;x.getMargins();B=x.spacingBox;s&&s.align(null,null,B);p&&p.align(null,null,B);t&&t.align(null,null,x[t.alignTo]);x.redraw(z);x.oldChartHeight=null;a8(x,"resize");bm===!1?n():setTimeout(n,bm&&bm.duration||500)},setChartSize:function(){var D=this.inverted,C=this.chartWidth,B=this.chartHeight,A=this.options.chart,z=A.spacingTop,x=A.spacingRight,v=A.spacingBottom,u=A.spacingLeft,t,s,p,n;this.plotLeft=t=ar(this.plotLeft);this.plotTop=s=ar(this.plotTop);this.plotWidth=p=ar(C-t-this.marginRight);this.plotHeight=n=ar(B-s-this.marginBottom);this.plotSizeX=D?n:p;this.plotSizeY=D?p:n;this.plotBorderWidth=D=A.plotBorderWidth||0;this.spacingBox={x:u,y:z,width:C-u-x,height:B-z-v};this.plotBox={x:t,y:s,width:p,height:n};this.clipBox={x:D/2,y:D/2,width:this.plotSizeX-D,height:this.plotSizeY-D};aw(this.axes,function(E){E.setAxisSize();E.setAxisTranslation()})},resetMargins:function(){var p=this.options.chart,n=p.spacingRight,t=p.spacingBottom,s=p.spacingLeft;this.plotTop=au(this.optionsMarginTop,p.spacingTop);this.marginRight=au(this.optionsMarginRight,n);this.marginBottom=au(this.optionsMarginBottom,t);this.plotLeft=au(this.optionsMarginLeft,s);this.axisOffset=[0,0,0,0]},drawChartBox:function(){var U=this.options.chart,T=this.renderer,S=this.chartWidth,R=this.chartHeight,P=this.chartBackground,O=this.plotBackground,N=this.plotBorder,L=this.plotBGImage,K=U.borderWidth||0,H=U.backgroundColor,G=U.plotBackgroundColor,F=U.plotBackgroundImage,E=U.plotBorderWidth||0,C,B=this.plotLeft,D=this.plotTop,A=this.plotWidth,s=this.plotHeight,z=this.plotBox,x=this.clipRect,v=this.clipBox;C=K+(U.shadow?8:0);if(K||H){if(P){P.animate(P.crisp(null,null,null,S-C,R-C))}else{P={fill:H||aQ};if(K){P.stroke=U.borderColor,P["stroke-width"]=K}this.chartBackground=T.rect(C/2,C/2,S-C,R-C,U.borderRadius,K).attr(P).add().shadow(U.shadow)}}if(G){O?O.animate(z):this.plotBackground=T.rect(B,D,A,s,0).attr({fill:G}).add().shadow(U.plotShadow)}if(F){L?L.animate(z):this.plotBGImage=T.image(F,B,D,A,s).add()}x?x.animate({width:v.width,height:v.height}):this.clipRect=T.clipRect(v);if(E){N?N.animate(N.crisp(null,B,D,A,s)):this.plotBorder=T.rect(B,D,A,s,0,E).attr({stroke:U.plotBorderColor,"stroke-width":E,zIndex:1}).add()}this.isDirtyBox=!1},propFromSeries:function(){var p=this,n=p.options.chart,v,u=p.options.series,t,s;aw(["inverted","angular","polar"],function(x){v=aV[n.type||n.defaultSeriesType];s=p[x]||n[x]||v&&v.prototype[x];for(t=u&&u.length;!s&&t--;){(v=aV[u[t].type])&&v.prototype[x]&&(s=!0)}p[x]=s})},render:function(){var p=this,n=p.axes,v=p.renderer,u=p.options,t=u.labels,u=u.credits,s;p.setTitle();p.legend=new bQ(p);aw(n,function(x){x.setScale()});p.getMargins();p.maxTicks=null;aw(n,function(x){x.setTickPositions(!0);x.setMaxTicks()});p.adjustTickAmounts();p.getMargins();p.drawChartBox();p.hasCartesianSeries&&aw(n,function(x){x.render()});if(!p.seriesGroup){p.seriesGroup=v.g("series-group").attr({zIndex:3}).add()}aw(p.series,function(x){x.translate();x.setTooltipPoints();x.render()});t.items&&aw(t.items,function(x){var B=at(t.style,x.style),A=bi(B.left)+p.plotLeft,z=bi(B.top)+p.plotTop+12;delete B.left;delete B.top;v.text(x.html,A,z).attr({zIndex:2}).css(B).add()});if(u.enabled&&!p.credits){s=u.href,p.credits=v.text(u.text,0,0).on("click",function(){if(s){location.href=s}}).attr({align:u.position.align,zIndex:8}).css(u.style).add().align(u.position)}p.hasRendered=!0},destroy:function(){var p=this,n=p.axes,v=p.series,u=p.container,t,s=u&&u.parentNode;if(p!==null){a8(p,"destroy");aP(p);for(t=n.length;t--;){n[t]=n[t].destroy()}for(t=v.length;t--;){v[t]=v[t].destroy()}aw("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,tracker,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(x){var z=p[x];z&&(p[x]=z.destroy())});if(u){u.innerHTML="",aP(u),s&&bE(u),u=null}for(t in p){delete p[t]}p=p.options=null}},firstRender:function(){var p=this,n=p.options,s=p.callback;if(!bK&&aY==aY.top&&am.readyState!=="complete"||bA&&!aY.canvg){bA?bR.push(function(){p.firstRender()},n.global.canvasToolsURL):am.attachEvent("onreadystatechange",function(){am.detachEvent("onreadystatechange",p.firstRender);am.readyState==="complete"&&p.firstRender()})}else{p.getContainer();a8(p,"init");if(Highcharts.RangeSelector&&n.rangeSelector.enabled){p.rangeSelector=new Highcharts.RangeSelector(p)}p.resetMargins();p.setChartSize();p.propFromSeries();p.getAxes();aw(n.series||[],function(t){p.initSeries(t)});if(Highcharts.Scroller&&(n.navigator.enabled||n.scrollbar.enabled)){p.scroller=new Highcharts.Scroller(p)}p.tracker=new k(p,n);p.render();p.renderer.draw();s&&s.apply(p,[p]);aw(p.callbacks,function(t){t.apply(p,[p])});p.cloneRenderTo(!0);a8(p,"load")}},init:function(p){var n=this.options.chart,s;n.reflow!==!1&&a4(this,"load",this.initReflow);if(p){for(s in p){a4(this,s,p[s])}}this.xAxis=[];this.yAxis=[];this.animation=bA?!1:au(n.animation,!0);this.setSize=this.resize;this.pointCount=0;this.counters=new ac;this.firstRender()}};bB.prototype.callbacks=[];var bH=function(){};bH.prototype={init:function(p,n,t){var s=p.chart.counters;this.series=p;this.applyOptions(n,t);this.pointAttr={};if(p.options.colorByPoint){n=p.chart.options.colors,this.color=this.color||n[s.color++],s.wrapColor(n.length)}p.chart.pointCount++;return this},applyOptions:function(p,n){var t=this.series,s=typeof p;this.config=p;if(s==="number"||p===null){this.y=p}else{if(typeof p[0]==="number"){this.x=p[0],this.y=p[1]}else{if(s==="object"&&typeof p.length!=="number"){at(this,p);this.options=p;if(p.dataLabels){t._hasPointLabels=!0}if(p.marker){t._hasPointMarkers=!0}}else{if(typeof p[0]==="string"){this.name=p[0],this.y=p[1]}}}}if(this.x===ao){this.x=n===ao?t.autoIncrement():n}},destroy:function(){var p=this.series.chart,n=p.hoverPoints,s;p.pointCount--;if(n&&(this.setState(),bG(n,this),!n.length)){p.hoverPoints=null}if(this===p.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){aP(this),this.destroyElements()}this.legendItem&&p.legend.destroyItem(this);for(s in this){this[s]=null}},destroyElements:function(){for(var p="graphic,tracker,dataLabel,group,connector,shadowGroup".split(","),n,s=6;s--;){n=p[s],this[n]&&(this[n]=this[n].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(p,n){var t=this,s=t.series.chart,p=au(p,!t.selected);t.firePointEvent(p?"select":"unselect",{accumulate:n},function(){t.selected=p;t.setState(p&&"select");n||aw(s.getSelectedPoints(),function(u){if(u.selected&&u!==t){u.selected=!1,u.setState(""),u.firePointEvent("unselect")}})})},onMouseOver:function(){var p=this.series,n=p.chart,t=n.tooltip,s=n.hoverPoint;if(s&&s!==this){s.onMouseOut()}this.firePointEvent("mouseOver");t&&(!t.shared||p.noSharedTooltip)&&t.refresh(this);this.setState("hover");n.hoverPoint=this},onMouseOut:function(){var p=this.series.chart,n=p.hoverPoints;if(!n||r(this,n)===-1){this.firePointEvent("mouseOut"),this.setState(),p.hoverPoint=null}},tooltipFormatter:function(B){var A=this.series,z=A.tooltipOptions,x=B.match(/\{(series|point)\.[a-zA-Z]+\}/g),v=/[{\.}]/,u,t,s,p,n={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};z.valuePrefix=z.valuePrefix||z.yPrefix;z.valueDecimals=z.valueDecimals||z.yDecimals;z.valueSuffix=z.valueSuffix||z.ySuffix;for(p in x){t=x[p],by(t)&&t!==B&&(s=(" "+t).split(v),u={point:this,series:A}[s[1]],s=s[2],u===this&&n.hasOwnProperty(s)?(u=n[s]?s:"value",u=(z[u+"Prefix"]||"")+be(this[s],au(z[u+"Decimals"],-1))+(z[u+"Suffix"]||"")):u=u[s],B=B.replace(t,u))}return B},update:function(B,A,z){var x=this,v=x.series,u=x.graphic,t,s=v.data,p=s.length,n=v.chart,A=au(A,!0);x.firePointEvent("update",{options:B},function(){x.applyOptions(B);aJ(B)&&(v.getAttribs(),u&&u.attr(x.pointAttr[v.state]));for(t=0;t<p;t++){if(s[t]===x){v.xData[t]=x.x;v.yData[t]=x.y;v.options.data[t]=B;break}}v.isDirty=!0;v.isDirtyData=!0;A&&n.redraw(z)})},remove:function(p,n){var z=this,x=z.series,v=x.chart,u,t=x.data,s=t.length;aH(n,v);p=au(p,!0);z.firePointEvent("remove",null,function(){for(u=0;u<s;u++){if(t[u]===z){t.splice(u,1);x.options.data.splice(u,1);x.xData.splice(u,1);x.yData.splice(u,1);break}}z.destroy();x.isDirty=!0;x.isDirtyData=!0;p&&v.redraw()})},firePointEvent:function(p,n,u){var t=this,s=this.series.options;(s.point.events[p]||t.options&&t.options.events&&t.options.events[p])&&this.importEvents();p==="click"&&s.allowPointSelect&&(u=function(v){t.select(null,v.ctrlKey||v.metaKey||v.shiftKey)});a8(this,p,n,u)},importEvents:function(){if(!this.hasImportedEvents){var p=bf(this.series.options.point,this.options).events,n;this.events=p;for(n in p){a4(this,n,p[n])}this.hasImportedEvents=!0}},setState:function(D){var C=this.plotX,B=this.plotY,A=this.series,z=A.options.states,x=aK[A.type].marker&&A.options.marker,v=x&&!x.enabled,u=x&&x.states[D],t=u&&u.enabled===!1,s=A.stateMarkerGraphic,p=A.chart,n=this.pointAttr,D=D||"";if(!(D===this.state||this.selected&&D!=="select"||z[D]&&z[D].enabled===!1||D&&(t||v&&!u.enabled))){if(this.graphic){z=x&&this.graphic.symbolName&&n[D].r,this.graphic.attr(bf(n[D],z?{x:C-z,y:B-z,width:2*z,height:2*z}:{}))}else{if(D&&u){z=u.radius,s?s.attr({x:C-z,y:B-z}):A.stateMarkerGraphic=s=p.renderer.symbol(A.symbol,C-z,B-z,2*z,2*z).attr(n[D]).add(A.markerGroup)}if(s){s[D&&p.isInsidePlot(C,B)?"show":"hide"]()}}this.state=D}}};var aS=function(){};aS.prototype={isCartesian:!0,type:"line",pointClass:bH,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(p,n){var t,s;this.chart=p;this.options=n=this.setOptions(n);this.bindAxes();at(this,{name:n.name,state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0});if(bA){n.animation=!1}s=n.events;for(t in s){a4(this,t,s[t])}if(s&&s.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect){p.runTrackerClick=!0}this.getColor();this.getSymbol();this.setData(n.data,!1);if(this.isCartesian){p.hasCartesianSeries=!0}p.series.push(this);i(p.series,function(v,u){return(v.options.index||0)-(u.options.index||0)});aw(p.series,function(v,u){v.index=u;v.name=v.name||"Series "+(u+1)})},bindAxes:function(){var p=this,n=p.options,t=p.chart,s;p.isCartesian&&aw(["xAxis","yAxis"],function(u){aw(t[u],function(v){s=v.options;if(n[u]===s.index||n[u]===ao&&s.index===0){v.series.push(p),p[u]=v,v.isDirty=!0}})})},autoIncrement:function(){var p=this.options,n=this.xIncrement,n=au(n,p.pointStart,0);this.pointInterval=au(this.pointInterval,p.pointInterval,1);this.xIncrement=n+this.pointInterval;return n},getSegments:function(){var p=-1,n=[],u,t=this.points,s=t.length;if(s){if(this.options.connectNulls){for(u=s;u--;){t[u].y===null&&t.splice(u,1)}t.length&&(n=[t])}else{aw(t,function(x,v){x.y===null?(v>p+1&&n.push(t.slice(p+1,v)),p=v):v===s-1&&n.push(t.slice(p+1,v+1))})}}this.segments=n},setOptions:function(p){var n=this.chart.options,u=n.plotOptions,t=u[this.type],s=p.data;p.data=null;u=bf(t,u.series,p);u.data=p.data=s;this.tooltipOptions=bf(n.tooltip,u.tooltip);t.marker===null&&delete u.marker;return u},getColor:function(){var p=this.options,n=this.chart.options.colors,s=this.chart.counters;this.color=p.color||!p.colorByPoint&&n[s.color++]||"gray";s.wrapColor(n.length)},getSymbol:function(){var p=this.options.marker,n=this.chart,s=n.options.symbols,n=n.counters;this.symbol=p.symbol||s[n.symbol++];if(/^url/.test(this.symbol)){p.radius=0}n.wrapSymbol(s.length)},drawLegendSymbol:function(p){var n=this.options,x=n.marker,v=p.options.symbolWidth,u=this.chart.renderer,t=this.legendGroup,p=p.baseline,s;if(n.lineWidth){s={"stroke-width":n.lineWidth};if(n.dashStyle){s.dashstyle=n.dashStyle}this.legendLine=u.path(["M",0,p-4,"L",v,p-4]).attr(s).add(t)}if(x&&x.enabled){n=x.radius,this.legendSymbol=u.symbol(this.symbol,v/2-n,p-4-n,2*n,2*n).attr(this.pointAttr[""]).add(t)}},addPoint:function(E,D,C,B){var A=this.data,z=this.graph,x=this.area,v=this.chart,u=this.xData,t=this.yData,s=z&&z.shift||0,p=this.options.data,n=this.pointClass.prototype;aH(B,v);if(z&&C){z.shift=s+1}if(x){if(C){x.shift=s+1}x.isArea=!0}D=au(D,!0);B={series:this};n.applyOptions.apply(B,[E]);u.push(B.x);t.push(n.toYData?n.toYData.call(B):B.y);p.push(E);C&&(A[0]&&A[0].remove?A[0].remove(!1):(A.shift(),u.shift(),t.shift(),p.shift()));this.getAttribs();this.isDirtyData=this.isDirty=!0;D&&v.redraw()},setData:function(E,D){var C=this.points,B=this.options,A=this.initialColor,z=this.chart,x=null,v=this.xAxis,u,t=this.pointClass.prototype;this.xIncrement=null;this.pointRange=v&&v.categories?1:B.pointRange;if(aq(A)){z.counters.color=A}var A=[],s=[],p=E?E.length:[],n=(u=this.pointArrayMap)&&u.length;if(p>(B.turboThreshold||1000)){for(u=0;x===null&&u<p;){x=E[u],u++}if(bP(x)){t=au(B.pointStart,0);B=au(B.pointInterval,1);for(u=0;u<p;u++){A[u]=t,s[u]=E[u],t+=B}this.xIncrement=t}else{if(j(x)){if(n){for(u=0;u<p;u++){B=E[u],A[u]=B[0],s[u]=B.slice(1,n+1)}}else{for(u=0;u<p;u++){B=E[u],A[u]=B[0],s[u]=B[1]}}}}}else{for(u=0;u<p;u++){B={series:this},t.applyOptions.apply(B,[E[u]]),A[u]=B.x,s[u]=t.toYData?t.toYData.call(B):B.y}}by(s[0])&&bg(14,!0);this.data=[];this.options.data=E;this.xData=A;this.yData=s;for(u=C&&C.length||0;u--;){C[u]&&C[u].destroy&&C[u].destroy()}if(v){v.minRange=v.userMinRange}this.isDirty=this.isDirtyData=z.isDirtyBox=!0;au(D,!0)&&z.redraw(!1)},remove:function(p,n){var t=this,s=t.chart,p=au(p,!0);if(!t.isRemoving){t.isRemoving=!0,a8(t,"remove",null,function(){t.destroy();s.isDirtyLegend=s.isDirtyBox=!0;p&&s.redraw(n)})}t.isRemoving=!1},processData:function(D){var C=this.xData,B=this.yData,A=C.length,z=0,x=A,v,u,t=this.xAxis,s=this.options,p=s.cropThreshold,n=this.isCartesian;if(n&&!this.isDirty&&!t.isDirty&&!this.yAxis.isDirty&&!D){return !1}if(n&&this.sorted&&(!p||A>p||this.forceCrop)){if(D=t.getExtremes(),t=D.min,p=D.max,C[A-1]<t||C[0]>p){C=[],B=[]}else{if(C[0]<t||C[A-1]>p){for(D=0;D<A;D++){if(C[D]>=t){z=ap(0,D-1);break}}for(;D<A;D++){if(C[D]>p){x=D+1;break}}C=C.slice(z,x);B=B.slice(z,x);v=!0}}}for(D=C.length-1;D>0;D--){if(A=C[D]-C[D-1],A>0&&(u===ao||A<u)){u=A}}this.cropped=v;this.cropStart=z;this.processedXData=C;this.processedYData=B;if(s.pointRange===null){this.pointRange=u||1}this.closestPointRange=u},generatePoints:function(){var E=this.options.data,D=this.data,C,B=this.processedXData,A=this.processedYData,z=this.pointClass,x=B.length,v=this.cropStart||0,u,t=this.hasGroupedData,s,p=[],n;if(!D&&!t){D=[],D.length=E.length,D=this.data=D}for(n=0;n<x;n++){u=v+n,t?p[n]=(new z).init(this,[B[n]].concat(aD(A[n]))):(D[u]?s=D[u]:E[u]!==ao&&(D[u]=s=(new z).init(this,E[u],B[n])),p[n]=s)}if(D&&(x!==(C=D.length)||t)){for(n=0;n<C;n++){if(n===v&&!t&&(n+=x),D[n]){D[n].destroyElements(),D[n].plotX=ao}}}this.data=D;this.points=p},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var L=this.chart,K=this.options,H=K.stacking,G=this.xAxis,F=G.categories,E=this.yAxis,D=this.points,C=D.length,B=!!this.modifyValue,A,z=E.series,x=z.length,v=K.pointPlacement==="between";x--;){if(z[x].visible){z[x]===this&&(A=!0);break}}for(x=0;x<C;x++){var z=D[x],t=z.x,u=z.y,N=z.low,p=E.stacks[(u<K.threshold?"-":"")+this.stackKey];z.plotX=G.translate(t,0,0,0,1,v);if(H&&this.visible&&p&&p[t]){N=p[t],t=N.total,N.cum=N=N.cum-u,u=N+u,A&&(N=au(K.threshold,E.isLog?null:E.min)),H==="percent"&&(N=t?N*100/t:0,u=t?u*100/t:0),z.percentage=t?z.y*100/t:0,z.total=z.stackTotal=t,z.stackY=u}z.yBottom=aq(N)?E.translate(N,0,1,0,1):null;B&&(u=this.modifyValue(u,z));z.plotY=typeof u==="number"?ar(E.translate(u,0,1,0,1)*10)/10:ao;z.clientX=L.inverted?L.plotHeight-z.plotX:z.plotX;z.category=F&&F[z.x]!==ao?F[z.x]:z.x}this.getSegments()},setTooltipPoints:function(A){var z=[],x,v,u=(x=this.xAxis)?x.tooltipLen||x.len:this.chart.plotSizeX,t=x&&x.tooltipPosName||"plotX",s,p,n=[];if(this.options.enableMouseTracking!==!1){if(A){this.tooltipPoints=null}aw(this.segments||this.points,function(B){z=z.concat(B)});x&&x.reversed&&(z=z.reverse());A=z.length;for(p=0;p<A;p++){s=z[p];x=z[p-1]?v+1:0;for(v=z[p+1]?ap(0,aO((s[t]+(z[p+1]?z[p+1][t]:u))/2)):u;x>=0&&x<=v;){n[x++]=s}}this.tooltipPoints=n}},tooltipHeaderFormatter:function(p){var n=this.tooltipOptions,v=n.xDateFormat,u=this.xAxis,t=u&&u.options.type==="datetime",s;if(t&&!v){for(s in bd){if(bd[s]>=u.closestPointRange){v=n.dateTimeLabelFormats[s];break}}}return n.headerFormat.replace("{point.key}",t?av(v,p):p).replace("{series.name}",this.name).replace("{series.color}",this.color)},onMouseOver:function(){var p=this.chart,n=p.hoverSeries;if(n&&n!==this){n.onMouseOut()}this.options.events.mouseOver&&a8(this,"mouseOver");this.setState("hover");p.hoverSeries=this},onMouseOut:function(){var p=this.options,n=this.chart,t=n.tooltip,s=n.hoverPoint;if(s){s.onMouseOut()}this&&p.events.mouseOut&&a8(this,"mouseOut");t&&!p.stickyTracking&&!t.shared&&t.hide();this.setState();n.hoverSeries=null},animate:function(p){var n=this,z=n.chart,x=z.renderer,v;v=n.options.animation;var u=z.clipBox,t=z.inverted,s;if(v&&!aJ(v)){v=aK[n.type].animation}s="_sharedClip"+v.duration+v.easing;if(p){p=z[s],v=z[s+"m"],p||(z[s]=p=x.clipRect(at(u,{width:0})),z[s+"m"]=v=x.clipRect(-99,t?-z.plotLeft:-z.plotTop,99,t?z.chartWidth:z.chartHeight)),n.group.clip(p),n.markerGroup.clip(v),n.sharedClipKey=s}else{if(p=z[s]){p.animate({width:z.plotSizeX},v),z[s+"m"].animate({width:z.plotSizeX+99},v)}n.animate=null;n.animationTimeout=setTimeout(function(){n.afterAnimate()},v.duration)}},afterAnimate:function(){var p=this.chart,n=this.sharedClipKey,s=this.group;s&&this.options.clip!==!1&&(s.clip(p.clipRect),this.markerGroup.clip());setTimeout(function(){n&&p[n]&&(p[n]=p[n].destroy(),p[n+"m"]=p[n+"m"].destroy())},100)},drawPoints:function(){var F,E=this.points,D=this.chart,C,B,A,z,x,v,u,t,s=this.options.marker,p,n=this.markerGroup;if(s.enabled||this._hasPointMarkers){for(A=E.length;A--;){if(z=E[A],C=z.plotX,B=z.plotY,t=z.graphic,v=z.marker||{},F=s.enabled&&v.enabled===ao||v.enabled,p=D.isInsidePlot(C,B,D.inverted),F&&B!==ao&&!isNaN(B)){if(F=z.pointAttr[z.selected?"select":""],x=F.r,v=au(v.symbol,this.symbol),u=v.indexOf("url")===0,t){t.attr({visibility:p?bK?"inherit":"visible":"hidden"}).animate(at({x:C-x,y:B-x},t.symbolName?{width:2*x,height:2*x}:{}))}else{if(p&&(x>0||u)){z.graphic=D.renderer.symbol(v,C-x,B-x,2*x,2*x).attr(F).add(n)}}}}}},convertAttribs:function(p,n,z,x){var v=this.pointAttrToOptions,u,t,s={},p=p||{},n=n||{},z=z||{},x=x||{};for(u in v){t=v[u],s[u]=au(p[t],n[u],z[u],x[u])}return s},getAttribs:function(){var D=this,C=aK[D.type].marker?D.options.marker:D.options,B=C.states,A=B.hover,z,x=D.color,v={stroke:x,fill:x},u=D.points||[],t=[],s,p=D.pointAttrToOptions,n;D.options.marker?(A.radius=A.radius||C.radius+2,A.lineWidth=A.lineWidth||C.lineWidth+1):A.color=A.color||l(A.color||x).brighten(A.brightness).get();t[""]=D.convertAttribs(C,v);aw(["hover","select"],function(E){t[E]=D.convertAttribs(B[E],t[""])});D.pointAttr=t;for(x=u.length;x--;){v=u[x];if((C=v.options&&v.options.marker||v.options)&&C.enabled===!1){C.radius=0}z=D.options.colorByPoint;if(v.options){for(n in p){aq(C[p[n]])&&(z=!0)}}if(z){C=C||{};s=[];B=C.states||{};z=B.hover=B.hover||{};if(!D.options.marker){z.color=l(z.color||v.color).brighten(z.brightness||A.brightness).get()}s[""]=D.convertAttribs(at({color:v.color},C),t[""]);s.hover=D.convertAttribs(B.hover,t.hover,s[""]);s.select=D.convertAttribs(B.select,t.select,s[""])}else{s=t}v.pointAttr=s}},destroy:function(){var A=this,z=A.chart,x=/AppleWebKit\/533/.test(bv),v,u,t=A.data||[],s,p,n;a8(A,"destroy");aP(A);aw(["xAxis","yAxis"],function(B){if(n=A[B]){bG(n.series,A),n.isDirty=!0}});A.legendItem&&A.chart.legend.destroyItem(A);for(u=t.length;u--;){(s=t[u])&&s.destroy&&s.destroy()}A.points=null;clearTimeout(A.animationTimeout);aw("area,graph,dataLabelsGroup,group,markerGroup,tracker,trackerGroup".split(","),function(B){A[B]&&(v=x&&B==="group"?"hide":"destroy",A[B][v]())});if(z.hoverSeries===A){z.hoverSeries=null}bG(z.series,A);for(p in A){delete A[p]}},drawDataLabels:function(){var T=this,S=T.options,R=S.dataLabels;if(R.enabled||T._hasPointLabels){var P,O,N=T.points,L,K,H,G,F=T.chart,E=F.renderer,D=F.inverted,C=T.type,x=S.stacking,u=C==="column"||C==="bar",z=R.verticalAlign===null,n=R.y===null,t=E.fontMetrics(R.style.fontSize),B=t.h,p=t.b;u&&(t={top:p,middle:p-B/2,bottom:-B+p},x?(z&&(R=bf(R,{verticalAlign:"middle"})),n&&(R=bf(R,{y:t[R.verticalAlign]}))):z?R=bf(R,{verticalAlign:"top"}):n&&(R=bf(R,{y:t[R.verticalAlign]})));G=T.plotGroup("dataLabelsGroup","data-labels",T.visible?"visible":"hidden",6);K=R;aw(N,function(U){var Y,A,X,s,W=U.dataLabel;R=K;(L=U.options)&&L.dataLabels&&(R=bf(R,L.dataLabels));if(s=R.enabled){Y=U.barX&&U.barX+U.barW/2||au(U.plotX,-999),A=au(U.plotY,-999),X=R.y===null?U.y>=S.threshold?-B+p:p:R.y,P=(D?F.plotWidth-A:Y)+R.x,O=ar((D?F.plotHeight-Y:A)+X)}T.isCartesian&&!F.isInsidePlot(P-R.x,O)&&(s=!1);if(W&&!s){U.dataLabel=W.destroy()}else{if(s){Y=R.align;var V;H=R.formatter.call(U.getLabelConfig(),R);C==="column"&&(P+={left:-1,right:1}[Y]*U.barW/2||0);!x&&D&&U.y<0&&(Y="right",P-=10);R.style.color=au(R.color,R.style.color,T.color,"black");if(W){W.attr({text:H}).animate({x:P,y:O})}else{if(aq(H)){W={align:Y,fill:R.backgroundColor,stroke:R.borderColor,"stroke-width":R.borderWidth,r:R.borderRadius||0,rotation:R.rotation,padding:R.padding,zIndex:1};for(V in W){W[V]===ao&&delete W[V]}W=U.dataLabel=E[R.rotation?"text":"label"](H,P,O,null,null,null,R.useHTML,!0).attr(W).css(R.style).add(G).shadow(R.shadow)}}if(u&&S.stacking&&W){V=U.barX,Y=U.barY,A=U.barW,U=U.barH,W.align(R,null,{x:D?F.plotWidth-Y-U:V,y:D?F.plotHeight-V-A:Y,width:D?U:A,height:D?A:U})}}}})}},getSegmentPath:function(p){var n=this,s=[];aw(p,function(u,t){n.getPointSpline?s.push.apply(s,n.getPointSpline(p,u,t)):(s.push(t?"L":"M"),t&&n.options.step&&s.push(u.plotX,p[t-1].plotY),s.push(u.plotX,u.plotY))});return s},getGraphPath:function(){var p=this,n=[],t,s=[];aw(p.segments,function(u){t=p.getSegmentPath(u);u.length>1?n=n.concat(t):s.push(u[0])});p.singlePoints=s;return p.graphPath=n},drawGraph:function(){var p=this.options,n=this.graph,x=this.group,v=p.lineColor||this.color,u=p.lineWidth,t=p.dashStyle,s=this.getGraphPath();if(n){f(n),n.animate({d:s})}else{if(u){n={stroke:v,"stroke-width":u,zIndex:1};if(t){n.dashstyle=t}this.graph=this.chart.renderer.path(s).attr(n).add(x).shadow(p.shadow)}}},invertGroups:function(){function p(){var t={width:n.yAxis.len,height:n.xAxis.len};aw(["group","trackerGroup","markerGroup"],function(u){n[u]&&n[u].attr(t).invert()})}var n=this,s=n.chart;a4(s,"resize",p);a4(n,"destroy",function(){aP(s,"resize",p)});p();n.invertGroups=p},plotGroup:function(A,z,x,v,u){var t=this[A],s=this.chart,p=this.xAxis,n=this.yAxis;t||(this[A]=t=s.renderer.g(z).attr({visibility:x,zIndex:v||0.1}).add(u));t.translate(p?p.left:s.plotLeft,n?n.top:s.plotTop);return t},render:function(){var p=this.chart,n,z=this.options,x=z.animation&&!!this.animate,v=this.visible?"visible":"hidden",u=z.zIndex,t=this.hasRendered,s=p.seriesGroup;n=this.plotGroup("group","series",v,u,s);this.markerGroup=this.plotGroup("markerGroup","markers",v,u,s);this.drawDataLabels();x&&this.animate(!0);this.getAttribs();n.inverted=p.inverted;this.drawGraph&&this.drawGraph();this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();p.inverted&&this.invertGroups();z.clip!==!1&&!this.sharedClipKey&&!t&&(n.clip(p.clipRect),this.trackerGroup&&this.trackerGroup.clip(p.clipRect));x?this.animate():t||this.afterAnimate();this.isDirty=this.isDirtyData=!1;this.hasRendered=!0},redraw:function(){var p=this.chart,n=this.isDirtyData,s=this.group;s&&(p.inverted&&s.attr({width:p.plotWidth,height:p.plotHeight}),s.animate({translateX:this.xAxis.left,translateY:this.yAxis.top}));this.translate();this.setTooltipPoints(!0);this.render();n&&a8(this,"updatedData")},setState:function(p){var n=this.options,t=this.graph,s=n.states,n=n.lineWidth,p=p||"";if(this.state!==p){this.state=p,s[p]&&s[p].enabled===!1||(p&&(n=s[p].lineWidth||n+1),t&&!t.dashstyle&&t.attr({"stroke-width":n},p?0:500))}},setVisible:function(C,B){var A=this.chart,z=this.legendItem,x=this.group,v=this.tracker,u=this.dataLabelsGroup,t=this.markerGroup,s,p=this.points,n=A.options.chart.ignoreHiddenSeries;s=this.visible;s=(this.visible=C=C===ao?!s:C)?"show":"hide";if(x){x[s]()}if(t){t[s]()}if(v){v[s]()}else{if(p){for(x=p.length;x--;){if(v=p[x],v.tracker){v.tracker[s]()}}}}if(u){u[s]()}z&&A.legend.colorizeItem(this,C);this.isDirty=!0;this.options.stacking&&aw(A.series,function(D){if(D.options.stacking&&D.visible){D.isDirty=!0}});if(n){A.isDirtyBox=!0}B!==!1&&A.redraw();a8(this,s)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=n===ao?!this.selected:n;if(this.checkbox){this.checkbox.checked=n}a8(this,n?"select":"unselect")},drawTracker:function(){var E=this,D=E.options,C=D.trackByArea,B=[].concat(C?E.areaPath:E.graphPath),A=B.length,z=E.chart,x=z.renderer,v=z.options.tooltip.snap,u=E.tracker,t=D.cursor,t=t&&{cursor:t},s=E.singlePoints,p=this.isCartesian&&this.plotGroup("trackerGroup",null,"visible",D.zIndex||1,z.trackerGroup),n;if(A&&!C){for(n=A+1;n--;){B[n]==="M"&&B.splice(n+1,0,B[n+1]-v,B[n+2],"L"),(n&&B[n]==="M"||n===A)&&B.splice(n,0,"L",B[n-2]+v,B[n-1])}}for(n=0;n<s.length;n++){A=s[n],B.push("M",A.plotX-v,A.plotY,"L",A.plotX+v,A.plotY)}u?u.attr({d:B}):E.tracker=x.path(B).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:E.visible?"visible":"hidden",stroke:q,fill:C?q:aQ,"stroke-width":D.lineWidth+(C?0:2*v)}).on(bu?"touchstart":"mouseover",function(){if(z.hoverSeries!==E){E.onMouseOver()}}).on("mouseout",function(){if(!D.stickyTracking){E.onMouseOut()}}).css(t).add(p)}};a6=M(aS);aV.line=a6;aK.area=bf(aM,{threshold:0});a6=M(aS,{type:"area",getSegmentPath:function(p){var n=aS.prototype.getSegmentPath.call(this,p),u=[].concat(n),t,s=this.options;n.length===3&&u.push("L",n[1],n[2]);if(s.stacking&&!this.closedStacks){for(t=p.length-1;t>=0;t--){t<p.length-1&&s.step&&u.push(p[t+1].plotX,p[t].yBottom),u.push(p[t].plotX,p[t].yBottom)}}else{this.closeSegment(u,p)}this.areaPath=this.areaPath.concat(u);return n},closeSegment:function(p,n){var s=this.yAxis.getThreshold(this.options.threshold);p.push("L",n[n.length-1].plotX,s,"L",n[0].plotX,s)},drawGraph:function(){this.areaPath=[];aS.prototype.drawGraph.apply(this);var p=this.areaPath,n=this.options,s=this.area;s?s.animate({d:p}):this.area=this.chart.renderer.path(p).attr({fill:au(n.fillColor,l(this.color).setOpacity(n.fillOpacity||0.75).get()),zIndex:0}).add(this.group)},drawLegendSymbol:function(p,n){n.legendSymbol=this.chart.renderer.rect(0,p.baseline-11,p.options.symbolWidth,12,2).attr({zIndex:3}).add(n.legendGroup)}});aV.area=a6;aK.spline=bf(aM);a1=M(aS,{type:"spline",getPointSpline:function(D,C,B){var A=C.plotX,z=C.plotY,x=D[B-1],v=D[B+1],u,t,s,p;if(x&&v){D=x.plotY;s=v.plotX;var v=v.plotY,n;u=(1.5*A+x.plotX)/2.5;t=(1.5*z+D)/2.5;s=(1.5*A+s)/2.5;p=(1.5*z+v)/2.5;n=(p-t)*(s-A)/(s-u)+z-p;t+=n;p+=n;t>D&&t>z?(t=ap(D,z),p=2*z-t):t<D&&t<z&&(t=aU(D,z),p=2*z-t);p>v&&p>z?(p=ap(v,z),t=2*z-p):p<v&&p<z&&(p=aU(v,z),t=2*z-p);C.rightContX=s;C.rightContY=p}B?(C=["C",x.rightContX||x.plotX,x.rightContY||x.plotY,u||A,t||z,A,z],x.rightContX=x.rightContY=null):C=["M",A,z];return C}});aV.spline=a1;aK.areaspline=bf(aK.area);var bF=a6.prototype,a1=M(a1,{type:"areaspline",closedStacks:!0,getSegmentPath:bF.getSegmentPath,closeSegment:bF.closeSegment,drawGraph:bF.drawGraph});aV.areaspline=a1;aK.column=bf(aM,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{y:null,verticalAlign:null},threshold:0});a3=M(aS,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){aS.prototype.init.apply(this,arguments);var p=this,n=p.chart;n.hasRendered&&aw(n.series,function(s){if(s.type===p.type){s.isDirty=!0}})},translate:function(){var T=this,S=T.chart,R=T.options,P=R.stacking,O=R.borderWidth,N=0,L=T.xAxis,K=L.reversed,H={},G,F;aS.prototype.translate.apply(T);R.grouping===!1?N=1:aw(S.series,function(t){var A=t.options;if(t.type===T.type&&t.visible&&T.options.group===A.group){A.stacking?(G=t.stackKey,H[G]===ao&&(H[G]=N++),F=H[G]):A.grouping!==!1&&(F=N++),t.columnIndex=F}});var E=T.points,L=aX(L.transA)*(L.ordinalSlope||R.pointRange||L.closestPointRange||1),D=L*R.groupPadding,C=(L-2*D)/N,u=R.pointWidth,s=aq(u)?(C-u)/2:C*R.pointPadding,x=au(u,C-2*s),n=w(ap(x,1+2*O)),v=s+(D+((K?N-T.columnIndex:T.columnIndex)||0)*C-L/2)*(K?-1:1),z=T.yAxis.getThreshold(R.threshold),p=au(R.minPointLength,5);aw(E,function(X){var W=X.plotY,V=au(X.yBottom,z),U=X.plotX+v,B=w(aU(W,V)),A=w(ap(W,V)-B),t=T.yAxis.stacks[(X.y<0?"-":"")+T.stackKey];P&&T.visible&&t&&t[X.x]&&t[X.x].setOffset(v,n);aX(A)<p&&p&&(A=p,B=aX(B-z)>p?V-p:z-(W<=z?p:0));at(X,{barX:U,barY:B,barW:n,barH:A,pointWidth:x});X.shapeType="rect";X.shapeArgs=W=S.renderer.Element.prototype.crisp.call(0,O,U,B,n,A);O%2&&(W.y-=1,W.height+=1);X.trackerArgs=aX(A)<3&&bf(X.shapeArgs,{height:6,y:B-3})})},getSymbol:a3,drawLegendSymbol:a6.prototype.drawLegendSymbol,drawGraph:a3,drawPoints:function(){var p=this,n=p.options,u=p.chart.renderer,t,s;aw(p.points,function(x){var v=x.plotY;if(v!==ao&&!isNaN(v)&&x.y!==null){t=x.graphic,s=x.shapeArgs,t?(f(t),t.animate(bf(s))):x.graphic=t=u[x.shapeType](s).attr(x.pointAttr[x.selected?"select":""]).add(p.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius)}})},drawTracker:function(){var E=this,D=E.chart,C=D.renderer,B,A,z=+new Date,x=E.options,v=x.cursor,u=v&&{cursor:v},t=E.isCartesian&&E.plotGroup("trackerGroup",null,"visible",x.zIndex||1,D.trackerGroup),s,p,n;aw(E.points,function(F){A=F.tracker;B=F.trackerArgs||F.shapeArgs;p=F.plotY;n=!E.isCartesian||p!==ao&&!isNaN(p);delete B.strokeWidth;if(F.y!==null&&n){A?A.attr(B):F.tracker=C[F.shapeType](B).attr({isTracker:z,fill:q,visibility:E.visible?"visible":"hidden"}).on(bu?"touchstart":"mouseover",function(G){s=G.relatedTarget||G.fromElement;if(D.hoverSeries!==E&&bh(s,"isTracker")!==z){E.onMouseOver()}F.onMouseOver()}).on("mouseout",function(G){if(!x.stickyTracking&&(s=G.relatedTarget||G.toElement,bh(s,"isTracker")!==z)){E.onMouseOut()}}).css(u).add(F.group||t)}})},animate:function(p){var n=this,t=n.points,s=n.options;if(!p){aw(t,function(u){var z=u.graphic,u=u.shapeArgs,x=n.yAxis,v=s.threshold;z&&(z.attr({height:0,y:aq(v)?x.getThreshold(v):x.translate(x.getExtremes().min,0,1,0,1)}),z.animate({height:u.height,y:u.y},s.animation))}),n.animate=null}},remove:function(){var p=this,n=p.chart;n.hasRendered&&aw(n.series,function(s){if(s.type===p.type){s.isDirty=!0}});aS.prototype.remove.apply(p,arguments)}});aV.column=a3;aK.bar=bf(aK.column,{dataLabels:{align:"left",x:5,y:null,verticalAlign:"middle"}});a1=M(a3,{type:"bar",inverted:!0});aV.bar=a1;aK.scatter=bf(aM,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});a1=M(aS,{type:"scatter",sorted:!1,translate:function(){var n=this;aS.prototype.translate.apply(n);aw(n.points,function(p){p.shapeType="circle";p.shapeArgs={x:p.plotX,y:p.plotY,r:n.chart.options.tooltip.snap}})},drawTracker:function(){for(var p=this,n=p.options.cursor,n=n&&{cursor:n},u=p.points,t=u.length,s;t--;){if(s=u[t].graphic){s.element._i=t}}p._hasTracking?p._hasTracking=!0:p.markerGroup.attr({isTracker:!0}).on(bu?"touchstart":"mouseover",function(v){p.onMouseOver();if(v.target._i!==ao){u[v.target._i].onMouseOver()}}).on("mouseout",function(){if(!p.options.stickyTracking){p.onMouseOut()}}).css(n)}});aV.scatter=a1;aK.pie=bf(aM,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}}});aM={type:"pie",isCartesian:!1,pointClass:M(bH,{init:function(){bH.prototype.init.apply(this,arguments);var p=this,n;at(p,{visible:p.visible!==!1,name:au(p.name,"Slice")});n=function(){p.slice()};a4(p,"select",n);a4(p,"unselect",n);return p},setVisible:function(p){var n=this.series,z=n.chart,x=this.tracker,v=this.dataLabel,u=this.connector,t=this.shadowGroup,s;s=(this.visible=p=p===ao?!this.visible:p)?"show":"hide";this.group[s]();if(x){x[s]()}if(v){v[s]()}if(u){u[s]()}if(t){t[s]()}this.legendItem&&z.legend.colorizeItem(this,p);if(!n.isDirty&&n.options.ignoreHiddenPoint){n.isDirty=!0,z.redraw()}},slice:function(p,n,u){var t=this.series.chart,s=this.slicedTranslation;aH(u,t);au(n,!0);p=this.sliced=aq(p)?p:!this.sliced;p={translateX:p?s[0]:t.plotLeft,translateY:p?s[1]:t.plotTop};this.group.animate(p);this.shadowGroup&&this.shadowGroup.animate(p)}}),pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var n=this;aw(n.points,function(p){var t=p.graphic,p=p.shapeArgs,s=-c/2;t&&(t.attr({r:0,start:s,end:s}),t.animate({r:p.r,start:p.start,end:p.end},n.options.animation))});n.animate=null},setData:function(p,n){aS.prototype.setData.call(this,p,!1);this.processData();this.generatePoints();au(n,!0)&&this.chart.redraw()},getCenter:function(){var p=this.options,n=this.chart,v=n.plotWidth,u=n.plotHeight,p=p.center.concat([p.size,p.innerSize||0]),t=aU(v,u),s;return d(p,function(z,x){return(s=/%$/.test(z))?[v,u,t,t][x]*bi(z)/100:z})},translate:function(){this.generatePoints();var L=0,K=-0.25,H=this.options,G=H.slicedOffset,F=G+H.borderWidth,E,D=this.chart,C,B,A,z=this.points,x=2*c,v,u,t,N=H.dataLabels.distance,n=H.ignoreHiddenPoint;this.center=E=this.getCenter();this.getX=function(s,p){A=aZ.asin((s-E[1])/(E[2]/2+N));return E[0]+(p?-1:1)*aN(A)*(E[2]/2+N)};aw(z,function(p){L+=n&&!p.visible?0:p.y});aw(z,function(p){v=L?p.y/L:0;C=ar(K*x*1000)/1000;if(!n||p.visible){K+=v}B=ar(K*x*1000)/1000;p.shapeType="arc";p.shapeArgs={x:E[0],y:E[1],r:E[2]/2,innerR:E[3]/2,start:C,end:B};A=(B+C)/2;p.slicedTranslation=d([aN(A)*G+D.plotLeft,br(A)*G+D.plotTop],ar);u=aN(A)*E[2]/2;t=br(A)*E[2]/2;p.tooltipPos=[E[0]+u*0.7,E[1]+t*0.7];p.labelPos=[E[0]+u+aN(A)*N,E[1]+t+br(A)*N,E[0]+u+aN(A)*F,E[1]+t+br(A)*F,E[0]+u,E[1]+t,N<0?"center":A<x/4?"left":"right",A];p.percentage=v*100;p.total=L});this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=!1},drawPoints:function(){var A=this,z=A.chart,x=z.renderer,v,u,t,s=A.options.shadow,p,n;aw(A.points,function(B){u=B.graphic;n=B.shapeArgs;t=B.group;p=B.shadowGroup;if(s&&!p){p=B.shadowGroup=x.g("shadow").attr({zIndex:4}).add()}if(!t){t=B.group=x.g("point").attr({zIndex:5}).add()}v=B.sliced?B.slicedTranslation:[z.plotLeft,z.plotTop];t.translate(v[0],v[1]);p&&p.translate(v[0],v[1]);u?u.animate(n):B.graphic=u=x.arc(n).setRadialReference(A.center).attr(at(B.pointAttr[""],{"stroke-linejoin":"round"})).add(B.group).shadow(s,p);B.visible===!1&&B.setVisible(!1)})},drawDataLabels:function(){var bU=this.data,bb,ba=this.chart,ab=this.options.dataLabels,aa=au(ab.connectorPadding,10),Z=au(ab.connectorWidth,1),Y,X,W=au(ab.softConnector,!0),V=ab.distance,U=this.center,T=U[2]/2,S=U[1],R=V>0,L=[[],[]],H,O,G,F,E=2,D;if(ab.enabled||this._hasPointLabels){aS.prototype.drawDataLabels.apply(this);aw(bU,function(s){s.dataLabel&&L[s.labelPos[7]<c/2?0:1].push(s)});L[1].reverse();F=function(t,s){return s.y-t.y};for(bU=L[0][0]&&L[0][0].dataLabel&&(L[0][0].dataLabel.getBBox().height||21);E--;){var p=[],N=[],P=L[E],K=P.length,n;if(V>0){for(D=S-T-V;D<=S+T+V;D+=bU){p.push(D)}G=p.length;if(K>G){X=[].concat(P);X.sort(F);for(D=K;D--;){X[D].rank=D}for(D=K;D--;){P[D].rank>=G&&P.splice(D,1)}K=P.length}for(D=0;D<K;D++){bb=P[D];X=bb.labelPos;bb=9999;for(O=0;O<G;O++){Y=aX(p[O]-X[1]),Y<bb&&(bb=Y,n=O)}if(n<D&&p[D]!==null){n=D}else{for(G<K-D+n&&p[D]!==null&&(n=G-K+D);p[n]===null;){n++}}N.push({i:n,y:p[n]});p[n]=null}N.sort(F)}for(D=0;D<K;D++){bb=P[D];X=bb.labelPos;Y=bb.dataLabel;G=bb.visible===!1?"hidden":"visible";H=X[1];if(V>0){if(O=N.pop(),n=O.i,O=O.y,H>O&&p[n+1]!==null||H<O&&p[n-1]!==null){O=H}}else{O=H}H=ab.justify?U[0]+(E?-1:1)*(T+V):this.getX(n===0||n===p.length-1?H:O,E);Y.attr({visibility:G,align:X[6]})[Y.moved?"animate":"attr"]({x:H+ab.x+({left:aa,right:-aa}[X[6]]||0),y:O+ab.y});Y.moved=!0;if(R&&Z){Y=bb.connector,X=W?["M",H+(X[6]==="left"?5:-5),O,"C",H,O,2*X[2]-X[4],2*X[3]-X[5],X[2],X[3],"L",X[4],X[5]]:["M",H+(X[6]==="left"?5:-5),O,"L",X[2],X[3],"L",X[4],X[5]],Y?(Y.animate({d:X}),Y.attr("visibility",G)):bb.connector=Y=this.chart.renderer.path(X).attr({"stroke-width":Z,stroke:ab.connectorColor||bb.color||"#606060",visibility:G,zIndex:3}).translate(ba.plotLeft,ba.plotTop).add()}}}}},drawTracker:a3.prototype.drawTracker,drawLegendSymbol:a6.prototype.drawLegendSymbol,getSymbol:function(){}};aM=M(aS,aM);aV.pie=aM;at(Highcharts,{Axis:aB,CanVGRenderer:bs,Chart:bB,Color:l,Legend:bQ,MouseTracker:k,Point:bH,Tick:aI,Tooltip:ae,Renderer:y,Series:aS,SVGRenderer:bS,VMLRenderer:h,dateFormat:av,pathAnim:ai,getOptions:function(){return aW},hasBidiBug:aG,numberFormat:be,seriesTypes:aV,setOptions:function(n){aW=bf(aW,n);bN();return aW},addEvent:a4,removeEvent:aP,createElement:aR,discardElement:bE,css:a5,each:aw,extend:at,map:d,merge:bf,pick:au,splat:aD,extendClass:M,pInt:bi,wrap:function(p,n,t){var s=p[n];p[n]=function(){var u=Array.prototype.slice.call(arguments);u.unshift(s);return t.apply(this,u)}},svg:bK,canvas:bA,vml:!bK&&!bA,product:"Highcharts",version:"2.3.2"})})();(function(){function p(h){for(var g=h.length;g--;){typeof h[g]==="number"&&(h[g]=Math.round(h[g])-0.5)}return h}var l=Highcharts,o=l.Chart,m=l.addEvent,d=l.removeEvent,b=l.createElement,w=l.discardElement,E=l.css,F=l.merge,i=l.each,f=l.extend,c=Math.max,j=document,a=window,e=j.documentElement.ontouchstart!==void 0,q=l.getOptions();f(q.lang,{downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",exportButtonTitle:"Export to raster or vector image",printButtonTitle:"Print the chart"});q.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF"},menuItemStyle:{padding:"0 5px",background:"none",color:"#303030",fontSize:e?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{align:"right",backgroundColor:{linearGradient:[0,0,0,20],stops:[[0.4,"#F7F7F7"],[0.6,"#E3E3E3"]]},borderColor:"#B0B0B0",borderRadius:3,borderWidth:1,height:20,hoverBorderColor:"#909090",hoverSymbolFill:"#81A7CF",hoverSymbolStroke:"#4572A5",symbolFill:"#E0E0E0",symbolStroke:"#A0A0A0",symbolX:11.5,symbolY:10.5,verticalAlign:"top",width:24,y:10}};q.exporting={type:"image/png",url:"http://export.highcharts.com/",width:800,buttons:{exportButton:{symbol:"exportIcon",x:-10,symbolFill:"#A8BF77",hoverSymbolFill:"#768F3E",_id:"exportButton",_titleKey:"exportButtonTitle",menuItems:[{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]},printButton:{symbol:"printIcon",x:-36,symbolFill:"#B5C9DF",hoverSymbolFill:"#779ABF",_id:"printButton",_titleKey:"printButtonTitle",onclick:function(){this.print()}}}};f(o.prototype,{getSVG:function(h){var g=this,s,r,n,k=F(g.options,h);if(!j.createElementNS){j.createElementNS=function(u,t){return j.createElement(t)}}h=b("div",null,{position:"absolute",top:"-9999em",width:g.chartWidth+"px",height:g.chartHeight+"px"},j.body);f(k.chart,{renderTo:h,forExport:!0});k.exporting.enabled=!1;k.chart.plotBackgroundImage=null;k.series=[];i(g.series,function(t){n=F(t.options,{animation:!1,showCheckbox:!1,visible:t.visible});if(!n.isInternal){if(n&&n.marker&&/^url\(/.test(n.marker.symbol)){n.marker.symbol="circle"}k.series.push(n)}});s=new Highcharts.Chart(k);i(["xAxis","yAxis"],function(t){i(g[t],function(u,z){var y=s[t][z],x=u.getExtremes(),v=x.userMin,x=x.userMax;(v!==void 0||x!==void 0)&&y.setExtremes(v,x,!0,!1)})});r=s.container.innerHTML;k=null;s.destroy();w(h);r=r.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/isTracker="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" ]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(t){return t.toLowerCase()});r=r.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'");r.match(/ xmlns="/g).length===2&&(r=r.replace(/xmlns="[^"]+"/,""));return r},exportChart:function(h,g){var n,k=this.getSVG(F(this.options.exporting.chartOptions,g)),h=F(this.options.exporting,h);n=b("form",{method:"post",action:h.url,enctype:"multipart/form-data"},{display:"none"},j.body);i(["filename","type","width","svg"],function(r){b("input",{type:"hidden",name:r,value:{filename:h.filename||"chart",type:h.type,width:h.width,svg:k}[r]},null,n)});n.submit();w(n)},print:function(){var h=this,g=h.container,s=[],r=g.parentNode,n=j.body,k=n.childNodes;if(!h.isPrinting){h.isPrinting=!0,i(k,function(u,t){if(u.nodeType===1){s[t]=u.style.display,u.style.display="none"}}),n.appendChild(g),a.print(),setTimeout(function(){r.appendChild(g);i(k,function(u,t){if(u.nodeType===1){u.style.display=s[t]}});h.isPrinting=!1},1000)}},contextMenu:function(G,D,C,B,A,z){var v=this,y=v.options.navigation,x=y.menuItemStyle,r=v.chartWidth,n=v.chartHeight,k="cache-"+G,u=v[k],t=c(A,z),s,H;if(!u){v[k]=u=b("div",{className:"highcharts-"+G},{position:"absolute",zIndex:1000,padding:t+"px"},v.container),s=b("div",null,f({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},y.menuStyle),u),H=function(){E(u,{display:"none"})},m(u,"mouseleave",H),i(D,function(h){if(h){var g=b("div",{onmouseover:function(){E(this,y.menuItemHoverStyle)},onmouseout:function(){E(this,x)},innerHTML:h.text||v.options.lang[h.textKey]},f({cursor:"pointer"},x),s);g[e?"ontouchstart":"onclick"]=function(){H();h.onclick.apply(v,arguments)};v.exportDivElements.push(g)}}),v.exportDivElements.push(s,u),v.exportMenuWidth=u.offsetWidth,v.exportMenuHeight=u.offsetHeight}G={display:"block"};C+v.exportMenuWidth>r?G.right=r-C-A-t+"px":G.left=C-t+"px";B+z+v.exportMenuHeight>n?G.bottom=n-B-t+"px":G.top=B+z-t+"px";E(u,G)},addButton:function(H){function G(){r.attr(u);s.attr(x)}var D=this,C=D.renderer,B=F(D.options.navigation.buttonOptions,H),A=B.onclick,z=B.menuItems,y=B.width,v=B.height,s,r,n,H=B.borderWidth,x={stroke:B.borderColor},u={stroke:B.symbolStroke,fill:B.symbolFill},t=B.symbolSize||12;if(!D.exportDivElements){D.exportDivElements=[],D.exportSVGElements=[]}B.enabled!==!1&&(s=C.rect(0,0,y,v,B.borderRadius,H).align(B,!0).attr(f({fill:B.backgroundColor,"stroke-width":H,zIndex:19},x)).add(),n=C.rect(0,0,y,v,0).align(B).attr({id:B._id,fill:"rgba(255, 255, 255, 0.001)",title:D.options.lang[B._titleKey],zIndex:21}).css({cursor:"pointer"}).on("mouseover",function(){r.attr({stroke:B.hoverSymbolStroke,fill:B.hoverSymbolFill});s.attr({stroke:B.hoverBorderColor})}).on("mouseout",G).on("click",G).add(),z&&(A=function(){G();var g=n.getBBox();D.contextMenu("export-menu",z,g.x,g.y,y,v)}),n.on("click",function(){A.apply(D,arguments)}),r=C.symbol(B.symbol,B.symbolX-t/2,B.symbolY-t/2,t,t).align(B,!0).attr(f(u,{"stroke-width":B.symbolStrokeWidth||1,zIndex:20})).add(),D.exportSVGElements.push(s,n,r))},destroyExport:function(){var h,g;for(h=0;h<this.exportSVGElements.length;h++){g=this.exportSVGElements[h],g.onclick=g.ontouchstart=null,this.exportSVGElements[h]=g.destroy()}for(h=0;h<this.exportDivElements.length;h++){g=this.exportDivElements[h],d(g,"mouseleave"),this.exportDivElements[h]=g.onmouseout=g.onmouseover=g.ontouchstart=g.onclick=null,w(g)}}});l.Renderer.prototype.symbols.exportIcon=function(h,g,n,k){return p(["M",h,g+n,"L",h+n,g+k,h+n,g+k*0.8,h,g+k*0.8,"Z","M",h+n*0.5,g+k*0.8,"L",h+n*0.8,g+k*0.4,h+n*0.4,g+k*0.4,h+n*0.4,g,h+n*0.6,g,h+n*0.6,g+k*0.4,h+n*0.2,g+k*0.4,"Z"])};l.Renderer.prototype.symbols.printIcon=function(h,g,n,k){return p(["M",h,g+k*0.7,"L",h+n,g+k*0.7,h+n,g+k*0.4,h,g+k*0.4,"Z","M",h+n*0.2,g+k*0.4,"L",h+n*0.2,g,h+n*0.8,g,h+n*0.8,g+k*0.4,"Z","M",h+n*0.2,g+k*0.7,"L",h,g+k,h+n,g+k,h+n*0.8,g+k*0.7,"Z"])};o.prototype.callbacks.push(function(h){var g,n=h.options.exporting,k=n.buttons;if(n.enabled!==!1){for(g in k){h.addButton(k[g])}m(h,"destroy",h.destroyExport)}})})();(function(){var a;a=(function(){function b(){this.options_index=0;this.parsed=[]}b.prototype.add_node=function(c){if(c.nodeName==="OPTGROUP"){return this.add_group(c)}else{return this.add_option(c)}};b.prototype.add_group=function(i){var h,e,g,d,f,c;h=this.parsed.length;this.parsed.push({array_index:h,group:true,label:i.label,children:0,disabled:i.disabled});f=i.childNodes;c=[];for(g=0,d=f.length;g<d;g++){e=f[g];c.push(this.add_option(e,h,i.disabled))}return c};b.prototype.add_option=function(d,e,c){if(d.nodeName==="OPTION"){if(d.text!==""){if(e!=null){this.parsed[e].children+=1}this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:d.value,text:d.text,html:d.innerHTML,selected:d.selected,disabled:c===true?c:d.disabled,group_array_index:e,classes:d.className,style:d.style.cssText})}else{this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true})}return this.options_index+=1}};return b})();a.select_to_array=function(b){var g,f,e,c,d;f=new a();d=b.childNodes;for(e=0,c=d.length;e<c;e++){g=d[e];f.add_node(g)}return f.parsed};this.SelectParser=a}).call(this);(function(){var b,a;a=this;b=(function(){function c(d,e){this.form_field=d;this.options=e!=null?e:{};this.set_default_values();this.is_multiple=this.form_field.multiple;this.default_text_default=this.is_multiple?"Select Some Options":"Select an Option";this.setup();this.set_up_html();this.register_observers();this.finish_setup()}c.prototype.set_default_values=function(){var d=this;this.click_test_action=function(e){return d.test_active_click(e)};this.activate_action=function(e){return d.activate_field(e)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=(this.options.allow_single_deselect!=null)&&(this.form_field.options[0]!=null)&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.choices=0;return this.results_none_found=this.options.no_results_text||"No results match"};c.prototype.mouse_enter=function(){return this.mouse_on_container=true};c.prototype.mouse_leave=function(){return this.mouse_on_container=false};c.prototype.input_focus=function(d){var e=this;if(!this.active_field){return setTimeout((function(){return e.container_mousedown()}),50)}};c.prototype.input_blur=function(d){var e=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout((function(){return e.blur_test()}),100)}};c.prototype.result_add_option=function(f){var d,e;if(!f.disabled){f.dom_id=this.container_id+"_o_"+f.array_index;d=f.selected&&this.is_multiple?[]:["active-result"];if(f.selected){d.push("result-selected")}if(f.group_array_index!=null){d.push("group-option")}if(f.classes!==""){d.push(f.classes)}e=f.style.cssText!==""?' style="'+f.style+'"':"";return'<li id="'+f.dom_id+'" class="'+d.join(" ")+'"'+e+">"+f.html+"</li>"}else{return""}};c.prototype.results_update_field=function(){this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};c.prototype.results_toggle=function(){if(this.results_showing){return this.results_hide()}else{return this.results_show()}};c.prototype.results_search=function(d){if(this.results_showing){return this.winnow_results()}else{return this.results_show()}};c.prototype.keyup_checker=function(d){var f,e;f=(e=d.which)!=null?e:d.keyCode;this.search_field_scale();switch(f){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0){return this.keydown_backstroke()}else{if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}}break;case 13:d.preventDefault();if(this.results_showing){return this.result_select(d)}break;case 27:if(this.results_showing){this.results_hide()}return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};c.prototype.generate_field_id=function(){var d;d=this.generate_random_id();this.form_field.id=d;return d};c.prototype.generate_random_char=function(){var f,e,d;f="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ";d=Math.floor(Math.random()*f.length);return e=f.substring(d,d+1)};return c})();a.AbstractChosen=b}).call(this);(function(){var e,f,d,a,b=Object.prototype.hasOwnProperty,c=function(j,h){for(var g in h){if(b.call(h,g)){j[g]=h[g]}}function i(){this.constructor=j}i.prototype=h.prototype;j.prototype=new i;j.__super__=h.prototype;return j};a=this;e=jQuery;e.fn.extend({chosen:function(g){if(e.browser.msie&&(e.browser.version==="6.0"||e.browser.version==="7.0")){return this}return e(this).each(function(h){if(!(e(this)).hasClass("chzn-done")){return new f(this,g)}})}});f=(function(g){c(h,g);function h(){h.__super__.constructor.apply(this,arguments)}h.prototype.setup=function(){this.form_field_jq=e(this.form_field);return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};h.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};h.prototype.set_up_html=function(){var l,k,j,i;this.container_id=this.form_field.id.length?this.form_field.id.replace(/(:|\.)/g,"_"):this.generate_field_id();this.container_id+="_chzn";this.f_width=this.form_field_jq.outerWidth();this.default_text=this.form_field_jq.data("placeholder")?this.form_field_jq.data("placeholder"):this.default_text_default;l=e("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"});if(this.is_multiple){l.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>')}else{l.html('<a href="javascript:void(0)" class="chzn-single"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>')}this.form_field_jq.hide().after(l);this.container=e("#"+this.container_id);this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single"));this.dropdown=this.container.find("div.chzn-drop").first();k=this.container.height();j=this.f_width-d(this.dropdown);this.dropdown.css({width:j+"px",top:k+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first();i=j-d(this.search_container)-d(this.search_field);this.search_field.css({width:i+"px"})}this.results_build();this.set_tab_index();return this.form_field_jq.trigger("liszt:ready",{chosen:this})};h.prototype.register_observers=function(){var i=this;this.container.mousedown(function(j){return i.container_mousedown(j)});this.container.mouseup(function(j){return i.container_mouseup(j)});this.container.mouseenter(function(j){return i.mouse_enter(j)});this.container.mouseleave(function(j){return i.mouse_leave(j)});this.search_results.mouseup(function(j){return i.search_results_mouseup(j)});this.search_results.mouseover(function(j){return i.search_results_mouseover(j)});this.search_results.mouseout(function(j){return i.search_results_mouseout(j)});this.form_field_jq.bind("liszt:updated",function(j){return i.results_update_field(j)});this.search_field.blur(function(j){return i.input_blur(j)});this.search_field.keyup(function(j){return i.keyup_checker(j)});this.search_field.keydown(function(j){return i.keydown_checker(j)});if(this.is_multiple){this.search_choices.click(function(j){return i.choices_click(j)});return this.search_field.focus(function(j){return i.input_focus(j)})}else{return this.container.click(function(j){return j.preventDefault()})}};h.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple){this.selected_item.unbind("focus",this.activate_action)}return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple){return this.selected_item.bind("focus",this.activate_action)}}};h.prototype.container_mousedown=function(i){var j;if(!this.is_disabled){j=i!=null?(e(i.target)).hasClass("search-choice-close"):false;if(i&&i.type==="mousedown"){i.stopPropagation()}if(!this.pending_destroy_click&&!j){if(!this.active_field){if(this.is_multiple){this.search_field.val("")}e(document).click(this.click_test_action);this.results_show()}else{if(!this.is_multiple&&i&&((e(i.target)[0]===this.selected_item[0])||e(i.target).parents("a.chzn-single").length)){i.preventDefault();this.results_toggle()}}return this.activate_field()}else{return this.pending_destroy_click=false}}};h.prototype.container_mouseup=function(i){if(i.target.nodeName==="ABBR"){return this.results_reset(i)}};h.prototype.blur_test=function(i){if(!this.active_field&&this.container.hasClass("chzn-container-active")){return this.close_field()}};h.prototype.close_field=function(){e(document).unbind("click",this.click_test_action);if(!this.is_multiple){this.selected_item.attr("tabindex",this.search_field.attr("tabindex"));this.search_field.attr("tabindex",-1)}this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};h.prototype.activate_field=function(){if(!this.is_multiple&&!this.active_field){this.search_field.attr("tabindex",this.selected_item.attr("tabindex"));this.selected_item.attr("tabindex",-1)}this.container.addClass("chzn-container-active");this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};h.prototype.test_active_click=function(i){if(e(i.target).parents("#"+this.container_id).length){return this.active_field=true}else{return this.close_field()}};h.prototype.results_build=function(){var j,m,l,i,k;this.parsing=true;this.results_data=a.SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices>0){this.search_choices.find("li.search-choice").remove();this.choices=0}else{if(!this.is_multiple){this.selected_item.find("span").text(this.default_text);if(this.form_field.options.length<=this.disable_search_threshold){this.container.addClass("chzn-container-single-nosearch")}else{this.container.removeClass("chzn-container-single-nosearch")}}}j="";k=this.results_data;for(l=0,i=k.length;l<i;l++){m=k[l];if(m.group){j+=this.result_add_group(m)}else{if(!m.empty){j+=this.result_add_option(m);if(m.selected&&this.is_multiple){this.choice_build(m)}else{if(m.selected&&!this.is_multiple){this.selected_item.find("span").text(m.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}}}}}this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(j);return this.parsing=false};h.prototype.result_add_group=function(i){if(!i.disabled){i.dom_id=this.container_id+"_g_"+i.array_index;return'<li id="'+i.dom_id+'" class="group-result">'+e("<div />").text(i.label).html()+"</li>"}else{return""}};h.prototype.result_do_highlight=function(j){var n,m,k,l,i;if(j.length){this.result_clear_highlight();this.result_highlight=j;this.result_highlight.addClass("highlighted");k=parseInt(this.search_results.css("maxHeight"),10);i=this.search_results.scrollTop();l=k+i;m=this.result_highlight.position().top+this.search_results.scrollTop();n=m+this.result_highlight.outerHeight();if(n>=l){return this.search_results.scrollTop((n-k)>0?n-k:0)}else{if(m<i){return this.search_results.scrollTop(m)}}}};h.prototype.result_clear_highlight=function(){if(this.result_highlight){this.result_highlight.removeClass("highlighted")}return this.result_highlight=null};h.prototype.results_show=function(){var i;if(!this.is_multiple){this.selected_item.addClass("chzn-single-with-drop");if(this.result_single_selected){this.result_do_highlight(this.result_single_selected)}}i=this.is_multiple?this.container.height():this.container.height()-1;this.dropdown.css({top:i+"px",left:0});this.results_showing=true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};h.prototype.results_hide=function(){if(!this.is_multiple){this.selected_item.removeClass("chzn-single-with-drop")}this.result_clear_highlight();this.dropdown.css({left:"-9000px"});return this.results_showing=false};h.prototype.set_tab_index=function(j){var i;if(this.form_field_jq.attr("tabindex")){i=this.form_field_jq.attr("tabindex");this.form_field_jq.attr("tabindex",-1);if(this.is_multiple){return this.search_field.attr("tabindex",i)}else{this.selected_item.attr("tabindex",i);return this.search_field.attr("tabindex",-1)}}};h.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};h.prototype.search_results_mouseup=function(i){var j;j=e(i.target).hasClass("active-result")?e(i.target):e(i.target).parents(".active-result").first();if(j.length){this.result_highlight=j;return this.result_select(i)}};h.prototype.search_results_mouseover=function(i){var j;j=e(i.target).hasClass("active-result")?e(i.target):e(i.target).parents(".active-result").first();if(j){return this.result_do_highlight(j)}};h.prototype.search_results_mouseout=function(i){if(e(i.target).hasClass("active-result"||e(i.target).parents(".active-result").first())){return this.result_clear_highlight()}};h.prototype.choices_click=function(i){i.preventDefault();if(this.active_field&&!(e(i.target).hasClass("search-choice"||e(i.target).parents(".search-choice").first))&&!this.results_showing){return this.results_show()}};h.prototype.choice_build=function(k){var i,j,l=this;i=this.container_id+"_c_"+k.array_index;this.choices+=1;this.search_container.before('<li class="search-choice" id="'+i+'"><span>'+k.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+k.array_index+'"></a></li>');j=e("#"+i).find("a").first();return j.click(function(m){return l.choice_destroy_link_click(m)})};h.prototype.choice_destroy_link_click=function(i){i.preventDefault();if(!this.is_disabled){this.pending_destroy_click=true;return this.choice_destroy(e(i.target))}else{return i.stopPropagation}};h.prototype.choice_destroy=function(i){this.choices-=1;this.show_search_field_default();if(this.is_multiple&&this.choices>0&&this.search_field.val().length<1){this.results_hide()}this.result_deselect(i.attr("rel"));return i.parents("li").first().remove()};h.prototype.results_reset=function(i){this.form_field.options[0].selected=true;this.selected_item.find("span").text(this.default_text);this.show_search_field_default();e(i.target).remove();this.form_field_jq.trigger("change");if(this.active_field){return this.results_hide()}};h.prototype.result_select=function(j){var m,l,k,i;if(this.result_highlight){m=this.result_highlight;l=m.attr("id");this.result_clear_highlight();if(this.is_multiple){this.result_deactivate(m)}else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=m}m.addClass("result-selected");i=l.substr(l.lastIndexOf("_")+1);k=this.results_data[i];k.selected=true;this.form_field.options[k.options_index].selected=true;if(this.is_multiple){this.choice_build(k)}else{this.selected_item.find("span").first().text(k.text);if(this.allow_single_deselect){this.single_deselect_control_build()}}if(!(j.metaKey&&this.is_multiple)){this.results_hide()}this.search_field.val("");this.form_field_jq.trigger("change");return this.search_field_scale()}};h.prototype.result_activate=function(i){return i.addClass("active-result")};h.prototype.result_deactivate=function(i){return i.removeClass("active-result")};h.prototype.result_deselect=function(k){var i,j;j=this.results_data[k];j.selected=false;this.form_field.options[j.options_index].selected=false;i=e("#"+this.container_id+"_o_"+k);i.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change");return this.search_field_scale()};h.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1){return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')}};h.prototype.winnow_results=function(){var x,q,k,n,u,y,s,p,w,r,v,j,m,l,t,i,o;this.no_results_clear();p=0;w=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html();u=new RegExp("^"+w.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");j=new RegExp(w.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");o=this.results_data;for(m=0,t=o.length;m<t;m++){q=o[m];if(!q.disabled&&!q.empty){if(q.group){e("#"+q.dom_id).css("display","none")}else{if(!(this.is_multiple&&q.selected)){x=false;s=q.dom_id;y=e("#"+s);if(u.test(q.html)){x=true;p+=1}else{if(q.html.indexOf(" ")>=0||q.html.indexOf("[")===0){n=q.html.replace(/\[|\]/g,"").split(" ");if(n.length){for(l=0,i=n.length;l<i;l++){k=n[l];if(u.test(k)){x=true;p+=1}}}}}if(x){if(w.length){r=q.html.search(j);v=q.html.substr(0,r+w.length)+"</em>"+q.html.substr(r+w.length);v=v.substr(0,r)+"<em>"+v.substr(r)}else{v=q.html}y.html(v);this.result_activate(y);if(q.group_array_index!=null){e("#"+this.results_data[q.group_array_index].dom_id).css("display","list-item")}}else{if(this.result_highlight&&s===this.result_highlight.attr("id")){this.result_clear_highlight()}this.result_deactivate(y)}}}}}if(p<1&&w.length){return this.no_results(w)}else{return this.winnow_results_set_highlight()}};h.prototype.winnow_results_clear=function(){var i,l,m,k,j;this.search_field.val("");l=this.search_results.find("li");j=[];for(m=0,k=l.length;m<k;m++){i=l[m];i=e(i);if(i.hasClass("group-result")){j.push(i.css("display","auto"))}else{if(!this.is_multiple||!i.hasClass("result-selected")){j.push(this.result_activate(i))}else{j.push(void 0)}}}return j};h.prototype.winnow_results_set_highlight=function(){var i,j;if(!this.result_highlight){j=!this.is_multiple?this.search_results.find(".result-selected.active-result"):[];i=j.length?j.first():this.search_results.find(".active-result").first();if(i!=null){return this.result_do_highlight(i)}}};h.prototype.no_results=function(i){var j;j=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');j.find("span").first().html(i);return this.search_results.append(j)};h.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};h.prototype.keydown_arrow=function(){var j,i;if(!this.result_highlight){j=this.search_results.find("li.active-result").first();if(j){this.result_do_highlight(e(j))}}else{if(this.results_showing){i=this.result_highlight.nextAll("li.active-result").first();if(i){this.result_do_highlight(i)}}}if(!this.results_showing){return this.results_show()}};h.prototype.keyup_arrow=function(){var i;if(!this.results_showing&&!this.is_multiple){return this.results_show()}else{if(this.result_highlight){i=this.result_highlight.prevAll("li.active-result");if(i.length){return this.result_do_highlight(i.first())}else{if(this.choices>0){this.results_hide()}return this.result_clear_highlight()}}}};h.prototype.keydown_backstroke=function(){if(this.pending_backstroke){this.choice_destroy(this.pending_backstroke.find("a").first());return this.clear_backstroke()}else{this.pending_backstroke=this.search_container.siblings("li.search-choice").last();return this.pending_backstroke.addClass("search-choice-focus")}};h.prototype.clear_backstroke=function(){if(this.pending_backstroke){this.pending_backstroke.removeClass("search-choice-focus")}return this.pending_backstroke=null};h.prototype.keydown_checker=function(i){var k,j;k=(j=i.which)!=null?j:i.keyCode;this.search_field_scale();if(k!==8&&this.pending_backstroke){this.clear_backstroke()}switch(k){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:if(this.results_showing&&!this.is_multiple){this.result_select(i)}this.mouse_on_container=false;break;case 13:i.preventDefault();break;case 38:i.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow();break}};h.prototype.search_field_scale=function(){var q,i,l,j,o,p,n,k,m;if(this.is_multiple){l=0;n=0;o="position:absolute; left: -1000px; top: -1000px; display:none;";p=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(k=0,m=p.length;k<m;k++){j=p[k];o+=j+":"+this.search_field.css(j)+";"}i=e("<div />",{style:o});i.text(this.search_field.val());e("body").append(i);n=i.width()+25;i.remove();if(n>this.f_width-10){n=this.f_width-10}this.search_field.css({width:n+"px"});q=this.container.height();return this.dropdown.css({top:q+"px"})}};h.prototype.generate_random_id=function(){var i;i="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while(e("#"+i).length>0){i+=this.generate_random_char()}return i};return h})(AbstractChosen);d=function(g){var h;return h=g.outerWidth()-g.width()};a.get_side_border_padding=d}).call(this);Highcharts.setOptions({lang:{loading:"Cargando...",months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],shortMonths:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],weekdays:["domingo","lunes","martes","mi"+String.fromCharCode(233)+"rcoles","jueves","viernes","s"+String.fromCharCode(225)+"bado"],thousandsSep:",",resetZoom:"volver atr"+String.fromCharCode(225)+"s",downloadPNG:"Descargar imagen PNG",downloadJPEG:"Descargar imagen JPEG",downloadPDF:"Descargar documento PDF",downloadSVG:"Descargar archivo SVG",exportButtonTitle:"Exportar a varios formatos",printButtonTitle:"Imprimir",backButtonTitle:"Volver atrs"}});var data_graficos=new Array;var data_promos_graficos=new Array;var promos={};var promos_por_producto={};var global_prods={};var graficos_obj=new Array;var graficos_url=new Array;var graficos_prods=new Array;var graficos_data=new Array;var no_save_buttons=false;function get_promos(c,a){var b={id:c};if(arguments[2]){b.no_save_button=true}jQuery.ajax({url:"http://api."+global_hostname+"/sales/search",data:a,dataType:"jsonp",success:function(d){data_promos_graficos[c]=d;dibujar_data(b)}})}function dibujar_data(e){var a=e.id;var f=data_graficos[a];var i=data_promos_graficos[a];var l={};var g={};var b={};var m={};var k=0;var p=9999999;var h;if(e.hasOwnProperty("id_producto")){h=e.id_producto}jQuery.each(f,function(s,r){if(h&&r.id_product!=h){return}if(!m.hasOwnProperty(r.retailer)){m[r.retailer]=r.retailer_color}if(!l.hasOwnProperty(r.id_product)){l[r.id_product]=r.name_product}if(!global_prods.hasOwnProperty(r.id_product)){global_prods[r.id_product]=r.name_product}if(!g.hasOwnProperty(r.id_product)){g[r.id_product]={}}if(!b.hasOwnProperty(r.id_product)){b[r.id_product]={}}if(!g[r.id_product].hasOwnProperty(r.retailer)){g[r.id_product][r.retailer]={}}var q=r.price_date.split("-");var t=Date.UTC(q[0],q[1]-1,q[2].split("T")[0]);if(!g[r.id_product][r.retailer].hasOwnProperty(t)){g[r.id_product][r.retailer][t]=new Array}if(!b[r.id_product].hasOwnProperty(t)){b[r.id_product][t]=new Array}g[r.id_product][r.retailer][t].push(r.price);b[r.id_product][t].push(r.price)});var n={};var d;jQuery.each(i,function(u,t){if(!promos.hasOwnProperty(t.id)){promos[t.id]=t}if(!promos_por_producto.hasOwnProperty(t.id_product)){promos_por_producto[t.id_product]={}}if(t.valid_since&&t.valid_until){var s=t.valid_since.split("-");var w=new Date(s[0],s[1]-1,s[2]);var x=t.valid_until.split("-");var r=new Date(x[0],x[1]-1,x[2]);for(var q=w;q<=r;q.setDate(q.getDate()+1)){var y=Date.UTC(q.getFullYear(),q.getMonth(),q.getDate());if(!promos_por_producto[t.id_product].hasOwnProperty(y)){promos_por_producto[t.id_product][y]={}}promos_por_producto[t.id_product][y][t.retailer]=t.id}}else{var q=t.sale_date.split("-");var y=Date.UTC(q[0],q[1]-1,q[2]);if(!promos_por_producto[t.id_product].hasOwnProperty(y)){promos_por_producto[t.id_product][y]={}}promos_por_producto[t.id_product][y][t.retailer]=t.id}});if(Object.keys(l).length==1){jQuery.each(g[Object.keys(l)[0]],function(r,q){n[r]=new Array;jQuery.each(q,function(u,s){var t=s[0];if(s.length>1){var v=0;for(var w=0;w<s.length;w++){v+=s[w]}t=Math.round(v/(s.length))}if(!e.hasOwnProperty("no_sales")&&promos_por_producto.hasOwnProperty(Object.keys(l)[0])&&promos_por_producto[Object.keys(l)[0]].hasOwnProperty(u)&&promos_por_producto[Object.keys(l)[0]][u].hasOwnProperty(r)){n[r].push({x:parseInt(u),y:promos[promos_por_producto[Object.keys(l)[0]][u][r]].price,producto:Object.keys(l)[0],fecha:u,marker:{enabled:true,symbol:"diamond"}});if(promos[promos_por_producto[Object.keys(l)[0]][u][r]].price>k){k=promos[promos_por_producto[Object.keys(l)[0]][u][r]].price}if(promos[promos_por_producto[Object.keys(l)[0]][u][r]].price<p){p=promos[promos_por_producto[Object.keys(l)[0]][u][r]].price}}else{n[r].push({x:parseInt(u),y:t});if(t>k){k=t}if(t<p){p=t}}})});d=l[Object.keys(l)[0]]}if(Object.keys(l).length>1){jQuery.each(b,function(r,q){n[l[r]]=new Array;jQuery.each(q,function(t,s){if(s.length>1){var u=0;for(var v=0;v<s.length;v++){u+=s[v]}n[l[r]].push({x:parseInt(t),y:Math.round(u/(s.length)),id_producto:r})}else{n[l[r]].push({x:parseInt(t),y:s[0],id_producto:r})}})});d="Varios productos"}var o={chart:{renderTo:"chart_"+a,zoomType:"x"},title:{text:d,style:{fontFamily:"Verdana",fontSize:"12px",fontWeight:"bold"}},xAxis:{type:"datetime"},yAxis:{title:{text:"Precio"},labels:{formatter:function(){return Highcharts.numberFormat(this.value,0,",",".")}}},credits:{enabled:false},tooltip:{formatter:function(){var q=new String();q="<i>"+Highcharts.dateFormat("%A %e %b %Y",this.x)+"</i><br/><br/>";this.points.each(function(r){if(r.y){q+="<b>"+r.series.name+":</b> $";q+=Highcharts.numberFormat(r.y,0,",",".");q+="<br/>"}});return q},shared:true},plotOptions:{series:{marker:{enabled:false,symbol:"circle"},point:{events:{click:function(){if(this.producto&&this.fecha){mostrar_promos({producto:this.producto,fecha:this.fecha})}if(this.id_producto){var q={id:a,id_producto:this.id_producto};if(e.hasOwnProperty("no_save_button")){q.no_save_button=true}dibujar_data(q)}}}}}},exporting:{url:"http://export.idashboard.com.ar",filename:"idashboard",buttons:{exportButton:{menuItems:[{text:"Descargar PNG",onclick:function(){this.exportChart(null,{subtitle:{text:null}})}},null,null,null]}}}};if(global_exportar_a_excel==1){o.exporting["buttons"]["exportButton"]["menuItems"][1]={text:"Descargar Excel",onclick:function(){descargar_excel(a)}}}if(no_save_buttons){e.no_save_button=true}if(h&&!e.hasOwnProperty("no_save_button")){o.exporting.buttons.exportButton.menuItems.push({text:"Salvar reporte",onclick:function(){salvar_reporte({id_producto:h})}})}else{if(!e.hasOwnProperty("no_save_button")){o.exporting.buttons.exportButton.menuItems.push({text:"Salvar reporte",onclick:function(){salvar_reporte({})}})}}if(Object.keys(l).length==1){var c;if(!e.hasOwnProperty("no_sales")){c="(doble click para ver sin publicaciones)"}else{c="(doble click para ver con publicaciones)"}o.subtitle={text:c,style:{fontFamily:"Verdana",fontSize:"10px"}}}if(h&&!e.hasOwnProperty("no_save_button")){graficos_obj[a]=new Highcharts.Chart(o,function(){var q=this.renderer.image("/images/icono_back.png",this.chartWidth-87,9,26,22);q.add();q.css({cursor:"pointer"});q.attr({title:"Volver atrs"});q.on("click",function(){dibujar_data({id:a})})})}else{if(h){graficos_obj[a]=new Highcharts.Chart(o,function(){var q=this.renderer.image("/images/icono_back.png",this.chartWidth-87,9,26,22);q.add();q.css({cursor:"pointer"});q.attr({title:"Volver atrs"});q.on("click",function(){dibujar_data({id:a,no_save_button:true})})})}else{graficos_obj[a]=new Highcharts.Chart(o)}}if(d=="Varios productos"){jQuery.each(n,function(r,q){graficos_obj[a].addSeries({name:r,data:q})})}else{jQuery.each(n,function(r,q){graficos_obj[a].addSeries({name:r,color:m[r],data:q})})}if(Object.keys(l).length==1){var j={id:a};if(!e.hasOwnProperty("no_sales")){j.no_sales=true}if(e.hasOwnProperty("no_save_button")){j.no_save_button=true}if(h){j.id_producto=h}jQuery(graficos_obj[a].container).dblclick(function(){dibujar_data(j)})}if(typeof mostrar_minimos_y_maximos==="object"){jQuery("#min_precio").html(Highcharts.numberFormat(p,0,",","."));jQuery("#max_precio").html(Highcharts.numberFormat(k,0,",","."));jQuery("#dif_precio").html(Highcharts.numberFormat((k-p),0,",","."));jQuery("#avg_precio").html(Highcharts.numberFormat((Math.round((k+p)/2)),0,",","."))}}function mostrar_promos(f){var b=f.producto;var a=f.fecha;var e=f.promo;if(!b&&!a&&!e){return false}var d;if(b&&a){d=promos_por_producto[b][a]}else{d={promo:e}}var c=new String;c+='<table align="center" style="font-size: 14px;" width="100%">';jQuery.each(d,function(k,j){var n=promos[j];c+="<tr>";c+="<td>";c+='<table align="center">';c+='<td align="right"><b>Fuente:</b></td>';c+="<td>"+n.media_channel+"</td>";c+="</tr>";c+="<tr>";c+='<td align="right"><b>Retailer:</b></td>';c+="<td>"+n.retailer+"</td>";c+="</tr>";c+="<tr>";c+='<td align="right"><b>Producto:</b></td>';c+="<td>"+global_prods[n.id_product]+"</td>";c+="</tr>";c+="<tr>";c+='<td align="right"><b>Precio:</b></td>';c+="<td>$"+Highcharts.numberFormat(n.price,0,",",".")+"</td>";c+="</tr>";c+="<tr>";c+='<td align="right"><b>Validez:</b></td>';c+="<td>";var h=n.valid_since.split("-");var m=Date.UTC(h[0],h[1]-1,h[2]);if(n.valid_until){var l=n.valid_until.split("-");var g=Date.UTC(l[0],l[1]-1,l[2]);c+="Del "+Highcharts.dateFormat("%e/%m/%Y",m)+" al "+Highcharts.dateFormat("%e/%m/%Y",g)}else{c+=Highcharts.dateFormat("%e/%m/%Y",m)}c+="</td>";c+="</tr>";c+="<tr>";c+='<td align="right"><b>Bundle:</b></td>';c+="<td>";c+=(n.bundle?"S&iacute;":"No");c+="</td>";c+="</tr>";c+="</table>";c+="</td>";c+='<td align="center">';if(n.aws_filename){c+='<a href="https://s3.amazonaws.com/'+aws_bucket+"/"+n.aws_filename+'" target="verPromo">';c+='<img height="500" width="500" class="img_promo" src="https://s3.amazonaws.com/'+aws_bucket+"/"+n.aws_filename+'" border="0"/>'}else{if(n.currency_id==1){c+='<a href="http://computadoras.idashboard.com.ar/uploaded_images/promocion-'+n.imagen_id+'.png" target="verPromo">';c+='<img height="500" width="500" class="img_promo" src="http://computadoras.idashboard.com.ar/uploaded_images/promocion-'+n.imagen_id+'_med.png" border="0"/>'}else{c+='<a href="http://chile.computadoras.idashboard.com.ar/uploaded_images/promocion-'+n.imagen_id+'.png" target="verPromo">';c+='<img height="500" width="500" class="img_promo" src="http://chile.computadoras.idashboard.com.ar/uploaded_images/promocion-'+n.imagen_id+'_med.png" border="0"/>'}}c+="</a>";c+="</td>";c+="</tr>"});c+="</table>";Modalbox.show(c,{title:"Ver promoci&oacute;n",width:800,height:600})}function decode_html(a){var b=new String(a);b=b.gsub("&aacute;",String.fromCharCode(225));b=b.gsub("&eacute;",String.fromCharCode(233));b=b.gsub("&iacute;",String.fromCharCode(237));b=b.gsub("&oacute;",String.fromCharCode(243));b=b.gsub("&uacute;",String.fromCharCode(250));return b}function init_chart(b){var a={chart:{renderTo:"chart_"+b.grafico,type:(b.hasOwnProperty("type")?b.type:"bar")},title:{text:(b.hasOwnProperty("title")?b.title:null),style:{fontFamily:"Verdana",fontSize:"12px",fontWeight:"bold"}},subtitle:{text:(b.hasOwnProperty("subtitle")?b.subtitle:null),style:{fontFamily:"Verdana",fontSize:"10px"}},credits:{enabled:false},plotOptions:{series:{animation:false}},exporting:{buttons:{exportButton:{menuItems:[{},{},{},{}]}}}};if(b.hasOwnProperty("type")&&b.type=="bar"){a.legend={enabled:false};a.xAxis={reversed:false};a.yAxis={title:{text:false}};a.chart.inverted=true;a.tooltip={formatter:function(){return"<b>"+this.x+"</b><br/>"+Highcharts.numberFormat((this.series.name*(this.y/100)),0,",",".")+" ("+Highcharts.numberFormat(this.y,2,",",".")+"%)"}}}if(b.hasOwnProperty("type")&&b.type=="pie"){a.tooltip={formatter:function(){return"<b>"+this.point.name+"</b><br/>"+this.y+" ("+Highcharts.numberFormat(this.percentage,2,",",".")+"%)"}}}if(!no_save_buttons){a.exporting.buttons.exportButton.menuItems.push({text:"Salvar reporte",onclick:function(){salvar_reporte(b.grafico)}})}graficos_obj[b.grafico]=new Highcharts.Chart(a)}function get_property_values(c,a){var b=/property_values=([\d,]+)/.exec(a);if(b){jQuery.ajax({url:"http://api."+global_hostname+"/property_values/search",data:{id:b[1]},dataType:"jsonp",context:{id:c,querystring:a},statusCode:{200:function(e){var f=this.id;var d=graficos_obj[f].options.subtitle.text;jQuery.each(e,function(h,g){if(!d){d=g.value}else{d+=" - "+g.value}graficos_obj[f].setTitle(null,{text:d})});get_retailer(this.id,this.querystring,d)},400:function(){alert("Error 400!")}}})}else{get_retailer(c,a,null)}}function get_retailer(d,a,b){var c=/retailer=(\d+)/.exec(a);if(c){jQuery.ajax({url:"http://api."+global_hostname+"/retailers/"+c[1],dataType:"jsonp",context:{id:d,querystring:a},statusCode:{200:function(e){if(!b){b=e.name}else{b+=" - "+e.name}graficos_obj[this.id].setTitle(null,{text:b});set_fecha(this.id,this.querystring,b)},400:function(){alert("Error 400!")}}})}else{set_fecha(d,a,b)}}function set_fecha(e,a,c){var b=/date_from=([^&]+)/.exec(a);if(b){if(!c){c="desde "+b[1]}else{c+=" -  desde "+b[1]}}var d=/date_to=([^&]+)/.exec(a);if(d){if(!c){c=" - hasta "+d[1]}else{c+=" - hasta "+d[1]}}graficos_obj[e].setTitle(null,{text:c})}function hacer_pie_chart(c,d){var g=0;var e={data:new Array};var k=new Array;jQuery.each(d.pie_chart,function(l,j){k.push(l)});k.sort();for(var b=0;b<k.length;b++){var f=k[b];var h=d.pie_chart[f];e.data.push([decode_html(f),h]);g+=h}var a=graficos_obj[c.grafico].options.title.text+" ("+g+")";graficos_obj[c.grafico].setTitle({text:a});graficos_obj[c.grafico].addSeries(e);graficos_obj[c.grafico].hideLoading();get_property_values(c.grafico,c.querystring)}function hacer_pricebands(g,f){var c=new Array;var e=0;for(var b=0;b<f.result_pricebands.length;b++){e+=f.result_pricebands[b]}var d={data:new Array,name:e};jQuery.each(f.pricebands,function(k,h){var j=new String;if(h[0]==null||h[1]==null){if(h[0]==null){j="menos de "+h[1]}else{j="mas de "+h[0]}}else{j=h[0]+" - "+h[1]}c.push(j);d.data.push(f.result_pricebands[k]*100/e)});var a=graficos_obj[g.grafico].options.title.text+" ("+e+")";graficos_obj[g.grafico].setTitle({text:a});graficos_obj[g.grafico].addSeries(d);graficos_obj[g.grafico].xAxis[0].setCategories(c);graficos_obj[g.grafico].hideLoading();get_property_values(g.grafico,g.querystring)}function hacer_grafico(c,b,a){if(/prices\/search/.test(b)){graficos_obj[c]=new Highcharts.Chart({chart:{renderTo:"chart_"+c},title:{text:null},credits:{enabled:false},exporting:{enabled:false}});graficos_obj[c].showLoading();jQuery.ajax({url:b,data:a,dataType:"jsonp",cache:false,statusCode:{200:function(d){data_graficos[c]=d;graficos_data[c]=jQuery.stringify(d);get_promos(c,a)},400:function(){alert("Error 400!")}}})}if(/products\/search/.test(b)||/sales\/search/.test(b)){hacer_pie_chart_o_priceband(c,b,a)}}function hacer_pie_chart_o_priceband(f,b,a){var d=new String;var e=new String;if(/pricebands/.test(a)){d="bar";if(/sales/.test(b)){e="Promociones por priceband"}if(/products/.test(b)){e="Productos por priceband"}}var c=/pie_chart=(.+?)&/.exec(a);if(c){d="pie";if(/sales/.test(b)){e="Promociones por "+c[1]}}init_chart({grafico:f,type:d,title:e});graficos_obj[f].showLoading();jQuery.ajax({url:b,data:a,dataType:"jsonp",context:{grafico:f,querystring:a},statusCode:{200:function(g){if(g.hasOwnProperty("pie_chart")){hacer_pie_chart(this,g)}if(g.hasOwnProperty("pricebands")){hacer_pricebands(this,g)}},400:function(){alert("Error 400!")}}})}function descargar_excel(a){jQuery("#excel_data").val(graficos_data[a]);jQuery("#id_producto").val(graficos_prods[a]);jQuery("#get_excel").submit()}if(!window.Modalbox){var Modalbox=new Object()}Modalbox.Methods={overrideAlert:false,focusableElements:new Array,currFocused:0,initialized:false,active:true,options:{title:"ModalBox Window",overlayClose:true,width:500,height:90,overlayOpacity:0.65,overlayDuration:0.25,slideDownDuration:0.5,slideUpDuration:0.5,resizeDuration:0.25,inactiveFade:true,transitions:true,loadingString:"Please wait. Loading...",closeString:"Close window",closeValue:"&times;",params:{},method:"get",autoFocusing:true,aspnet:false},_options:new Object,setOptions:function(a){Object.extend(this.options,a||{})},_init:function(b){Object.extend(this._options,this.options);this.setOptions(b);this.MBoverlay=new Element("div",{id:"MB_overlay",opacity:"0"});this.MBwindow=new Element("div",{id:"MB_window",style:"display: none"}).update(this.MBframe=new Element("div",{id:"MB_frame"}).update(this.MBheader=new Element("div",{id:"MB_header"}).update(this.MBcaption=new Element("div",{id:"MB_caption"}))));this.MBclose=new Element("a",{id:"MB_close",title:this.options.closeString,href:"#"}).update("<span>"+this.options.closeValue+"</span>");this.MBheader.insert({bottom:this.MBclose});this.MBcontent=new Element("div",{id:"MB_content"}).update(this.MBloading=new Element("div",{id:"MB_loading"}).update(this.options.loadingString));this.MBframe.insert({bottom:this.MBcontent});var a=this.options.aspnet?$(document.body).down("form"):$(document.body);a.insert({top:this.MBwindow});a.insert({top:this.MBoverlay});this.initScrollX=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft;this.initScrollY=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop;this.hideObserver=this._hide.bindAsEventListener(this);this.kbdObserver=this._kbdHandler.bindAsEventListener(this);this._initObservers();this.initialized=true},show:function(b,a){if(!this.initialized){this._init(a)}this.content=b;this.setOptions(a);if(this.options.title){$(this.MBcaption).update(this.options.title)}else{$(this.MBheader).hide();$(this.MBcaption).hide()}if(this.MBwindow.style.display=="none"){this._appear();this.event("onShow")}else{this._update();this.event("onUpdate")}},hide:function(a){if(this.initialized){if(a&&typeof a.element!="function"){Object.extend(this.options,a)}this.event("beforeHide");if(this.options.transitions){Effect.SlideUp(this.MBwindow,{duration:this.options.slideUpDuration,transition:Effect.Transitions.sinoidal,afterFinish:this._deinit.bind(this)})}else{$(this.MBwindow).hide();this._deinit()}}else{throw ("Modalbox is not initialized.")}},_hide:function(a){a.stop();if(a.element().id=="MB_overlay"&&!this.options.overlayClose){return false}this.hide()},alert:function(b){var a='<div class="MB_alert"><p>'+b+'</p><input type="button" onclick="Modalbox.hide()" value="OK" /></div>';Modalbox.show(a,{title:"Alert: "+document.title,width:300})},_appear:function(){if(Prototype.Browser.IE&&!navigator.appVersion.match(/\b7.0\b/)){window.scrollTo(0,0);this._prepareIE("100%","hidden")}this._setWidth();this._setPosition();if(this.options.transitions){$(this.MBoverlay).setStyle({opacity:0});new Effect.Fade(this.MBoverlay,{from:0,to:this.options.overlayOpacity,duration:this.options.overlayDuration,afterFinish:function(){new Effect.SlideDown(this.MBwindow,{duration:this.options.slideDownDuration,transition:Effect.Transitions.sinoidal,afterFinish:function(){this._setPosition();this.loadContent()}.bind(this)})}.bind(this)})}else{$(this.MBoverlay).setStyle({opacity:this.options.overlayOpacity});$(this.MBwindow).show();this._setPosition();this.loadContent()}this._setWidthAndPosition=this._setWidthAndPosition.bindAsEventListener(this);Event.observe(window,"resize",this._setWidthAndPosition)},resize:function(c,b,j){var i=$(this.MBoverlay).getWidth();var h=$(this.MBwindow).getHeight();var e=$(this.MBwindow).getWidth();var d=$(this.MBheader).getHeight();var g=$(this.MBcontent).getHeight();var a=((h-d+b)<g)?(g+d):(h+b);var f=e+c;if(j){this.setOptions(j)}if(this.options.transitions){new Effect.Morph(this.MBwindow,{style:"width:"+f+"px; height:"+a+"px; left:"+((i-f)/2)+"px",duration:this.options.resizeDuration,beforeStart:function(k){k.element.setStyle({overflow:"hidden"})},afterFinish:function(k){k.element.setStyle({overflow:"visible"});this.event("_afterResize");this.event("afterResize")}.bind(this)})}else{this.MBwindow.setStyle({width:f+"px",height:a+"px"});setTimeout(function(){this.event("_afterResize");this.event("afterResize")}.bind(this),1)}},resizeToContent:function(a){var b=this.options.height-$(this.MBwindow).getHeight();if(b!=0){if(a){this.setOptions(a)}Modalbox.resize(0,b)}},resizeToInclude:function(c,b){var d=$(c);var a=d.getHeight()+parseInt(d.getStyle("margin-top"),0)+parseInt(d.getStyle("margin-bottom"),0)+parseInt(d.getStyle("border-top-width"),0)+parseInt(d.getStyle("border-bottom-width"),0);if(a>0){if(b){this.setOptions(b)}Modalbox.resize(0,a)}},_update:function(){$(this.MBcontent).update($(this.MBloading).update(this.options.loadingString));this.loadContent()},loadContent:function(){if(this.event("beforeLoad")!=false){if(typeof this.content=="string"){var htmlRegExp=new RegExp(/<\/?[^>]+>/gi);if(htmlRegExp.test(this.content)){this._insertContent(this.content.stripScripts(),function(){this.content.extractScripts().map(function(script){return eval(script.replace("<!--","").replace("// -->",""))}.bind(window))}.bind(this))}else{new Ajax.Request(this.content,{method:this.options.method.toLowerCase(),parameters:this.options.params,onSuccess:function(transport){var response=new String(transport.responseText);this._insertContent(transport.responseText.stripScripts(),function(){response.extractScripts().map(function(script){return eval(script.replace("<!--","").replace("// -->",""))}.bind(window))})}.bind(this),onException:function(instance,exception){Modalbox.hide();throw ("Modalbox Loading Error: "+exception)}})}}else{if(typeof this.content=="object"){this._insertContent(this.content)}else{Modalbox.hide();throw ("Modalbox Parameters Error: Please specify correct URL or HTML element (plain HTML or object)")}}}},_insertContent:function(b,c){$(this.MBcontent).hide().update("");if(typeof b=="string"){this.MBcontent.update(new Element("div",{style:"display: none"}).update(b)).down().show()}else{if(typeof b=="object"){var a=b.cloneNode(true);if(b.id){b.id="MB_"+b.id}$(b).select("*[id]").each(function(d){d.id="MB_"+d.id});this.MBcontent.update(a).down("div").show();if(Prototype.Browser.IE){$$("#MB_content select").invoke("setStyle",{visibility:""})}}}if(this.options.height==this._options.height){Modalbox.resize((this.options.width-$(this.MBwindow).getWidth()),$(this.MBcontent).getHeight()-$(this.MBwindow).getHeight()+$(this.MBheader).getHeight(),{afterResize:function(){setTimeout(function(){this._putContent(c)}.bind(this),1)}.bind(this)})}else{this._setWidth();this.MBcontent.setStyle({overflow:"auto",height:$(this.MBwindow).getHeight()-$(this.MBheader).getHeight()-13+"px"});setTimeout(function(){this._putContent(c)}.bind(this),1)}},_putContent:function(a){this.MBcontent.show();this.focusableElements=this._findFocusableElements();this._setFocus();if(a!=undefined){a()}this.event("afterLoad")},activate:function(a){this.setOptions(a);this.active=true;$(this.MBclose).observe("click",this.hideObserver);if(this.options.overlayClose){$(this.MBoverlay).observe("click",this.hideObserver)}$(this.MBclose).show();if(this.options.transitions&&this.options.inactiveFade){new Effect.Appear(this.MBwindow,{duration:this.options.slideUpDuration})}},deactivate:function(a){this.setOptions(a);this.active=false;$(this.MBclose).stopObserving("click",this.hideObserver);if(this.options.overlayClose){$(this.MBoverlay).stopObserving("click",this.hideObserver)}$(this.MBclose).hide();if(this.options.transitions&&this.options.inactiveFade){new Effect.Fade(this.MBwindow,{duration:this.options.slideUpDuration,to:0.75})}},_initObservers:function(){$(this.MBclose).observe("click",this.hideObserver);if(this.options.overlayClose){$(this.MBoverlay).observe("click",this.hideObserver)}if(Prototype.Browser.Gecko){Event.observe(document,"keypress",this.kbdObserver)}else{Event.observe(document,"keydown",this.kbdObserver)}},_removeObservers:function(){$(this.MBclose).stopObserving("click",this.hideObserver);if(this.options.overlayClose){$(this.MBoverlay).stopObserving("click",this.hideObserver)}if(Prototype.Browser.Gecko){Event.stopObserving(document,"keypress",this.kbdObserver)}else{Event.stopObserving(document,"keydown",this.kbdObserver)}},_setFocus:function(){if(this.focusableElements.length>0&&this.options.autoFocusing==true){var a=this.focusableElements.find(function(b){return b.tabIndex==1})||this.focusableElements.first();this.currFocused=this.focusableElements.toArray().indexOf(a);a.focus()}else{if($(this.MBclose).visible()){$(this.MBclose).focus()}}},_findFocusableElements:function(){this.MBcontent.select("input:not([type~=hidden]), select, textarea, button, a[href]").invoke("addClassName","MB_focusable");return this.MBcontent.select(".MB_focusable")},_kbdHandler:function(b){var a=b.element();switch(b.keyCode){case Event.KEY_TAB:b.stop();if(a!=this.focusableElements[this.currFocused]){this.currFocused=this.focusableElements.toArray().indexOf(a)}if(!b.shiftKey){if(this.currFocused==this.focusableElements.length-1){this.focusableElements.first().focus();this.currFocused=0}else{this.currFocused++;this.focusableElements[this.currFocused].focus()}}else{if(this.currFocused==0){this.focusableElements.last().focus();this.currFocused=this.focusableElements.length-1}else{this.currFocused--;this.focusableElements[this.currFocused].focus()}}break;case Event.KEY_ESC:if(this.active){this._hide(b)}break;case 32:this._preventScroll(b);break;case 0:if(b.which==32){this._preventScroll(b)}break;case Event.KEY_UP:case Event.KEY_DOWN:case Event.KEY_PAGEDOWN:case Event.KEY_PAGEUP:case Event.KEY_HOME:case Event.KEY_END:if(Prototype.Browser.WebKit&&!["textarea","select"].include(a.tagName.toLowerCase())){b.stop()}else{if((a.tagName.toLowerCase()=="input"&&["submit","button"].include(a.type))||(a.tagName.toLowerCase()=="a")){b.stop()}}break}},_preventScroll:function(a){if(!["input","textarea","select","button"].include(a.element().tagName.toLowerCase())){a.stop()}},_deinit:function(){this._removeObservers();Event.stopObserving(window,"resize",this._setWidthAndPosition);if(this.options.transitions){Effect.toggle(this.MBoverlay,"appear",{duration:this.options.overlayDuration,afterFinish:this._removeElements.bind(this)})}else{this.MBoverlay.hide();this._removeElements()}$(this.MBcontent).setStyle({overflow:"",height:""})},_removeElements:function(){$(this.MBoverlay).remove();$(this.MBwindow).remove();if(Prototype.Browser.IE&&!navigator.appVersion.match(/\b7.0\b/)){this._prepareIE("","");window.scrollTo(this.initScrollX,this.initScrollY)}if(typeof this.content=="object"){if(this.content.id&&this.content.id.match(/MB_/)){this.content.id=this.content.id.replace(/MB_/,"")}this.content.select("*[id]").each(function(a){a.id=a.id.replace(/MB_/,"")})}this.initialized=false;this.event("afterHide");this.setOptions(this._options)},_setWidth:function(){$(this.MBwindow).setStyle({width:this.options.width+"px",height:this.options.height+"px"})},_setPosition:function(){$(this.MBwindow).setStyle({left:(($(this.MBoverlay).getWidth()-$(this.MBwindow).getWidth())/2)+"px"})},_setWidthAndPosition:function(){$(this.MBwindow).setStyle({width:this.options.width+"px"});this._setPosition()},_getScrollTop:function(){var a;if(document.documentElement&&document.documentElement.scrollTop){a=document.documentElement.scrollTop}else{if(document.body){a=document.body.scrollTop}}return a},_prepareIE:function(a,b){$$("html, body").invoke("setStyle",{width:a,height:a,overflow:b});$$("select").invoke("setStyle",{visibility:b})},event:function(a){if(this.options[a]){var b=this.options[a]();this.options[a]=null;if(b!=undefined){return b}else{return true}}return true}};Object.extend(Modalbox,Modalbox.Methods);if(Modalbox.overrideAlert){window.alert=Modalbox.alert;
/*!
 * jQuery UI 1.8.14
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
}(function(e,d){function b(f,c){var g=f.nodeName.toLowerCase();if("area"===g){c=f.parentNode;g=c.name;if(!f.href||!g||c.nodeName.toLowerCase()!=="map"){return false}f=e("img[usemap=#"+g+"]")[0];return !!f&&a(f)}return(/input|select|textarea|button|object/.test(g)?!f.disabled:"a"==g?f.href||c:c)&&a(f)}function a(c){return !e(c).parents().andSelf().filter(function(){return e.curCSS(this,"visibility")==="hidden"||e.expr.filters.hidden(this)}).length}e.ui=e.ui||{};if(!e.ui.version){e.extend(e.ui,{version:"1.8.14",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});e.fn.extend({_focus:e.fn.focus,focus:function(f,c){return typeof f==="number"?this.each(function(){var g=this;setTimeout(function(){e(g).focus();c&&c.call(g)},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var c;c=e.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.curCSS(this,"position",1))&&/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.curCSS(this,"overflow",1)+e.curCSS(this,"overflow-y",1)+e.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!c.length?e(document):c},zIndex:function(f){if(f!==d){return this.css("zIndex",f)}if(this.length){f=e(this[0]);for(var c;f.length&&f[0]!==document;){c=f.css("position");if(c==="absolute"||c==="relative"||c==="fixed"){c=parseInt(f.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}f=f.parent()}}return 0},disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(c){c.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});e.each(["Width","Height"],function(f,c){function l(o,i,h,p){e.each(k,function(){i-=parseFloat(e.curCSS(o,"padding"+this,true))||0;if(h){i-=parseFloat(e.curCSS(o,"border"+this+"Width",true))||0}if(p){i-=parseFloat(e.curCSS(o,"margin"+this,true))||0}});return i}var k=c==="Width"?["Left","Right"]:["Top","Bottom"],j=c.toLowerCase(),g={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+c]=function(h){if(h===d){return g["inner"+c].call(this)}return this.each(function(){e(this).css(j,l(this,h)+"px")})};e.fn["outer"+c]=function(i,h){if(typeof i!=="number"){return g["outer"+c].call(this,i)}return this.each(function(){e(this).css(j,l(this,i,true,h)+"px")})}});e.extend(e.expr[":"],{data:function(f,c,g){return !!e.data(f,g[3])},focusable:function(c){return b(c,!isNaN(e.attr(c,"tabindex")))},tabbable:function(f){var c=e.attr(f,"tabindex"),g=isNaN(c);return(g||c>=0)&&b(f,!g)}});e(function(){var f=document.body,c=f.appendChild(c=document.createElement("div"));e.extend(c.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});e.support.minHeight=c.offsetHeight===100;e.support.selectstart="onselectstart" in c;f.removeChild(c).style.display="none"});e.extend(e.ui,{plugin:{add:function(f,c,h){f=e.ui[f].prototype;for(var g in h){f.plugins[g]=f.plugins[g]||[];f.plugins[g].push([c,h[g]])}},call:function(f,c,h){if((c=f.plugins[c])&&f.element[0].parentNode){for(var g=0;g<c.length;g++){f.options[c[g][0]]&&c[g][1].apply(f.element,h)}}}},contains:function(f,c){return document.compareDocumentPosition?f.compareDocumentPosition(c)&16:f!==c&&f.contains(c)},hasScroll:function(f,c){if(e(f).css("overflow")==="hidden"){return false}c=c&&c==="left"?"scrollLeft":"scrollTop";var g=false;if(f[c]>0){return true}f[c]=1;g=f[c]>0;f[c]=0;return g},isOverAxis:function(f,c,g){return f>c&&f<c+g},isOver:function(f,c,l,k,j,g){return e.ui.isOverAxis(f,l,j)&&e.ui.isOverAxis(c,k,g)}})}})(jQuery);(function(d,C){function M(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};d.extend(this._defaults,this.regional[""]);this.dpDiv=N(d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function N(a){return a.bind("mouseout",function(b){b=d(b.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");b.length&&b.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(b){b=d(b.target).closest("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a");if(!(d.datepicker._isDisabledDatepicker(J.inline?a.parent()[0]:J.input[0])||!b.length)){b.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");b.addClass("ui-state-hover");b.hasClass("ui-datepicker-prev")&&b.addClass("ui-datepicker-prev-hover");b.hasClass("ui-datepicker-next")&&b.addClass("ui-datepicker-next-hover")}})}function H(a,b){d.extend(a,b);for(var c in b){if(b[c]==null||b[c]==C){a[c]=b[c]}}return a}d.extend(d.ui,{datepicker:{version:"1.8.14"}});var A=(new Date).getTime(),J;d.extend(M.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){H(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase();f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input"){this._connectDatepicker(a,i)}else{f&&this._inlineDatepicker(a,i)}},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:N(d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}},_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});this._autoSize(b);d.data(a,"datepicker",b)}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&b.append.remove();if(c){b.append=d('<span class="'+this._appendClass+'">'+c+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both"){a.focus(this._showDatepicker)}if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++){if(f[g].length>h){h=f[g].length;i=g}}return i};b.setMonth(e(this._get(a,c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),true);this._updateDatepicker(b);this._updateAlternate(b);b.dpDiv.show()}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a)}H(a.settings,e||{});b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos){this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else{if(e=="div"||e=="span"){b.removeClass(this.markerClassName).empty()}}}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else{if(e=="div"||e=="span"){b=b.children("."+this._inlineClass);b.children().removeClass("ui-state-disabled");b.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else{if(e=="div"||e=="span"){b=b.children("."+this._inlineClass);b.children().addClass("ui-state-disabled");b.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}}this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a){return false}for(var b=0;b<this._disabledInputs.length;b++){if(this._disabledInputs[b]==a){return true}}return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string"){return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},e.settings):this._get(e,b):null}var f=b||{};if(typeof b=="string"){f={};f[b]=c}if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,true),i=this._getMinMaxDate(e,"min"),g=this._getMinMaxDate(e,"max");H(e.settings,f);if(i!==null&&f.dateFormat!==C&&f.minDate===C){e.settings.minDate=this._formatDate(e,i)}if(g!==null&&f.dateFormat!==C&&f.maxDate===C){e.settings.maxDate=this._formatDate(e,g)}this._attachments(d(a),e);this._autoSize(e);this._setDate(e,h);this._updateAlternate(e);this._updateDatepicker(e)}},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");b._keyEvent=true;if(d.datepicker._datepickerShowing){switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv);c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey){d.datepicker._clearDate(a.target)}c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey){d.datepicker._gotoToday(a.target)}c=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?+1:-1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M")}break;case 38:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,-7,"D")}c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,e?-1:+1,"D")}c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey){d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M")}break;case 40:if(a.ctrlKey||a.metaKey){d.datepicker._adjustDate(a.target,+7,"D")}c=a.ctrlKey||a.metaKey;break;default:c=false}}else{if(a.keyCode==36&&a.ctrlKey){d.datepicker._showDatepicker(this)}else{c=false}}if(c){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==C?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);if(a.input.val()!=a.lastVal){try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(b){d.datepicker.log(b)}}return true},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input"){a=d("input",a.parentNode)[0]}if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);if(d.datepicker._curInst&&d.datepicker._curInst!=b){d.datepicker._datepickerShowing&&d.datepicker._triggerOnClose(d.datepicker._curInst);d.datepicker._curInst.dpDiv.stop(true,true)}var c=d.datepicker._get(b,"beforeShow");H(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog){a.value=""}if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return !e});if(e&&d.browser.opera){d.datepicker._pos[0]-=document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.empty();b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");var f=d.datepicker._get(b,"duration"),h=function(){var i=b.dpDiv.find("iframe.ui-datepicker-cover");if(i.length){var g=d.datepicker._getBorders(b.dpDiv);i.css({left:-g[0],top:-g[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1);d.datepicker._datepickerShowing=true;d.effects&&d.effects[c]?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f){h()}b.input.is(":visible")&&!b.input.is(":disabled")&&b.input.focus();d.datepicker._curInst=b}}},_updateDatepicker:function(a){this.maxRows=4;var b=d.datepicker._getBorders(a.dpDiv);J=a;a.dpDiv.empty().append(this._generateHTML(a));var c=a.dpDiv.find("iframe.ui-datepicker-cover");c.length&&c.css({left:-b[0],top:-b[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()});a.dpDiv.find("."+this._dayOverClass+" a").mouseover();b=this._getNumberOfMonths(a);c=b[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");c>1&&a.dpDiv.addClass("ui-datepicker-multi-"+c).css("width",17*c+"em");a.dpDiv[(b[0]!=1||b[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var e=a.yearshtml;setTimeout(function(){e===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);e=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+i):0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1||d.expr.filters.hidden(a));){a=a[b?"previousSibling":"nextSibling"]}a=d(a).offset();return[a.left,a.top]},_triggerOnClose:function(a){var b=this._get(a,"onClose");if(b){b.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a])}},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker"))){if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null};d.effects&&d.effects[a]?b.dpDiv.hide(a,d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();d.datepicker._triggerOnClose(b);this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):0),c);this._updateDatepicker(e)}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus()},0);b._selectingMonthYear=!b._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c){c.apply(a.input?a.input[0]:null,[b,a])}else{a.input&&a.input.trigger("change")}if(a.inline){this._updateDatepicker(a)}else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/86400000)/7)+1},parseDate:function(a,b,c){if(a==null||b==null){throw"Invalid arguments"}b=typeof b=="object"?b.toString():b+"";if(b==""){return null}var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;e=typeof e!="string"?e:(new Date).getFullYear()%100+parseInt(e,10);for(var f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,g=(c?c.monthNames:null)||this._defaults.monthNames,j=c=-1,l=-1,u=-1,k=false,o=function(p){(p=B+1<a.length&&a.charAt(B+1)==p)&&B++;return p},m=function(p){var D=o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"&&D?4:p=="o"?3:2)+"}");p=b.substring(q).match(p);if(!p){throw"Missing number at position "+q}q+=p[0].length;return parseInt(p[0],10)},n=function(p,D,K){p=d.map(o(p)?K:D,function(w,x){return[[x,w]]}).sort(function(w,x){return -(w[1].length-x[1].length)});var E=-1;d.each(p,function(w,x){w=x[1];if(b.substr(q,w.length).toLowerCase()==w.toLowerCase()){E=x[0];q+=w.length;return false}});if(E!=-1){return E+1}else{throw"Unknown name at position "+q}},s=function(){if(b.charAt(q)!=a.charAt(B)){throw"Unexpected literal at position "+q}q++},q=0,B=0;B<a.length;B++){if(k){if(a.charAt(B)=="'"&&!o("'")){k=false}else{s()}}else{switch(a.charAt(B)){case"d":l=m("d");break;case"D":n("D",f,h);break;case"o":u=m("o");break;case"m":j=m("m");break;case"M":j=n("M",i,g);break;case"y":c=m("y");break;case"@":var v=new Date(m("@"));c=v.getFullYear();j=v.getMonth()+1;l=v.getDate();break;case"!":v=new Date((m("!")-this._ticksTo1970)/10000);c=v.getFullYear();j=v.getMonth()+1;l=v.getDate();break;case"'":if(o("'")){s()}else{k=true}break;default:s()}}}if(q<b.length){throw"Extra/unparsed characters found in date: "+b.substring(q)}if(c==-1){c=(new Date).getFullYear()}else{if(c<100){c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100)}}if(u>-1){j=1;l=u;do{e=this._getDaysInMonth(c,j-1);if(l<=e){break}j++;l-=e}while(1)}v=this._daylightSavingAdjust(new Date(c,j-1,l));if(v.getFullYear()!=c||v.getMonth()+1!=j||v.getDate()!=l){throw"Invalid date"}return v},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*10000000,formatDate:function(a,b,c){if(!b){return""}var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=k+1<a.length&&a.charAt(k+1)==o)&&k++;return o},g=function(o,m,n){m=""+m;if(i(o)){for(;m.length<n;){m="0"+m}}return m},j=function(o,m,n,s){return i(o)?s[m]:n[m]},l="",u=false;if(b){for(var k=0;k<a.length;k++){if(u){if(a.charAt(k)=="'"&&!i("'")){u=false}else{l+=a.charAt(k)}}else{switch(a.charAt(k)){case"d":l+=g("d",b.getDate(),2);break;case"D":l+=j("D",b.getDay(),e,f);break;case"o":l+=g("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/86400000),3);break;case"m":l+=g("m",b.getMonth()+1,2);break;case"M":l+=j("M",b.getMonth(),h,c);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=b.getTime()*10000+this._ticksTo1970;break;case"'":if(i("'")){l+="'"}else{u=true}break;default:l+=a.charAt(k)}}}}return l},_possibleChars:function(a){for(var b="",c=false,e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h},f=0;f<a.length;f++){if(c){if(a.charAt(f)=="'"&&!e("'")){c=false}else{b+=a.charAt(f)}}else{switch(a.charAt(f)){case"d":case"m":case"y":case"@":b+="0123456789";break;case"D":case"M":return null;case"'":if(e("'")){b+="'"}else{c=true}break;default:b+=a.charAt(f)}}}return b},_get:function(a,b){return a.settings[b]!==C?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g);e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,j=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=u.exec(h);k;){switch(k[2]||"d"){case"d":case"D":g+=parseInt(k[1],10);break;case"w":case"W":g+=parseInt(k[1],10)*7;break;case"m":case"M":l+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break;case"y":case"Y":j+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break}k=u.exec(h)}return new Date(j,l,g)};if(b=(b=b==null||b===""?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a){return null}a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c){this._notifyChange(a)}this._adjustInstDate(a);if(a.input){a.input.val(e?"":this._formatDate(a))}},_getDate:function(a){return !a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),k=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--}if(o){var n=this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=k&&n<k?k:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-j,1)),this._getFormatConfig(a));n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+A+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var s=this._get(a,"nextText");s=!h?s:this.formatDate(s,this._daylightSavingAdjust(new Date(m,g+j,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+A+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+s+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+s+"</span></a>";j=this._get(a,"currentText");s=this._get(a,"gotoCurrent")&&a.currentDay?u:b;j=!h?j:this.formatDate(j,s,this._getFormatConfig(a));h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+A+'.datepicker._hideDatepicker();">'+this._get(a,"closeText")+"</button>":"";e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,s)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+A+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;j=this._get(a,"showWeek");s=this._get(a,"dayNames");this._get(a,"dayNamesShort");var q=this._get(a,"dayNamesMin"),B=this._get(a,"monthNames"),v=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),D=this._get(a,"showOtherMonths"),K=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var E=this._getDefaultDate(a),w="",x=0;x<i[0];x++){var O="";this.maxRows=4;for(var G=0;G<i[1];G++){var P=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",y="";if(l){y+='<div class="ui-datepicker-group';if(i[1]>1){switch(G){case 0:y+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-1:y+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:y+=" ui-datepicker-group-middle";t="";break}}y+='">'}y+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&x==0?c?f:n:"")+(/all|right/.test(t)&&x==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,k,o,x>0||G>0,B,v)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var z=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var r=(t+h)%7;z+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+s[r]+'">'+q[r]+"</span></th>"}y+=z+"</tr></thead><tbody>";z=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth){a.selectedDay=Math.min(a.selectedDay,z)}t=(this._getFirstDayOfMonth(m,g)-h+7)%7;z=Math.ceil((t+z)/7);this.maxRows=z=l?this.maxRows>z?this.maxRows:z:z;r=this._daylightSavingAdjust(new Date(m,g,1-t));for(var Q=0;Q<z;Q++){y+="<tr>";var R=!j?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(r)+"</td>";for(t=0;t<7;t++){var I=p?p.apply(a.input?a.input[0]:null,[r]):[true,""],F=r.getMonth()!=g,L=F&&!K||!I[0]||k&&r<k||o&&r>o;R+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(r.getTime()==P.getTime()&&g==a.selectedMonth&&a._keyEvent||E.getTime()==r.getTime()&&E.getTime()==P.getTime()?" "+this._dayOverClass:"")+(L?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!D?"":" "+I[1]+(r.getTime()==u.getTime()?" "+this._currentClass:"")+(r.getTime()==b.getTime()?" ui-datepicker-today":""))+'"'+((!F||D)&&I[2]?' title="'+I[2]+'"':"")+(L?"":' onclick="DP_jQuery_'+A+".datepicker._selectDay('#"+a.id+"',"+r.getMonth()+","+r.getFullYear()+', this);return false;"')+">"+(F&&!D?"&#xa0;":L?'<span class="ui-state-default">'+r.getDate()+"</span>":'<a class="ui-state-default'+(r.getTime()==b.getTime()?" ui-state-highlight":"")+(r.getTime()==u.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+'" href="#">'+r.getDate()+"</a>")+"</td>";r.setDate(r.getDate()+1);r=this._daylightSavingAdjust(r)}y+=R+"</tr>"}g++;if(g>11){g=0;m++}y+="</tbody></table>"+(l?"</div>"+(i[0]>0&&G==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");O+=y}w+=O}w+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");a._keyEvent=false;return w},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var j=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),k='<div class="ui-datepicker-title">',o="";if(h||!j){o+='<span class="ui-datepicker-month">'+i[b]+"</span>"}else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+A+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+A+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var n=0;n<12;n++){if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth())){o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>"}}o+="</select>"}u||(k+=o+(h||!(j&&l)?"&#xa0;":""));if(!a.yearshtml){a.yearshtml="";if(h||!l){k+='<span class="ui-datepicker-year">'+c+"</span>"}else{g=this._get(a,"yearRange").split(":");var s=(new Date).getFullYear();i=function(q){q=q.match(/c[+-].*/)?c+parseInt(q.substring(1),10):q.match(/[+-].*/)?s+parseInt(q,10):parseInt(q,10);return isNaN(q)?s:q};b=i(g[0]);g=Math.max(b,i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+A+".datepicker._selectMonthYear('#"+a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+A+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++){a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>"}a.yearshtml+="</select>";k+=a.yearshtml;a.yearshtml=null}}k+=this._get(a,"yearSuffix");if(u){k+=(h||!(j&&l)?"&#xa0;":"")+o}k+="</div>";return k},_adjustInstDate:function(a,b,c){var e=a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y"){this._notifyChange(a)}},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");if(b){b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])}},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=function(a){if(!this.length){return this}if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget")){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string"){return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b))}return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new M;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="1.8.14";window["DP_jQuery_"+A]=d})(jQuery);jQuery(function(a){a.datepicker.regional.es={closeText:"Cerrar",prevText:"&#x3c;Ant",nextText:"Sig&#x3e;",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Mi&eacute;rcoles","Jueves","Viernes","S&aacute;bado"],dayNamesShort:["Dom","Lun","Mar","Mi&eacute;","Juv","Vie","S&aacute;b"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","S&aacute;"],weekHeader:"Sm",dateFormat:"dd/mm/yy",firstDay:1,isRTL:false,showMonthAfterYear:false,yearSuffix:""};a.datepicker.setDefaults(a.datepicker.regional.es)});var s3_upload_swfobject=function(){var aq="undefined",aD="object",ab="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",aE="application/x-shockwave-flash",ac="SWFObjectExprInst",ax="onreadystatechange",af=window,aL=document,aB=navigator,aa=false,Z=[aN],aG=[],ag=[],al=[],aJ,ad,ap,at,ak=false,aU=false,aH,an,aI=true,ah=function(){var a=typeof aL.getElementById!=aq&&typeof aL.getElementsByTagName!=aq&&typeof aL.createElement!=aq,e=aB.userAgent.toLowerCase(),c=aB.platform.toLowerCase(),h=c?/win/.test(c):/win/.test(e),j=c?/mac/.test(c):/mac/.test(e),g=/webkit/.test(e)?parseFloat(e.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,d=!+"\v1",f=[0,0,0],k=null;if(typeof aB.plugins!=aq&&typeof aB.plugins[ab]==aD){k=aB.plugins[ab].description;if(k&&!(typeof aB.mimeTypes!=aq&&aB.mimeTypes[aE]&&!aB.mimeTypes[aE].enabledPlugin)){aa=true;d=false;k=k.replace(/^.*\s+(\S+\s+\S+$)/,"$1");f[0]=parseInt(k.replace(/^(.*)\..*$/,"$1"),10);f[1]=parseInt(k.replace(/^.*\.(.*)\s.*$/,"$1"),10);f[2]=/[a-zA-Z]/.test(k)?parseInt(k.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof af.ActiveXObject!=aq){try{var i=new ActiveXObject(X);if(i){k=i.GetVariable("$version");if(k){d=true;k=k.split(" ")[1].split(",");f=[parseInt(k[0],10),parseInt(k[1],10),parseInt(k[2],10)]}}}catch(b){}}}return{w3:a,pv:f,wk:g,ie:d,win:h,mac:j}}(),aK=function(){if(!ah.w3){return}if((typeof aL.readyState!=aq&&aL.readyState=="complete")||(typeof aL.readyState==aq&&(aL.getElementsByTagName("body")[0]||aL.body))){aP()}if(!ak){if(typeof aL.addEventListener!=aq){aL.addEventListener("DOMContentLoaded",aP,false)}if(ah.ie&&ah.win){aL.attachEvent(ax,function(){if(aL.readyState=="complete"){aL.detachEvent(ax,arguments.callee);aP()}});if(af==top){(function(){if(ak){return}try{aL.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}aP()})()}}if(ah.wk){(function(){if(ak){return}if(!/loaded|complete/.test(aL.readyState)){setTimeout(arguments.callee,0);return}aP()})()}aC(aP)}}();function aP(){if(ak){return}try{var b=aL.getElementsByTagName("body")[0].appendChild(ar("span"));b.parentNode.removeChild(b)}catch(a){return}ak=true;var d=Z.length;for(var c=0;c<d;c++){Z[c]()}}function aj(a){if(ak){a()}else{Z[Z.length]=a}}function aC(a){if(typeof af.addEventListener!=aq){af.addEventListener("load",a,false)}else{if(typeof aL.addEventListener!=aq){aL.addEventListener("load",a,false)}else{if(typeof af.attachEvent!=aq){aM(af,"onload",a)}else{if(typeof af.onload=="function"){var b=af.onload;af.onload=function(){b();a()}}else{af.onload=a}}}}}function aN(){if(aa){Y()}else{am()}}function Y(){var d=aL.getElementsByTagName("body")[0];var b=ar(aD);b.setAttribute("type",aE);var a=d.appendChild(b);if(a){var c=0;(function(){if(typeof a.GetVariable!=aq){var e=a.GetVariable("$version");if(e){e=e.split(" ")[1].split(",");ah.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]}}else{if(c<10){c++;setTimeout(arguments.callee,10);return}}d.removeChild(b);a=null;am()})()}else{am()}}function am(){var g=aG.length;if(g>0){for(var h=0;h<g;h++){var c=aG[h].id;var l=aG[h].callbackFn;var a={success:false,id:c};if(ah.pv[0]>0){var i=aS(c);if(i){if(ao(aG[h].swfVersion)&&!(ah.wk&&ah.wk<312)){ay(c,true);if(l){a.success=true;a.ref=av(c);l(a)}}else{if(aG[h].expressInstall&&au()){var e={};e.data=aG[h].expressInstall;e.width=i.getAttribute("width")||"0";e.height=i.getAttribute("height")||"0";if(i.getAttribute("class")){e.styleclass=i.getAttribute("class")}if(i.getAttribute("align")){e.align=i.getAttribute("align")}var f={};var d=i.getElementsByTagName("param");var k=d.length;for(var j=0;j<k;j++){if(d[j].getAttribute("name").toLowerCase()!="movie"){f[d[j].getAttribute("name")]=d[j].getAttribute("value")}}ae(e,f,c,l)}else{aF(i);if(l){l(a)}}}}}else{ay(c,true);if(l){var b=av(c);if(b&&typeof b.SetVariable!=aq){a.success=true;a.ref=b}l(a)}}}}}function av(b){var d=null;var c=aS(b);if(c&&c.nodeName=="OBJECT"){if(typeof c.SetVariable!=aq){d=c}else{var a=c.getElementsByTagName(aD)[0];if(a){d=a}}}return d}function au(){return !aU&&ao("6.0.65")&&(ah.win||ah.mac)&&!(ah.wk&&ah.wk<312)}function ae(f,d,h,e){aU=true;ap=e||null;at={success:false,id:h};var a=aS(h);if(a){if(a.nodeName=="OBJECT"){aJ=aO(a);ad=null}else{aJ=a;ad=h}f.id=ac;if(typeof f.width==aq||(!/%$/.test(f.width)&&parseInt(f.width,10)<310)){f.width="310"}if(typeof f.height==aq||(!/%$/.test(f.height)&&parseInt(f.height,10)<137)){f.height="137"}aL.title=aL.title.slice(0,47)+" - Flash Player Installation";var b=ah.ie&&ah.win?"ActiveX":"PlugIn",c="MMredirectURL="+af.location.toString().replace(/&/g,"%26")+"&MMplayerType="+b+"&MMdoctitle="+aL.title;if(typeof d.flashvars!=aq){d.flashvars+="&"+c}else{d.flashvars=c}if(ah.ie&&ah.win&&a.readyState!=4){var g=ar("div");h+="SWFObjectNew";g.setAttribute("id",h);a.parentNode.insertBefore(g,a);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}aA(f,d,h)}}function aF(a){if(ah.ie&&ah.win&&a.readyState!=4){var b=ar("div");a.parentNode.insertBefore(b,a);b.parentNode.replaceChild(aO(a),b);a.style.display="none";(function(){if(a.readyState==4){a.parentNode.removeChild(a)}else{setTimeout(arguments.callee,10)}})()}else{a.parentNode.replaceChild(aO(a),a)}}function aO(b){var d=ar("div");if(ah.win&&ah.ie){d.innerHTML=b.innerHTML}else{var e=b.getElementsByTagName(aD)[0];if(e){var a=e.childNodes;if(a){var f=a.length;for(var c=0;c<f;c++){if(!(a[c].nodeType==1&&a[c].nodeName=="PARAM")&&!(a[c].nodeType==8)){d.appendChild(a[c].cloneNode(true))}}}}}return d}function aA(e,g,c){var d,a=aS(c);if(ah.wk&&ah.wk<312){return d}if(a){if(typeof e.id==aq){e.id=c}if(ah.ie&&ah.win){var f="";for(var i in e){if(e[i]!=Object.prototype[i]){if(i.toLowerCase()=="data"){g.movie=e[i]}else{if(i.toLowerCase()=="styleclass"){f+=' class="'+e[i]+'"'}else{if(i.toLowerCase()!="classid"){f+=" "+i+'="'+e[i]+'"'}}}}}var h="";for(var j in g){if(g[j]!=Object.prototype[j]){h+='<param name="'+j+'" value="'+g[j]+'" />'}}a.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+f+">"+h+"</object>";ag[ag.length]=e.id;d=aS(e.id)}else{var b=ar(aD);b.setAttribute("type",aE);for(var k in e){if(e[k]!=Object.prototype[k]){if(k.toLowerCase()=="styleclass"){b.setAttribute("class",e[k])}else{if(k.toLowerCase()!="classid"){b.setAttribute(k,e[k])}}}}for(var l in g){if(g[l]!=Object.prototype[l]&&l.toLowerCase()!="movie"){aQ(b,l,g[l])}}a.parentNode.replaceChild(b,a);d=b}}return d}function aQ(b,d,c){var a=ar("param");a.setAttribute("name",d);a.setAttribute("value",c);b.appendChild(a)}function aw(a){var b=aS(a);if(b&&b.nodeName=="OBJECT"){if(ah.ie&&ah.win){b.style.display="none";(function(){if(b.readyState==4){aT(a)}else{setTimeout(arguments.callee,10)}})()}else{b.parentNode.removeChild(b)}}}function aT(a){var b=aS(a);if(b){for(var c in b){if(typeof b[c]=="function"){b[c]=null}}b.parentNode.removeChild(b)}}function aS(a){var c=null;try{c=aL.getElementById(a)}catch(b){}return c}function ar(a){return aL.createElement(a)}function aM(a,c,b){a.attachEvent(c,b);al[al.length]=[a,c,b]}function ao(a){var b=ah.pv,c=a.split(".");c[0]=parseInt(c[0],10);c[1]=parseInt(c[1],10)||0;c[2]=parseInt(c[2],10)||0;return(b[0]>c[0]||(b[0]==c[0]&&b[1]>c[1])||(b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]))?true:false}function az(b,f,a,c){if(ah.ie&&ah.mac){return}var e=aL.getElementsByTagName("head")[0];if(!e){return}var g=(a&&typeof a=="string")?a:"screen";if(c){aH=null;an=null}if(!aH||an!=g){var d=ar("style");d.setAttribute("type","text/css");d.setAttribute("media",g);aH=e.appendChild(d);if(ah.ie&&ah.win&&typeof aL.styleSheets!=aq&&aL.styleSheets.length>0){aH=aL.styleSheets[aL.styleSheets.length-1]}an=g}if(ah.ie&&ah.win){if(aH&&typeof aH.addRule==aD){aH.addRule(b,f)}}else{if(aH&&typeof aL.createTextNode!=aq){aH.appendChild(aL.createTextNode(b+" {"+f+"}"))}}}function ay(a,c){if(!aI){return}var b=c?"visible":"hidden";if(ak&&aS(a)){aS(a).style.visibility=b}else{az("#"+a,"visibility:"+b)}}function ai(b){var a=/[\\\"<>\.;]/;var c=a.exec(b)!=null;return c&&typeof encodeURIComponent!=aq?encodeURIComponent(b):b}var aR=function(){if(ah.ie&&ah.win){window.attachEvent("onunload",function(){var a=al.length;for(var b=0;b<a;b++){al[b][0].detachEvent(al[b][1],al[b][2])}var d=ag.length;for(var c=0;c<d;c++){aw(ag[c])}for(var e in ah){ah[e]=null}ah=null;for(var f in swfobject){swfobject[f]=null}swfobject=null})}}();return{registerObject:function(a,e,c,b){if(ah.w3&&a&&e){var d={};d.id=a;d.swfVersion=e;d.expressInstall=c;d.callbackFn=b;aG[aG.length]=d;ay(a,false)}else{if(b){b({success:false,id:a})}}},getObjectById:function(a){if(ah.w3){return av(a)}},embedSWF:function(k,e,h,f,c,a,b,i,g,j){var d={success:false,id:e};if(ah.w3&&!(ah.wk&&ah.wk<312)&&k&&e&&h&&f&&c){ay(e,false);aj(function(){h+="";f+="";var q={};if(g&&typeof g===aD){for(var o in g){q[o]=g[o]}}q.data=k;q.width=h;q.height=f;var n={};if(i&&typeof i===aD){for(var p in i){n[p]=i[p]}}if(b&&typeof b===aD){for(var l in b){if(typeof n.flashvars!=aq){n.flashvars+="&"+l+"="+b[l]}else{n.flashvars=l+"="+b[l]}}}if(ao(c)){var m=aA(q,n,e);if(q.id==e){ay(e,true)}d.success=true;d.ref=m}else{if(a&&au()){q.data=a;ae(q,n,e,j);return}else{ay(e,true)}}if(j){j(d)}})}else{if(j){j(d)}}},switchOffAutoHideShow:function(){aI=false},ua:ah,getFlashPlayerVersion:function(){return{major:ah.pv[0],minor:ah.pv[1],release:ah.pv[2]}},hasFlashPlayerVersion:ao,createSWF:function(a,b,c){if(ah.w3){return aA(a,b,c)}else{return undefined}},showExpressInstall:function(b,a,d,c){if(ah.w3&&au()){ae(b,a,d,c)}},removeSWF:function(a){if(ah.w3){aw(a)}},createCSS:function(b,a,c,d){if(ah.w3){az(b,a,c,d)}},addDomLoadEvent:aj,addLoadEvent:aC,getQueryParamValue:function(b){var a=aL.location.search||aL.location.hash;if(a){if(/\?/.test(a)){a=a.split("?")[1]}if(b==null){return ai(a)}var c=a.split("&");for(var d=0;d<c.length;d++){if(c[d].substring(0,c[d].indexOf("="))==b){return ai(c[d].substring((c[d].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(aU){var a=aS(ac);if(a&&aJ){a.parentNode.replaceChild(aJ,a);if(ad){ay(ad,true);if(ah.ie&&ah.win){aJ.style.display="block"}}if(ap){ap(at)}}aU=false}}}}();var s3_swf;function s3_swf_init(C,t){var q=(t.buttonWidth!=undefined)?t.buttonWidth:50;var P=(t.buttonHeight!=undefined)?t.buttonHeight:50;var h=(t.flashVersion!=undefined)?t.flashVersion:"9.0.0";var f=(t.queueSizeLimit!=undefined)?t.queueSizeLimit:10;var o=(t.fileSizeLimit!=undefined)?t.fileSizeLimit:524288000;var y=(t.fileTypes!=undefined)?t.fileTypes:"*.*";var M=(t.fileTypeDescs!=undefined)?t.fileTypeDescs:"All Files";var n=(t.selectMultipleFiles!=undefined)?t.selectMultipleFiles:true;var a=(t.keyPrefix!=undefined)?t.keyPrefix:"";var w=(t.signaturePath!=undefined)?t.signaturePath:"s3_uploads.xml";var N=(t.swfFilePath!=undefined)?t.swfFilePath:"/flash/s3_upload.swf";var j=(t.buttonUpPath!=undefined)?t.buttonUpPath:"";var z=(t.buttonOverPath!=undefined)?t.buttonOverPath:"";var e=(t.buttonDownPath!=undefined)?t.buttonDownPath:"";var U=(t.onFileAdd!=undefined)?t.onFileAdd:function(W){};var H=(t.onFileRemove!=undefined)?t.onFileRemove:function(W){};var J=(t.onFileSizeLimitReached!=undefined)?t.onFileSizeLimitReached:function(W){};var m=(t.onFileNotInQueue!=undefined)?t.onFileNotInQueue:function(W){};var E=(t.onQueueChange!=undefined)?t.onQueueChange:function(W){};var l=(t.onQueueClear!=undefined)?t.onQueueClear:function(W){};var d=(t.onQueueSizeLimitReached!=undefined)?t.onQueueSizeLimitReached:function(W){};var x=(t.onQueueEmpty!=undefined)?t.onQueueEmpty:function(W){};var v=(t.onUploadingStop!=undefined)?t.onUploadingStop:function(){};var G=(t.onUploadingStart!=undefined)?t.onUploadingStart:function(){};var O=(t.onUploadingFinish!=undefined)?t.onUploadingFinish:function(){};var S=(t.onSignatureOpen!=undefined)?t.onSignatureOpen:function(W,X){};var c=(t.onSignatureProgress!=undefined)?t.onSignatureProgress:function(W,X){};var Q=(t.onSignatureHttpStatus!=undefined)?t.onSignatureHttpStatus:function(X,W){};var R=(t.onSignatureComplete!=undefined)?t.onSignatureComplete:function(W,X){};var u=(t.onSignatureSecurityError!=undefined)?t.onSignatureSecurityError:function(W,X){};var s=(t.onSignatureIOError!=undefined)?t.onSignatureIOError:function(W,X){};var B=(t.onSignatureXMLError!=undefined)?t.onSignatureXMLError:function(W,X){};var V=(t.onUploadOpen!=undefined)?t.onUploadOpen:function(X,W){};var L=(t.onUploadProgress!=undefined)?t.onUploadProgress:function(X,W){};var K=(t.onUploadHttpStatus!=undefined)?t.onUploadHttpStatus:function(X,W){};var D=(t.onUploadComplete!=undefined)?t.onUploadComplete:function(X,W){};var A=(t.onUploadIOError!=undefined)?t.onUploadIOError:function(X,W){};var T=(t.onUploadSecurityError!=undefined)?t.onUploadSecurityError:function(W,X){};var k=(t.onUploadError!=undefined)?t.onUploadError:function(X,W){};var I={s3_swf_obj:(t.swfVarObj!=undefined?t.swfVarObj:"s3_swf")};var b={};var F={};b.wmode="transparent";b.menu="false";b.quality="low";s3_upload_swfobject.embedSWF(N+"?t="+new Date().getTime(),C,q,P,h,false,I,b,F);var p=window.location.protocol+"//"+window.location.host+w;var g=window.location.protocol+"//"+window.location.host+j;var i=window.location.protocol+"//"+window.location.host+e;var r=window.location.protocol+"//"+window.location.host+z;s3_swf={obj:function(){return document[C]},init:function(){this.obj().init(p,a,o,f,y,M,n,q,P,g,i,r)},clearQueue:function(){this.obj().clearQueue()},startUploading:function(){this.obj().startUploading()},stopUploading:function(){this.obj().stopUploading()},removeFileFromQueue:function(W){this.obj().removeFileFromQueue(W)},onFileAdd:U,onFileRemove:H,onFileSizeLimitReached:J,onFileNotInQueue:m,onQueueChange:E,onQueueClear:l,onQueueSizeLimitReached:d,onQueueEmpty:x,onUploadingStop:v,onUploadingStart:G,onUploadingFinish:O,onSignatureOpen:S,onSignatureProgress:c,onSignatureHttpStatus:Q,onSignatureComplete:R,onSignatureSecurityError:u,onSignatureIOError:s,onSignatureXMLError:B,onUploadOpen:V,onUploadProgress:L,onUploadHttpStatus:K,onUploadComplete:D,onUploadIOError:A,onUploadSecurityError:T,onUploadError:k};return(s3_swf)};